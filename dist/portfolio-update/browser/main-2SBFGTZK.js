var xk=Object.create;var Ig=Object.defineProperty,Rk=Object.defineProperties,Mk=Object.getOwnPropertyDescriptor,Nk=Object.getOwnPropertyDescriptors,Pk=Object.getOwnPropertyNames,D0=Object.getOwnPropertySymbols,A0=Object.getPrototypeOf,x0=Object.prototype.hasOwnProperty,Ok=Object.prototype.propertyIsEnumerable,kk=Reflect.get;var S0=(t,e,n)=>e in t?Ig(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G=(t,e)=>{for(var n in e||={})x0.call(e,n)&&S0(t,n,e[n]);if(D0)for(var n of D0(e))Ok.call(e,n)&&S0(t,n,e[n]);return t},Ye=(t,e)=>Rk(t,Nk(e));var Fk=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Lk=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Pk(e))!x0.call(t,i)&&i!==n&&Ig(t,i,{get:()=>e[i],enumerable:!(r=Mk(e,i))||r.enumerable});return t};var Vk=(t,e,n)=>(n=t!=null?xk(A0(t)):{},Lk(e||!t||!t.__esModule?Ig(n,"default",{value:t,enumerable:!0}):n,t));var yi=(t,e,n)=>kk(A0(t),n,e);var A=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(d){i(d)}},o=u=>{try{a(n.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var rO=Fk((nO,Wp)=>{"use strict";(function(t,e){"use strict";typeof Wp=="object"&&typeof Wp.exports=="object"?Wp.exports=t.document?e(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return e(n)}:e(t)})(typeof window<"u"?window:nO,function(t,e){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,s=n.flat?function(c){return n.flat.call(c)}:function(c){return n.concat.apply([],c)},o=n.push,a=n.indexOf,u={},d=u.toString,p=u.hasOwnProperty,m=p.toString,w=m.call(Object),I={},S=function(l){return typeof l=="function"&&typeof l.nodeType!="number"&&typeof l.item!="function"},F=function(l){return l!=null&&l===l.window},P=t.document,K={type:!0,src:!0,nonce:!0,noModule:!0};function ve(c,l,h){h=h||P;var f,y,v=h.createElement("script");if(v.text=c,l)for(f in K)y=l[f]||l.getAttribute&&l.getAttribute(f),y&&v.setAttribute(f,y);h.head.appendChild(v).parentNode.removeChild(v)}function Ie(c){return c==null?c+"":typeof c=="object"||typeof c=="function"?u[d.call(c)]||"object":typeof c}var je="3.7.1",ot=/HTML$/i,g=function(c,l){return new g.fn.init(c,l)};g.fn=g.prototype={jquery:je,constructor:g,length:0,toArray:function(){return i.call(this)},get:function(c){return c==null?i.call(this):c<0?this[c+this.length]:this[c]},pushStack:function(c){var l=g.merge(this.constructor(),c);return l.prevObject=this,l},each:function(c){return g.each(this,c)},map:function(c){return this.pushStack(g.map(this,function(l,h){return c.call(l,h,l)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(c,l){return(l+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(c,l){return l%2}))},eq:function(c){var l=this.length,h=+c+(c<0?l:0);return this.pushStack(h>=0&&h<l?[this[h]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},g.extend=g.fn.extend=function(){var c,l,h,f,y,v,_=arguments[0]||{},T=1,C=arguments.length,D=!1;for(typeof _=="boolean"&&(D=_,_=arguments[T]||{},T++),typeof _!="object"&&!S(_)&&(_={}),T===C&&(_=this,T--);T<C;T++)if((c=arguments[T])!=null)for(l in c)f=c[l],!(l==="__proto__"||_===f)&&(D&&f&&(g.isPlainObject(f)||(y=Array.isArray(f)))?(h=_[l],y&&!Array.isArray(h)?v=[]:!y&&!g.isPlainObject(h)?v={}:v=h,y=!1,_[l]=g.extend(D,v,f)):f!==void 0&&(_[l]=f));return _},g.extend({expando:"jQuery"+(je+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw new Error(c)},noop:function(){},isPlainObject:function(c){var l,h;return!c||d.call(c)!=="[object Object]"?!1:(l=r(c),l?(h=p.call(l,"constructor")&&l.constructor,typeof h=="function"&&m.call(h)===w):!0)},isEmptyObject:function(c){var l;for(l in c)return!1;return!0},globalEval:function(c,l,h){ve(c,{nonce:l&&l.nonce},h)},each:function(c,l){var h,f=0;if(Ot(c))for(h=c.length;f<h&&l.call(c[f],f,c[f])!==!1;f++);else for(f in c)if(l.call(c[f],f,c[f])===!1)break;return c},text:function(c){var l,h="",f=0,y=c.nodeType;if(!y)for(;l=c[f++];)h+=g.text(l);return y===1||y===11?c.textContent:y===9?c.documentElement.textContent:y===3||y===4?c.nodeValue:h},makeArray:function(c,l){var h=l||[];return c!=null&&(Ot(Object(c))?g.merge(h,typeof c=="string"?[c]:c):o.call(h,c)),h},inArray:function(c,l,h){return l==null?-1:a.call(l,c,h)},isXMLDoc:function(c){var l=c&&c.namespaceURI,h=c&&(c.ownerDocument||c).documentElement;return!ot.test(l||h&&h.nodeName||"HTML")},merge:function(c,l){for(var h=+l.length,f=0,y=c.length;f<h;f++)c[y++]=l[f];return c.length=y,c},grep:function(c,l,h){for(var f,y=[],v=0,_=c.length,T=!h;v<_;v++)f=!l(c[v],v),f!==T&&y.push(c[v]);return y},map:function(c,l,h){var f,y,v=0,_=[];if(Ot(c))for(f=c.length;v<f;v++)y=l(c[v],v,h),y!=null&&_.push(y);else for(v in c)y=l(c[v],v,h),y!=null&&_.push(y);return s(_)},guid:1,support:I}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=n[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,l){u["[object "+l+"]"]=l.toLowerCase()});function Ot(c){var l=!!c&&"length"in c&&c.length,h=Ie(c);return S(c)||F(c)?!1:h==="array"||l===0||typeof l=="number"&&l>0&&l-1 in c}function Ne(c,l){return c.nodeName&&c.nodeName.toLowerCase()===l.toLowerCase()}var $r=n.pop,ao=n.sort,bO=n.splice,Qe="[\\x20\\t\\r\\n\\f]",ec=new RegExp("^"+Qe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Qe+"+$","g");g.contains=function(c,l){var h=l&&l.parentNode;return c===h||!!(h&&h.nodeType===1&&(c.contains?c.contains(h):c.compareDocumentPosition&&c.compareDocumentPosition(h)&16))};var DO=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function SO(c,l){return l?c==="\0"?"\uFFFD":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c}g.escapeSelector=function(c){return(c+"").replace(DO,SO)};var Hr=P,Zp=o;(function(){var c,l,h,f,y,v=Zp,_,T,C,D,N,k=g.expando,R=0,L=0,ce=Gl(),Pe=Gl(),_e=Gl(),kt=Gl(),It=function(E,b){return E===b&&(y=!0),0},lr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",dr="(?:\\\\[\\da-fA-F]{1,6}"+Qe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Se="\\["+Qe+"*("+dr+")(?:"+Qe+"*([*^$|!~]?=)"+Qe+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+dr+"))|)"+Qe+"*\\]",ts=":("+dr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Se+")*)|.*)\\)|)",Ue=new RegExp(Qe+"+","g"),ct=new RegExp("^"+Qe+"*,"+Qe+"*"),uc=new RegExp("^"+Qe+"*([>+~]|"+Qe+")"+Qe+"*"),gg=new RegExp(Qe+"|>"),hr=new RegExp(ts),lc=new RegExp("^"+dr+"$"),fr={ID:new RegExp("^#("+dr+")"),CLASS:new RegExp("^\\.("+dr+")"),TAG:new RegExp("^("+dr+"|[*])"),ATTR:new RegExp("^"+Se),PSEUDO:new RegExp("^"+ts),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Qe+"*(even|odd|(([+-]|)(\\d*)n|)"+Qe+"*(?:([+-]|)"+Qe+"*(\\d+)|))"+Qe+"*\\)|)","i"),bool:new RegExp("^(?:"+lr+")$","i"),needsContext:new RegExp("^"+Qe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Qe+"*((?:-\\d)?\\d*)"+Qe+"*\\)|)(?=[^-]|$)","i")},pi=/^(?:input|select|textarea|button)$/i,gi=/^h\d$/i,An=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mg=/[+~]/,Wr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Qe+"?|\\\\([^\\r\\n\\f])","g"),Gr=function(E,b){var x="0x"+E.slice(1)-65536;return b||(x<0?String.fromCharCode(x+65536):String.fromCharCode(x>>10|55296,x&1023|56320))},Ik=function(){mi()},Ck=Ql(function(E){return E.disabled===!0&&Ne(E,"fieldset")},{dir:"parentNode",next:"legend"});function Tk(){try{return _.activeElement}catch{}}try{v.apply(n=i.call(Hr.childNodes),Hr.childNodes),n[Hr.childNodes.length].nodeType}catch{v={apply:function(b,x){Zp.apply(b,i.call(x))},call:function(b){Zp.apply(b,i.call(arguments,1))}}}function Ge(E,b,x,M){var O,j,H,Y,q,be,re,ue=b&&b.ownerDocument,De=b?b.nodeType:9;if(x=x||[],typeof E!="string"||!E||De!==1&&De!==9&&De!==11)return x;if(!M&&(mi(b),b=b||_,C)){if(De!==11&&(q=An.exec(E)))if(O=q[1]){if(De===9)if(H=b.getElementById(O)){if(H.id===O)return v.call(x,H),x}else return x;else if(ue&&(H=ue.getElementById(O))&&Ge.contains(b,H)&&H.id===O)return v.call(x,H),x}else{if(q[2])return v.apply(x,b.getElementsByTagName(E)),x;if((O=q[3])&&b.getElementsByClassName)return v.apply(x,b.getElementsByClassName(O)),x}if(!kt[E+" "]&&(!D||!D.test(E))){if(re=E,ue=b,De===1&&(gg.test(E)||uc.test(E))){for(ue=mg.test(E)&&yg(b.parentNode)||b,(ue!=b||!I.scope)&&((Y=b.getAttribute("id"))?Y=g.escapeSelector(Y):b.setAttribute("id",Y=k)),be=dc(E),j=be.length;j--;)be[j]=(Y?"#"+Y:":scope")+" "+Kl(be[j]);re=be.join(",")}try{return v.apply(x,ue.querySelectorAll(re)),x}catch{kt(E,!0)}finally{Y===k&&b.removeAttribute("id")}}}return b0(E.replace(ec,"$1"),b,x,M)}function Gl(){var E=[];function b(x,M){return E.push(x+" ")>l.cacheLength&&delete b[E.shift()],b[x+" "]=M}return b}function Hn(E){return E[k]=!0,E}function yo(E){var b=_.createElement("fieldset");try{return!!E(b)}catch{return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function bk(E){return function(b){return Ne(b,"input")&&b.type===E}}function Dk(E){return function(b){return(Ne(b,"input")||Ne(b,"button"))&&b.type===E}}function C0(E){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===E:b.disabled===E:b.isDisabled===E||b.isDisabled!==!E&&Ck(b)===E:b.disabled===E:"label"in b?b.disabled===E:!1}}function ns(E){return Hn(function(b){return b=+b,Hn(function(x,M){for(var O,j=E([],x.length,b),H=j.length;H--;)x[O=j[H]]&&(x[O]=!(M[O]=x[O]))})})}function yg(E){return E&&typeof E.getElementsByTagName<"u"&&E}function mi(E){var b,x=E?E.ownerDocument||E:Hr;return x==_||x.nodeType!==9||!x.documentElement||(_=x,T=_.documentElement,C=!g.isXMLDoc(_),N=T.matches||T.webkitMatchesSelector||T.msMatchesSelector,T.msMatchesSelector&&Hr!=_&&(b=_.defaultView)&&b.top!==b&&b.addEventListener("unload",Ik),I.getById=yo(function(M){return T.appendChild(M).id=g.expando,!_.getElementsByName||!_.getElementsByName(g.expando).length}),I.disconnectedMatch=yo(function(M){return N.call(M,"*")}),I.scope=yo(function(){return _.querySelectorAll(":scope")}),I.cssHas=yo(function(){try{return _.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),I.getById?(l.filter.ID=function(M){var O=M.replace(Wr,Gr);return function(j){return j.getAttribute("id")===O}},l.find.ID=function(M,O){if(typeof O.getElementById<"u"&&C){var j=O.getElementById(M);return j?[j]:[]}}):(l.filter.ID=function(M){var O=M.replace(Wr,Gr);return function(j){var H=typeof j.getAttributeNode<"u"&&j.getAttributeNode("id");return H&&H.value===O}},l.find.ID=function(M,O){if(typeof O.getElementById<"u"&&C){var j,H,Y,q=O.getElementById(M);if(q){if(j=q.getAttributeNode("id"),j&&j.value===M)return[q];for(Y=O.getElementsByName(M),H=0;q=Y[H++];)if(j=q.getAttributeNode("id"),j&&j.value===M)return[q]}return[]}}),l.find.TAG=function(M,O){return typeof O.getElementsByTagName<"u"?O.getElementsByTagName(M):O.querySelectorAll(M)},l.find.CLASS=function(M,O){if(typeof O.getElementsByClassName<"u"&&C)return O.getElementsByClassName(M)},D=[],yo(function(M){var O;T.appendChild(M).innerHTML="<a id='"+k+"' href='' disabled='disabled'></a><select id='"+k+"-\r\\' disabled='disabled'><option selected=''></option></select>",M.querySelectorAll("[selected]").length||D.push("\\["+Qe+"*(?:value|"+lr+")"),M.querySelectorAll("[id~="+k+"-]").length||D.push("~="),M.querySelectorAll("a#"+k+"+*").length||D.push(".#.+[+~]"),M.querySelectorAll(":checked").length||D.push(":checked"),O=_.createElement("input"),O.setAttribute("type","hidden"),M.appendChild(O).setAttribute("name","D"),T.appendChild(M).disabled=!0,M.querySelectorAll(":disabled").length!==2&&D.push(":enabled",":disabled"),O=_.createElement("input"),O.setAttribute("name",""),M.appendChild(O),M.querySelectorAll("[name='']").length||D.push("\\["+Qe+"*name"+Qe+"*="+Qe+`*(?:''|"")`)}),I.cssHas||D.push(":has"),D=D.length&&new RegExp(D.join("|")),It=function(M,O){if(M===O)return y=!0,0;var j=!M.compareDocumentPosition-!O.compareDocumentPosition;return j||(j=(M.ownerDocument||M)==(O.ownerDocument||O)?M.compareDocumentPosition(O):1,j&1||!I.sortDetached&&O.compareDocumentPosition(M)===j?M===_||M.ownerDocument==Hr&&Ge.contains(Hr,M)?-1:O===_||O.ownerDocument==Hr&&Ge.contains(Hr,O)?1:f?a.call(f,M)-a.call(f,O):0:j&4?-1:1)}),_}Ge.matches=function(E,b){return Ge(E,null,null,b)},Ge.matchesSelector=function(E,b){if(mi(E),C&&!kt[b+" "]&&(!D||!D.test(b)))try{var x=N.call(E,b);if(x||I.disconnectedMatch||E.document&&E.document.nodeType!==11)return x}catch{kt(b,!0)}return Ge(b,_,null,[E]).length>0},Ge.contains=function(E,b){return(E.ownerDocument||E)!=_&&mi(E),g.contains(E,b)},Ge.attr=function(E,b){(E.ownerDocument||E)!=_&&mi(E);var x=l.attrHandle[b.toLowerCase()],M=x&&p.call(l.attrHandle,b.toLowerCase())?x(E,b,!C):void 0;return M!==void 0?M:E.getAttribute(b)},Ge.error=function(E){throw new Error("Syntax error, unrecognized expression: "+E)},g.uniqueSort=function(E){var b,x=[],M=0,O=0;if(y=!I.sortStable,f=!I.sortStable&&i.call(E,0),ao.call(E,It),y){for(;b=E[O++];)b===E[O]&&(M=x.push(O));for(;M--;)bO.call(E,x[M],1)}return f=null,E},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(i.apply(this)))},l=g.expr={cacheLength:50,createPseudo:Hn,match:fr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(E){return E[1]=E[1].replace(Wr,Gr),E[3]=(E[3]||E[4]||E[5]||"").replace(Wr,Gr),E[2]==="~="&&(E[3]=" "+E[3]+" "),E.slice(0,4)},CHILD:function(E){return E[1]=E[1].toLowerCase(),E[1].slice(0,3)==="nth"?(E[3]||Ge.error(E[0]),E[4]=+(E[4]?E[5]+(E[6]||1):2*(E[3]==="even"||E[3]==="odd")),E[5]=+(E[7]+E[8]||E[3]==="odd")):E[3]&&Ge.error(E[0]),E},PSEUDO:function(E){var b,x=!E[6]&&E[2];return fr.CHILD.test(E[0])?null:(E[3]?E[2]=E[4]||E[5]||"":x&&hr.test(x)&&(b=dc(x,!0))&&(b=x.indexOf(")",x.length-b)-x.length)&&(E[0]=E[0].slice(0,b),E[2]=x.slice(0,b)),E.slice(0,3))}},filter:{TAG:function(E){var b=E.replace(Wr,Gr).toLowerCase();return E==="*"?function(){return!0}:function(x){return Ne(x,b)}},CLASS:function(E){var b=ce[E+" "];return b||(b=new RegExp("(^|"+Qe+")"+E+"("+Qe+"|$)"))&&ce(E,function(x){return b.test(typeof x.className=="string"&&x.className||typeof x.getAttribute<"u"&&x.getAttribute("class")||"")})},ATTR:function(E,b,x){return function(M){var O=Ge.attr(M,E);return O==null?b==="!=":b?(O+="",b==="="?O===x:b==="!="?O!==x:b==="^="?x&&O.indexOf(x)===0:b==="*="?x&&O.indexOf(x)>-1:b==="$="?x&&O.slice(-x.length)===x:b==="~="?(" "+O.replace(Ue," ")+" ").indexOf(x)>-1:b==="|="?O===x||O.slice(0,x.length+1)===x+"-":!1):!0}},CHILD:function(E,b,x,M,O){var j=E.slice(0,3)!=="nth",H=E.slice(-4)!=="last",Y=b==="of-type";return M===1&&O===0?function(q){return!!q.parentNode}:function(q,be,re){var ue,De,ee,et,an,jt=j!==H?"nextSibling":"previousSibling",xn=q.parentNode,pr=Y&&q.nodeName.toLowerCase(),vo=!re&&!Y,Yt=!1;if(xn){if(j){for(;jt;){for(ee=q;ee=ee[jt];)if(Y?Ne(ee,pr):ee.nodeType===1)return!1;an=jt=E==="only"&&!an&&"nextSibling"}return!0}if(an=[H?xn.firstChild:xn.lastChild],H&&vo){for(De=xn[k]||(xn[k]={}),ue=De[E]||[],et=ue[0]===R&&ue[1],Yt=et&&ue[2],ee=et&&xn.childNodes[et];ee=++et&&ee&&ee[jt]||(Yt=et=0)||an.pop();)if(ee.nodeType===1&&++Yt&&ee===q){De[E]=[R,et,Yt];break}}else if(vo&&(De=q[k]||(q[k]={}),ue=De[E]||[],et=ue[0]===R&&ue[1],Yt=et),Yt===!1)for(;(ee=++et&&ee&&ee[jt]||(Yt=et=0)||an.pop())&&!((Y?Ne(ee,pr):ee.nodeType===1)&&++Yt&&(vo&&(De=ee[k]||(ee[k]={}),De[E]=[R,Yt]),ee===q)););return Yt-=O,Yt===M||Yt%M===0&&Yt/M>=0}}},PSEUDO:function(E,b){var x,M=l.pseudos[E]||l.setFilters[E.toLowerCase()]||Ge.error("unsupported pseudo: "+E);return M[k]?M(b):M.length>1?(x=[E,E,"",b],l.setFilters.hasOwnProperty(E.toLowerCase())?Hn(function(O,j){for(var H,Y=M(O,b),q=Y.length;q--;)H=a.call(O,Y[q]),O[H]=!(j[H]=Y[q])}):function(O){return M(O,0,x)}):M}},pseudos:{not:Hn(function(E){var b=[],x=[],M=Eg(E.replace(ec,"$1"));return M[k]?Hn(function(O,j,H,Y){for(var q,be=M(O,null,Y,[]),re=O.length;re--;)(q=be[re])&&(O[re]=!(j[re]=q))}):function(O,j,H){return b[0]=O,M(b,null,H,x),b[0]=null,!x.pop()}}),has:Hn(function(E){return function(b){return Ge(E,b).length>0}}),contains:Hn(function(E){return E=E.replace(Wr,Gr),function(b){return(b.textContent||g.text(b)).indexOf(E)>-1}}),lang:Hn(function(E){return lc.test(E||"")||Ge.error("unsupported lang: "+E),E=E.replace(Wr,Gr).toLowerCase(),function(b){var x;do if(x=C?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return x=x.toLowerCase(),x===E||x.indexOf(E+"-")===0;while((b=b.parentNode)&&b.nodeType===1);return!1}}),target:function(E){var b=t.location&&t.location.hash;return b&&b.slice(1)===E.id},root:function(E){return E===T},focus:function(E){return E===Tk()&&_.hasFocus()&&!!(E.type||E.href||~E.tabIndex)},enabled:C0(!1),disabled:C0(!0),checked:function(E){return Ne(E,"input")&&!!E.checked||Ne(E,"option")&&!!E.selected},selected:function(E){return E.parentNode&&E.parentNode.selectedIndex,E.selected===!0},empty:function(E){for(E=E.firstChild;E;E=E.nextSibling)if(E.nodeType<6)return!1;return!0},parent:function(E){return!l.pseudos.empty(E)},header:function(E){return gi.test(E.nodeName)},input:function(E){return pi.test(E.nodeName)},button:function(E){return Ne(E,"input")&&E.type==="button"||Ne(E,"button")},text:function(E){var b;return Ne(E,"input")&&E.type==="text"&&((b=E.getAttribute("type"))==null||b.toLowerCase()==="text")},first:ns(function(){return[0]}),last:ns(function(E,b){return[b-1]}),eq:ns(function(E,b,x){return[x<0?x+b:x]}),even:ns(function(E,b){for(var x=0;x<b;x+=2)E.push(x);return E}),odd:ns(function(E,b){for(var x=1;x<b;x+=2)E.push(x);return E}),lt:ns(function(E,b,x){var M;for(x<0?M=x+b:x>b?M=b:M=x;--M>=0;)E.push(M);return E}),gt:ns(function(E,b,x){for(var M=x<0?x+b:x;++M<b;)E.push(M);return E})}},l.pseudos.nth=l.pseudos.eq;for(c in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})l.pseudos[c]=bk(c);for(c in{submit:!0,reset:!0})l.pseudos[c]=Dk(c);function T0(){}T0.prototype=l.filters=l.pseudos,l.setFilters=new T0;function dc(E,b){var x,M,O,j,H,Y,q,be=Pe[E+" "];if(be)return b?0:be.slice(0);for(H=E,Y=[],q=l.preFilter;H;){(!x||(M=ct.exec(H)))&&(M&&(H=H.slice(M[0].length)||H),Y.push(O=[])),x=!1,(M=uc.exec(H))&&(x=M.shift(),O.push({value:x,type:M[0].replace(ec," ")}),H=H.slice(x.length));for(j in l.filter)(M=fr[j].exec(H))&&(!q[j]||(M=q[j](M)))&&(x=M.shift(),O.push({value:x,type:j,matches:M}),H=H.slice(x.length));if(!x)break}return b?H.length:H?Ge.error(E):Pe(E,Y).slice(0)}function Kl(E){for(var b=0,x=E.length,M="";b<x;b++)M+=E[b].value;return M}function Ql(E,b,x){var M=b.dir,O=b.next,j=O||M,H=x&&j==="parentNode",Y=L++;return b.first?function(q,be,re){for(;q=q[M];)if(q.nodeType===1||H)return E(q,be,re);return!1}:function(q,be,re){var ue,De,ee=[R,Y];if(re){for(;q=q[M];)if((q.nodeType===1||H)&&E(q,be,re))return!0}else for(;q=q[M];)if(q.nodeType===1||H)if(De=q[k]||(q[k]={}),O&&Ne(q,O))q=q[M]||q;else{if((ue=De[j])&&ue[0]===R&&ue[1]===Y)return ee[2]=ue[2];if(De[j]=ee,ee[2]=E(q,be,re))return!0}return!1}}function vg(E){return E.length>1?function(b,x,M){for(var O=E.length;O--;)if(!E[O](b,x,M))return!1;return!0}:E[0]}function Sk(E,b,x){for(var M=0,O=b.length;M<O;M++)Ge(E,b[M],x);return x}function Yl(E,b,x,M,O){for(var j,H=[],Y=0,q=E.length,be=b!=null;Y<q;Y++)(j=E[Y])&&(!x||x(j,M,O))&&(H.push(j),be&&b.push(Y));return H}function _g(E,b,x,M,O,j){return M&&!M[k]&&(M=_g(M)),O&&!O[k]&&(O=_g(O,j)),Hn(function(H,Y,q,be){var re,ue,De,ee,et=[],an=[],jt=Y.length,xn=H||Sk(b||"*",q.nodeType?[q]:q,[]),pr=E&&(H||!b)?Yl(xn,et,E,q,be):xn;if(x?(ee=O||(H?E:jt||M)?[]:Y,x(pr,ee,q,be)):ee=pr,M)for(re=Yl(ee,an),M(re,[],q,be),ue=re.length;ue--;)(De=re[ue])&&(ee[an[ue]]=!(pr[an[ue]]=De));if(H){if(O||E){if(O){for(re=[],ue=ee.length;ue--;)(De=ee[ue])&&re.push(pr[ue]=De);O(null,ee=[],re,be)}for(ue=ee.length;ue--;)(De=ee[ue])&&(re=O?a.call(H,De):et[ue])>-1&&(H[re]=!(Y[re]=De))}}else ee=Yl(ee===Y?ee.splice(jt,ee.length):ee),O?O(null,Y,ee,be):v.apply(Y,ee)})}function wg(E){for(var b,x,M,O=E.length,j=l.relative[E[0].type],H=j||l.relative[" "],Y=j?1:0,q=Ql(function(ue){return ue===b},H,!0),be=Ql(function(ue){return a.call(b,ue)>-1},H,!0),re=[function(ue,De,ee){var et=!j&&(ee||De!=h)||((b=De).nodeType?q(ue,De,ee):be(ue,De,ee));return b=null,et}];Y<O;Y++)if(x=l.relative[E[Y].type])re=[Ql(vg(re),x)];else{if(x=l.filter[E[Y].type].apply(null,E[Y].matches),x[k]){for(M=++Y;M<O&&!l.relative[E[M].type];M++);return _g(Y>1&&vg(re),Y>1&&Kl(E.slice(0,Y-1).concat({value:E[Y-2].type===" "?"*":""})).replace(ec,"$1"),x,Y<M&&wg(E.slice(Y,M)),M<O&&wg(E=E.slice(M)),M<O&&Kl(E))}re.push(x)}return vg(re)}function Ak(E,b){var x=b.length>0,M=E.length>0,O=function(j,H,Y,q,be){var re,ue,De,ee=0,et="0",an=j&&[],jt=[],xn=h,pr=j||M&&l.find.TAG("*",be),vo=R+=xn==null?1:Math.random()||.1,Yt=pr.length;for(be&&(h=H==_||H||be);et!==Yt&&(re=pr[et])!=null;et++){if(M&&re){for(ue=0,!H&&re.ownerDocument!=_&&(mi(re),Y=!C);De=E[ue++];)if(De(re,H||_,Y)){v.call(q,re);break}be&&(R=vo)}x&&((re=!De&&re)&&ee--,j&&an.push(re))}if(ee+=et,x&&et!==ee){for(ue=0;De=b[ue++];)De(an,jt,H,Y);if(j){if(ee>0)for(;et--;)an[et]||jt[et]||(jt[et]=$r.call(q));jt=Yl(jt)}v.apply(q,jt),be&&!j&&jt.length>0&&ee+b.length>1&&g.uniqueSort(q)}return be&&(R=vo,h=xn),an};return x?Hn(O):O}function Eg(E,b){var x,M=[],O=[],j=_e[E+" "];if(!j){for(b||(b=dc(E)),x=b.length;x--;)j=wg(b[x]),j[k]?M.push(j):O.push(j);j=_e(E,Ak(O,M)),j.selector=E}return j}function b0(E,b,x,M){var O,j,H,Y,q,be=typeof E=="function"&&E,re=!M&&dc(E=be.selector||E);if(x=x||[],re.length===1){if(j=re[0]=re[0].slice(0),j.length>2&&(H=j[0]).type==="ID"&&b.nodeType===9&&C&&l.relative[j[1].type]){if(b=(l.find.ID(H.matches[0].replace(Wr,Gr),b)||[])[0],b)be&&(b=b.parentNode);else return x;E=E.slice(j.shift().value.length)}for(O=fr.needsContext.test(E)?0:j.length;O--&&(H=j[O],!l.relative[Y=H.type]);)if((q=l.find[Y])&&(M=q(H.matches[0].replace(Wr,Gr),mg.test(j[0].type)&&yg(b.parentNode)||b))){if(j.splice(O,1),E=M.length&&Kl(j),!E)return v.apply(x,M),x;break}}return(be||Eg(E,re))(M,b,!C,x,!b||mg.test(E)&&yg(b.parentNode)||b),x}I.sortStable=k.split("").sort(It).join("")===k,mi(),I.sortDetached=yo(function(E){return E.compareDocumentPosition(_.createElement("fieldset"))&1}),g.find=Ge,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,Ge.compile=Eg,Ge.select=b0,Ge.setDocument=mi,Ge.tokenize=dc,Ge.escape=g.escapeSelector,Ge.getText=g.text,Ge.isXML=g.isXMLDoc,Ge.selectors=g.expr,Ge.support=g.support,Ge.uniqueSort=g.uniqueSort})();var co=function(c,l,h){for(var f=[],y=h!==void 0;(c=c[l])&&c.nodeType!==9;)if(c.nodeType===1){if(y&&g(c).is(h))break;f.push(c)}return f},UC=function(c,l){for(var h=[];c;c=c.nextSibling)c.nodeType===1&&c!==l&&h.push(c);return h},BC=g.expr.match.needsContext,$C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Jp(c,l,h){return S(l)?g.grep(c,function(f,y){return!!l.call(f,y,f)!==h}):l.nodeType?g.grep(c,function(f){return f===l!==h}):typeof l!="string"?g.grep(c,function(f){return a.call(l,f)>-1!==h}):g.filter(l,c,h)}g.filter=function(c,l,h){var f=l[0];return h&&(c=":not("+c+")"),l.length===1&&f.nodeType===1?g.find.matchesSelector(f,c)?[f]:[]:g.find.matches(c,g.grep(l,function(y){return y.nodeType===1}))},g.fn.extend({find:function(c){var l,h,f=this.length,y=this;if(typeof c!="string")return this.pushStack(g(c).filter(function(){for(l=0;l<f;l++)if(g.contains(y[l],this))return!0}));for(h=this.pushStack([]),l=0;l<f;l++)g.find(c,y[l],h);return f>1?g.uniqueSort(h):h},filter:function(c){return this.pushStack(Jp(this,c||[],!1))},not:function(c){return this.pushStack(Jp(this,c||[],!0))},is:function(c){return!!Jp(this,typeof c=="string"&&BC.test(c)?g(c):c||[],!1).length}});var HC,AO=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,xO=g.fn.init=function(c,l,h){var f,y;if(!c)return this;if(h=h||HC,typeof c=="string")if(c[0]==="<"&&c[c.length-1]===">"&&c.length>=3?f=[null,c,null]:f=AO.exec(c),f&&(f[1]||!l))if(f[1]){if(l=l instanceof g?l[0]:l,g.merge(this,g.parseHTML(f[1],l&&l.nodeType?l.ownerDocument||l:P,!0)),$C.test(f[1])&&g.isPlainObject(l))for(f in l)S(this[f])?this[f](l[f]):this.attr(f,l[f]);return this}else return y=P.getElementById(f[2]),y&&(this[0]=y,this.length=1),this;else return!l||l.jquery?(l||h).find(c):this.constructor(l).find(c);else{if(c.nodeType)return this[0]=c,this.length=1,this;if(S(c))return h.ready!==void 0?h.ready(c):c(g)}return g.makeArray(c,this)};xO.prototype=g.fn,HC=g(P);var RO=/^(?:parents|prev(?:Until|All))/,MO={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(c){var l=g(c,this),h=l.length;return this.filter(function(){for(var f=0;f<h;f++)if(g.contains(this,l[f]))return!0})},closest:function(c,l){var h,f=0,y=this.length,v=[],_=typeof c!="string"&&g(c);if(!BC.test(c)){for(;f<y;f++)for(h=this[f];h&&h!==l;h=h.parentNode)if(h.nodeType<11&&(_?_.index(h)>-1:h.nodeType===1&&g.find.matchesSelector(h,c))){v.push(h);break}}return this.pushStack(v.length>1?g.uniqueSort(v):v)},index:function(c){return c?typeof c=="string"?a.call(g(c),this[0]):a.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,l){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(c,l))))},addBack:function(c){return this.add(c==null?this.prevObject:this.prevObject.filter(c))}});function qC(c,l){for(;(c=c[l])&&c.nodeType!==1;);return c}g.each({parent:function(c){var l=c.parentNode;return l&&l.nodeType!==11?l:null},parents:function(c){return co(c,"parentNode")},parentsUntil:function(c,l,h){return co(c,"parentNode",h)},next:function(c){return qC(c,"nextSibling")},prev:function(c){return qC(c,"previousSibling")},nextAll:function(c){return co(c,"nextSibling")},prevAll:function(c){return co(c,"previousSibling")},nextUntil:function(c,l,h){return co(c,"nextSibling",h)},prevUntil:function(c,l,h){return co(c,"previousSibling",h)},siblings:function(c){return UC((c.parentNode||{}).firstChild,c)},children:function(c){return UC(c.firstChild)},contents:function(c){return c.contentDocument!=null&&r(c.contentDocument)?c.contentDocument:(Ne(c,"template")&&(c=c.content||c),g.merge([],c.childNodes))}},function(c,l){g.fn[c]=function(h,f){var y=g.map(this,l,h);return c.slice(-5)!=="Until"&&(f=h),f&&typeof f=="string"&&(y=g.filter(f,y)),this.length>1&&(MO[c]||g.uniqueSort(y),RO.test(c)&&y.reverse()),this.pushStack(y)}});var cr=/[^\x20\t\r\n\f]+/g;function NO(c){var l={};return g.each(c.match(cr)||[],function(h,f){l[f]=!0}),l}g.Callbacks=function(c){c=typeof c=="string"?NO(c):g.extend({},c);var l,h,f,y,v=[],_=[],T=-1,C=function(){for(y=y||c.once,f=l=!0;_.length;T=-1)for(h=_.shift();++T<v.length;)v[T].apply(h[0],h[1])===!1&&c.stopOnFalse&&(T=v.length,h=!1);c.memory||(h=!1),l=!1,y&&(h?v=[]:v="")},D={add:function(){return v&&(h&&!l&&(T=v.length-1,_.push(h)),function N(k){g.each(k,function(R,L){S(L)?(!c.unique||!D.has(L))&&v.push(L):L&&L.length&&Ie(L)!=="string"&&N(L)})}(arguments),h&&!l&&C()),this},remove:function(){return g.each(arguments,function(N,k){for(var R;(R=g.inArray(k,v,R))>-1;)v.splice(R,1),R<=T&&T--}),this},has:function(N){return N?g.inArray(N,v)>-1:v.length>0},empty:function(){return v&&(v=[]),this},disable:function(){return y=_=[],v=h="",this},disabled:function(){return!v},lock:function(){return y=_=[],!h&&!l&&(v=h=""),this},locked:function(){return!!y},fireWith:function(N,k){return y||(k=k||[],k=[N,k.slice?k.slice():k],_.push(k),l||C()),this},fire:function(){return D.fireWith(this,arguments),this},fired:function(){return!!f}};return D};function uo(c){return c}function Ul(c){throw c}function zC(c,l,h,f){var y;try{c&&S(y=c.promise)?y.call(c).done(l).fail(h):c&&S(y=c.then)?y.call(c,l,h):l.apply(void 0,[c].slice(f))}catch(v){h.apply(void 0,[v])}}g.extend({Deferred:function(c){var l=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],h="pending",f={state:function(){return h},always:function(){return y.done(arguments).fail(arguments),this},catch:function(v){return f.then(null,v)},pipe:function(){var v=arguments;return g.Deferred(function(_){g.each(l,function(T,C){var D=S(v[C[4]])&&v[C[4]];y[C[1]](function(){var N=D&&D.apply(this,arguments);N&&S(N.promise)?N.promise().progress(_.notify).done(_.resolve).fail(_.reject):_[C[0]+"With"](this,D?[N]:arguments)})}),v=null}).promise()},then:function(v,_,T){var C=0;function D(N,k,R,L){return function(){var ce=this,Pe=arguments,_e=function(){var It,lr;if(!(N<C)){if(It=R.apply(ce,Pe),It===k.promise())throw new TypeError("Thenable self-resolution");lr=It&&(typeof It=="object"||typeof It=="function")&&It.then,S(lr)?L?lr.call(It,D(C,k,uo,L),D(C,k,Ul,L)):(C++,lr.call(It,D(C,k,uo,L),D(C,k,Ul,L),D(C,k,uo,k.notifyWith))):(R!==uo&&(ce=void 0,Pe=[It]),(L||k.resolveWith)(ce,Pe))}},kt=L?_e:function(){try{_e()}catch(It){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(It,kt.error),N+1>=C&&(R!==Ul&&(ce=void 0,Pe=[It]),k.rejectWith(ce,Pe))}};N?kt():(g.Deferred.getErrorHook?kt.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(kt.error=g.Deferred.getStackHook()),t.setTimeout(kt))}}return g.Deferred(function(N){l[0][3].add(D(0,N,S(T)?T:uo,N.notifyWith)),l[1][3].add(D(0,N,S(v)?v:uo)),l[2][3].add(D(0,N,S(_)?_:Ul))}).promise()},promise:function(v){return v!=null?g.extend(v,f):f}},y={};return g.each(l,function(v,_){var T=_[2],C=_[5];f[_[1]]=T.add,C&&T.add(function(){h=C},l[3-v][2].disable,l[3-v][3].disable,l[0][2].lock,l[0][3].lock),T.add(_[3].fire),y[_[0]]=function(){return y[_[0]+"With"](this===y?void 0:this,arguments),this},y[_[0]+"With"]=T.fireWith}),f.promise(y),c&&c.call(y,y),y},when:function(c){var l=arguments.length,h=l,f=Array(h),y=i.call(arguments),v=g.Deferred(),_=function(T){return function(C){f[T]=this,y[T]=arguments.length>1?i.call(arguments):C,--l||v.resolveWith(f,y)}};if(l<=1&&(zC(c,v.done(_(h)).resolve,v.reject,!l),v.state()==="pending"||S(y[h]&&y[h].then)))return v.then();for(;h--;)zC(y[h],_(h),v.reject);return v.promise()}});var PO=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(c,l){t.console&&t.console.warn&&c&&PO.test(c.name)&&t.console.warn("jQuery.Deferred exception: "+c.message,c.stack,l)},g.readyException=function(c){t.setTimeout(function(){throw c})};var eg=g.Deferred();g.fn.ready=function(c){return eg.then(c).catch(function(l){g.readyException(l)}),this},g.extend({isReady:!1,readyWait:1,ready:function(c){(c===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(c!==!0&&--g.readyWait>0)&&eg.resolveWith(P,[g]))}}),g.ready.then=eg.then;function Bl(){P.removeEventListener("DOMContentLoaded",Bl),t.removeEventListener("load",Bl),g.ready()}P.readyState==="complete"||P.readyState!=="loading"&&!P.documentElement.doScroll?t.setTimeout(g.ready):(P.addEventListener("DOMContentLoaded",Bl),t.addEventListener("load",Bl));var qr=function(c,l,h,f,y,v,_){var T=0,C=c.length,D=h==null;if(Ie(h)==="object"){y=!0;for(T in h)qr(c,l,T,h[T],!0,v,_)}else if(f!==void 0&&(y=!0,S(f)||(_=!0),D&&(_?(l.call(c,f),l=null):(D=l,l=function(N,k,R){return D.call(g(N),R)})),l))for(;T<C;T++)l(c[T],h,_?f:f.call(c[T],T,l(c[T],h)));return y?c:D?l.call(c):C?l(c[0],h):v},OO=/^-ms-/,kO=/-([a-z])/g;function FO(c,l){return l.toUpperCase()}function ur(c){return c.replace(OO,"ms-").replace(kO,FO)}var tc=function(c){return c.nodeType===1||c.nodeType===9||!+c.nodeType};function nc(){this.expando=g.expando+nc.uid++}nc.uid=1,nc.prototype={cache:function(c){var l=c[this.expando];return l||(l={},tc(c)&&(c.nodeType?c[this.expando]=l:Object.defineProperty(c,this.expando,{value:l,configurable:!0}))),l},set:function(c,l,h){var f,y=this.cache(c);if(typeof l=="string")y[ur(l)]=h;else for(f in l)y[ur(f)]=l[f];return y},get:function(c,l){return l===void 0?this.cache(c):c[this.expando]&&c[this.expando][ur(l)]},access:function(c,l,h){return l===void 0||l&&typeof l=="string"&&h===void 0?this.get(c,l):(this.set(c,l,h),h!==void 0?h:l)},remove:function(c,l){var h,f=c[this.expando];if(f!==void 0){if(l!==void 0)for(Array.isArray(l)?l=l.map(ur):(l=ur(l),l=l in f?[l]:l.match(cr)||[]),h=l.length;h--;)delete f[l[h]];(l===void 0||g.isEmptyObject(f))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){var l=c[this.expando];return l!==void 0&&!g.isEmptyObject(l)}};var Z=new nc,rn=new nc,LO=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,VO=/[A-Z]/g;function jO(c){return c==="true"?!0:c==="false"?!1:c==="null"?null:c===+c+""?+c:LO.test(c)?JSON.parse(c):c}function WC(c,l,h){var f;if(h===void 0&&c.nodeType===1)if(f="data-"+l.replace(VO,"-$&").toLowerCase(),h=c.getAttribute(f),typeof h=="string"){try{h=jO(h)}catch{}rn.set(c,l,h)}else h=void 0;return h}g.extend({hasData:function(c){return rn.hasData(c)||Z.hasData(c)},data:function(c,l,h){return rn.access(c,l,h)},removeData:function(c,l){rn.remove(c,l)},_data:function(c,l,h){return Z.access(c,l,h)},_removeData:function(c,l){Z.remove(c,l)}}),g.fn.extend({data:function(c,l){var h,f,y,v=this[0],_=v&&v.attributes;if(c===void 0){if(this.length&&(y=rn.get(v),v.nodeType===1&&!Z.get(v,"hasDataAttrs"))){for(h=_.length;h--;)_[h]&&(f=_[h].name,f.indexOf("data-")===0&&(f=ur(f.slice(5)),WC(v,f,y[f])));Z.set(v,"hasDataAttrs",!0)}return y}return typeof c=="object"?this.each(function(){rn.set(this,c)}):qr(this,function(T){var C;if(v&&T===void 0)return C=rn.get(v,c),C!==void 0||(C=WC(v,c),C!==void 0)?C:void 0;this.each(function(){rn.set(this,c,T)})},null,l,arguments.length>1,null,!0)},removeData:function(c){return this.each(function(){rn.remove(this,c)})}}),g.extend({queue:function(c,l,h){var f;if(c)return l=(l||"fx")+"queue",f=Z.get(c,l),h&&(!f||Array.isArray(h)?f=Z.access(c,l,g.makeArray(h)):f.push(h)),f||[]},dequeue:function(c,l){l=l||"fx";var h=g.queue(c,l),f=h.length,y=h.shift(),v=g._queueHooks(c,l),_=function(){g.dequeue(c,l)};y==="inprogress"&&(y=h.shift(),f--),y&&(l==="fx"&&h.unshift("inprogress"),delete v.stop,y.call(c,_,v)),!f&&v&&v.empty.fire()},_queueHooks:function(c,l){var h=l+"queueHooks";return Z.get(c,h)||Z.access(c,h,{empty:g.Callbacks("once memory").add(function(){Z.remove(c,[l+"queue",h])})})}}),g.fn.extend({queue:function(c,l){var h=2;return typeof c!="string"&&(l=c,c="fx",h--),arguments.length<h?g.queue(this[0],c):l===void 0?this:this.each(function(){var f=g.queue(this,c,l);g._queueHooks(this,c),c==="fx"&&f[0]!=="inprogress"&&g.dequeue(this,c)})},dequeue:function(c){return this.each(function(){g.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,l){var h,f=1,y=g.Deferred(),v=this,_=this.length,T=function(){--f||y.resolveWith(v,[v])};for(typeof c!="string"&&(l=c,c=void 0),c=c||"fx";_--;)h=Z.get(v[_],c+"queueHooks"),h&&h.empty&&(f++,h.empty.add(T));return T(),y.promise(l)}});var GC=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rc=new RegExp("^(?:([+-])=|)("+GC+")([a-z%]*)$","i"),zr=["Top","Right","Bottom","Left"],Zi=P.documentElement,lo=function(c){return g.contains(c.ownerDocument,c)},UO={composed:!0};Zi.getRootNode&&(lo=function(c){return g.contains(c.ownerDocument,c)||c.getRootNode(UO)===c.ownerDocument});var $l=function(c,l){return c=l||c,c.style.display==="none"||c.style.display===""&&lo(c)&&g.css(c,"display")==="none"};function KC(c,l,h,f){var y,v,_=20,T=f?function(){return f.cur()}:function(){return g.css(c,l,"")},C=T(),D=h&&h[3]||(g.cssNumber[l]?"":"px"),N=c.nodeType&&(g.cssNumber[l]||D!=="px"&&+C)&&rc.exec(g.css(c,l));if(N&&N[3]!==D){for(C=C/2,D=D||N[3],N=+C||1;_--;)g.style(c,l,N+D),(1-v)*(1-(v=T()/C||.5))<=0&&(_=0),N=N/v;N=N*2,g.style(c,l,N+D),h=h||[]}return h&&(N=+N||+C||0,y=h[1]?N+(h[1]+1)*h[2]:+h[2],f&&(f.unit=D,f.start=N,f.end=y)),y}var QC={};function BO(c){var l,h=c.ownerDocument,f=c.nodeName,y=QC[f];return y||(l=h.body.appendChild(h.createElement(f)),y=g.css(l,"display"),l.parentNode.removeChild(l),y==="none"&&(y="block"),QC[f]=y,y)}function ho(c,l){for(var h,f,y=[],v=0,_=c.length;v<_;v++)f=c[v],f.style&&(h=f.style.display,l?(h==="none"&&(y[v]=Z.get(f,"display")||null,y[v]||(f.style.display="")),f.style.display===""&&$l(f)&&(y[v]=BO(f))):h!=="none"&&(y[v]="none",Z.set(f,"display",h)));for(v=0;v<_;v++)y[v]!=null&&(c[v].style.display=y[v]);return c}g.fn.extend({show:function(){return ho(this,!0)},hide:function(){return ho(this)},toggle:function(c){return typeof c=="boolean"?c?this.show():this.hide():this.each(function(){$l(this)?g(this).show():g(this).hide()})}});var ic=/^(?:checkbox|radio)$/i,YC=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,XC=/^$|^module$|\/(?:java|ecma)script/i;(function(){var c=P.createDocumentFragment(),l=c.appendChild(P.createElement("div")),h=P.createElement("input");h.setAttribute("type","radio"),h.setAttribute("checked","checked"),h.setAttribute("name","t"),l.appendChild(h),I.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,l.innerHTML="<textarea>x</textarea>",I.noCloneChecked=!!l.cloneNode(!0).lastChild.defaultValue,l.innerHTML="<option></option>",I.option=!!l.lastChild})();var Sn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Sn.tbody=Sn.tfoot=Sn.colgroup=Sn.caption=Sn.thead,Sn.th=Sn.td,I.option||(Sn.optgroup=Sn.option=[1,"<select multiple='multiple'>","</select>"]);function sn(c,l){var h;return typeof c.getElementsByTagName<"u"?h=c.getElementsByTagName(l||"*"):typeof c.querySelectorAll<"u"?h=c.querySelectorAll(l||"*"):h=[],l===void 0||l&&Ne(c,l)?g.merge([c],h):h}function tg(c,l){for(var h=0,f=c.length;h<f;h++)Z.set(c[h],"globalEval",!l||Z.get(l[h],"globalEval"))}var $O=/<|&#?\w+;/;function ZC(c,l,h,f,y){for(var v,_,T,C,D,N,k=l.createDocumentFragment(),R=[],L=0,ce=c.length;L<ce;L++)if(v=c[L],v||v===0)if(Ie(v)==="object")g.merge(R,v.nodeType?[v]:v);else if(!$O.test(v))R.push(l.createTextNode(v));else{for(_=_||k.appendChild(l.createElement("div")),T=(YC.exec(v)||["",""])[1].toLowerCase(),C=Sn[T]||Sn._default,_.innerHTML=C[1]+g.htmlPrefilter(v)+C[2],N=C[0];N--;)_=_.lastChild;g.merge(R,_.childNodes),_=k.firstChild,_.textContent=""}for(k.textContent="",L=0;v=R[L++];){if(f&&g.inArray(v,f)>-1){y&&y.push(v);continue}if(D=lo(v),_=sn(k.appendChild(v),"script"),D&&tg(_),h)for(N=0;v=_[N++];)XC.test(v.type||"")&&h.push(v)}return k}var JC=/^([^.]*)(?:\.(.+)|)/;function fo(){return!0}function po(){return!1}function ng(c,l,h,f,y,v){var _,T;if(typeof l=="object"){typeof h!="string"&&(f=f||h,h=void 0);for(T in l)ng(c,T,h,f,l[T],v);return c}if(f==null&&y==null?(y=h,f=h=void 0):y==null&&(typeof h=="string"?(y=f,f=void 0):(y=f,f=h,h=void 0)),y===!1)y=po;else if(!y)return c;return v===1&&(_=y,y=function(C){return g().off(C),_.apply(this,arguments)},y.guid=_.guid||(_.guid=g.guid++)),c.each(function(){g.event.add(this,l,y,f,h)})}g.event={global:{},add:function(c,l,h,f,y){var v,_,T,C,D,N,k,R,L,ce,Pe,_e=Z.get(c);if(tc(c))for(h.handler&&(v=h,h=v.handler,y=v.selector),y&&g.find.matchesSelector(Zi,y),h.guid||(h.guid=g.guid++),(C=_e.events)||(C=_e.events=Object.create(null)),(_=_e.handle)||(_=_e.handle=function(kt){return typeof g<"u"&&g.event.triggered!==kt.type?g.event.dispatch.apply(c,arguments):void 0}),l=(l||"").match(cr)||[""],D=l.length;D--;)T=JC.exec(l[D])||[],L=Pe=T[1],ce=(T[2]||"").split(".").sort(),L&&(k=g.event.special[L]||{},L=(y?k.delegateType:k.bindType)||L,k=g.event.special[L]||{},N=g.extend({type:L,origType:Pe,data:f,handler:h,guid:h.guid,selector:y,needsContext:y&&g.expr.match.needsContext.test(y),namespace:ce.join(".")},v),(R=C[L])||(R=C[L]=[],R.delegateCount=0,(!k.setup||k.setup.call(c,f,ce,_)===!1)&&c.addEventListener&&c.addEventListener(L,_)),k.add&&(k.add.call(c,N),N.handler.guid||(N.handler.guid=h.guid)),y?R.splice(R.delegateCount++,0,N):R.push(N),g.event.global[L]=!0)},remove:function(c,l,h,f,y){var v,_,T,C,D,N,k,R,L,ce,Pe,_e=Z.hasData(c)&&Z.get(c);if(!(!_e||!(C=_e.events))){for(l=(l||"").match(cr)||[""],D=l.length;D--;){if(T=JC.exec(l[D])||[],L=Pe=T[1],ce=(T[2]||"").split(".").sort(),!L){for(L in C)g.event.remove(c,L+l[D],h,f,!0);continue}for(k=g.event.special[L]||{},L=(f?k.delegateType:k.bindType)||L,R=C[L]||[],T=T[2]&&new RegExp("(^|\\.)"+ce.join("\\.(?:.*\\.|)")+"(\\.|$)"),_=v=R.length;v--;)N=R[v],(y||Pe===N.origType)&&(!h||h.guid===N.guid)&&(!T||T.test(N.namespace))&&(!f||f===N.selector||f==="**"&&N.selector)&&(R.splice(v,1),N.selector&&R.delegateCount--,k.remove&&k.remove.call(c,N));_&&!R.length&&((!k.teardown||k.teardown.call(c,ce,_e.handle)===!1)&&g.removeEvent(c,L,_e.handle),delete C[L])}g.isEmptyObject(C)&&Z.remove(c,"handle events")}},dispatch:function(c){var l,h,f,y,v,_,T=new Array(arguments.length),C=g.event.fix(c),D=(Z.get(this,"events")||Object.create(null))[C.type]||[],N=g.event.special[C.type]||{};for(T[0]=C,l=1;l<arguments.length;l++)T[l]=arguments[l];if(C.delegateTarget=this,!(N.preDispatch&&N.preDispatch.call(this,C)===!1)){for(_=g.event.handlers.call(this,C,D),l=0;(y=_[l++])&&!C.isPropagationStopped();)for(C.currentTarget=y.elem,h=0;(v=y.handlers[h++])&&!C.isImmediatePropagationStopped();)(!C.rnamespace||v.namespace===!1||C.rnamespace.test(v.namespace))&&(C.handleObj=v,C.data=v.data,f=((g.event.special[v.origType]||{}).handle||v.handler).apply(y.elem,T),f!==void 0&&(C.result=f)===!1&&(C.preventDefault(),C.stopPropagation()));return N.postDispatch&&N.postDispatch.call(this,C),C.result}},handlers:function(c,l){var h,f,y,v,_,T=[],C=l.delegateCount,D=c.target;if(C&&D.nodeType&&!(c.type==="click"&&c.button>=1)){for(;D!==this;D=D.parentNode||this)if(D.nodeType===1&&!(c.type==="click"&&D.disabled===!0)){for(v=[],_={},h=0;h<C;h++)f=l[h],y=f.selector+" ",_[y]===void 0&&(_[y]=f.needsContext?g(y,this).index(D)>-1:g.find(y,this,null,[D]).length),_[y]&&v.push(f);v.length&&T.push({elem:D,handlers:v})}}return D=this,C<l.length&&T.push({elem:D,handlers:l.slice(C)}),T},addProp:function(c,l){Object.defineProperty(g.Event.prototype,c,{enumerable:!0,configurable:!0,get:S(l)?function(){if(this.originalEvent)return l(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(h){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:h})}})},fix:function(c){return c[g.expando]?c:new g.Event(c)},special:{load:{noBubble:!0},click:{setup:function(c){var l=this||c;return ic.test(l.type)&&l.click&&Ne(l,"input")&&Hl(l,"click",!0),!1},trigger:function(c){var l=this||c;return ic.test(l.type)&&l.click&&Ne(l,"input")&&Hl(l,"click"),!0},_default:function(c){var l=c.target;return ic.test(l.type)&&l.click&&Ne(l,"input")&&Z.get(l,"click")||Ne(l,"a")}},beforeunload:{postDispatch:function(c){c.result!==void 0&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};function Hl(c,l,h){if(!h){Z.get(c,l)===void 0&&g.event.add(c,l,fo);return}Z.set(c,l,!1),g.event.add(c,l,{namespace:!1,handler:function(f){var y,v=Z.get(this,l);if(f.isTrigger&1&&this[l]){if(v)(g.event.special[l]||{}).delegateType&&f.stopPropagation();else if(v=i.call(arguments),Z.set(this,l,v),this[l](),y=Z.get(this,l),Z.set(this,l,!1),v!==y)return f.stopImmediatePropagation(),f.preventDefault(),y}else v&&(Z.set(this,l,g.event.trigger(v[0],v.slice(1),this)),f.stopPropagation(),f.isImmediatePropagationStopped=fo)}})}g.removeEvent=function(c,l,h){c.removeEventListener&&c.removeEventListener(l,h)},g.Event=function(c,l){if(!(this instanceof g.Event))return new g.Event(c,l);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.defaultPrevented===void 0&&c.returnValue===!1?fo:po,this.target=c.target&&c.target.nodeType===3?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,l&&g.extend(this,l),this.timeStamp=c&&c.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:po,isPropagationStopped:po,isImmediatePropagationStopped:po,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=fo,c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=fo,c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=fo,c&&!this.isSimulated&&c.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(c,l){function h(f){if(P.documentMode){var y=Z.get(this,"handle"),v=g.event.fix(f);v.type=f.type==="focusin"?"focus":"blur",v.isSimulated=!0,y(f),v.target===v.currentTarget&&y(v)}else g.event.simulate(l,f.target,g.event.fix(f))}g.event.special[c]={setup:function(){var f;if(Hl(this,c,!0),P.documentMode)f=Z.get(this,l),f||this.addEventListener(l,h),Z.set(this,l,(f||0)+1);else return!1},trigger:function(){return Hl(this,c),!0},teardown:function(){var f;if(P.documentMode)f=Z.get(this,l)-1,f?Z.set(this,l,f):(this.removeEventListener(l,h),Z.remove(this,l));else return!1},_default:function(f){return Z.get(f.target,c)},delegateType:l},g.event.special[l]={setup:function(){var f=this.ownerDocument||this.document||this,y=P.documentMode?this:f,v=Z.get(y,l);v||(P.documentMode?this.addEventListener(l,h):f.addEventListener(c,h,!0)),Z.set(y,l,(v||0)+1)},teardown:function(){var f=this.ownerDocument||this.document||this,y=P.documentMode?this:f,v=Z.get(y,l)-1;v?Z.set(y,l,v):(P.documentMode?this.removeEventListener(l,h):f.removeEventListener(c,h,!0),Z.remove(y,l))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,l){g.event.special[c]={delegateType:l,bindType:l,handle:function(h){var f,y=this,v=h.relatedTarget,_=h.handleObj;return(!v||v!==y&&!g.contains(y,v))&&(h.type=_.origType,f=_.handler.apply(this,arguments),h.type=l),f}}}),g.fn.extend({on:function(c,l,h,f){return ng(this,c,l,h,f)},one:function(c,l,h,f){return ng(this,c,l,h,f,1)},off:function(c,l,h){var f,y;if(c&&c.preventDefault&&c.handleObj)return f=c.handleObj,g(c.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof c=="object"){for(y in c)this.off(y,l,c[y]);return this}return(l===!1||typeof l=="function")&&(h=l,l=void 0),h===!1&&(h=po),this.each(function(){g.event.remove(this,c,h,l)})}});var HO=/<script|<style|<link/i,qO=/checked\s*(?:[^=]|=\s*.checked.)/i,zO=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function e0(c,l){return Ne(c,"table")&&Ne(l.nodeType!==11?l:l.firstChild,"tr")&&g(c).children("tbody")[0]||c}function WO(c){return c.type=(c.getAttribute("type")!==null)+"/"+c.type,c}function GO(c){return(c.type||"").slice(0,5)==="true/"?c.type=c.type.slice(5):c.removeAttribute("type"),c}function t0(c,l){var h,f,y,v,_,T,C;if(l.nodeType===1){if(Z.hasData(c)&&(v=Z.get(c),C=v.events,C)){Z.remove(l,"handle events");for(y in C)for(h=0,f=C[y].length;h<f;h++)g.event.add(l,y,C[y][h])}rn.hasData(c)&&(_=rn.access(c),T=g.extend({},_),rn.set(l,T))}}function KO(c,l){var h=l.nodeName.toLowerCase();h==="input"&&ic.test(c.type)?l.checked=c.checked:(h==="input"||h==="textarea")&&(l.defaultValue=c.defaultValue)}function go(c,l,h,f){l=s(l);var y,v,_,T,C,D,N=0,k=c.length,R=k-1,L=l[0],ce=S(L);if(ce||k>1&&typeof L=="string"&&!I.checkClone&&qO.test(L))return c.each(function(Pe){var _e=c.eq(Pe);ce&&(l[0]=L.call(this,Pe,_e.html())),go(_e,l,h,f)});if(k&&(y=ZC(l,c[0].ownerDocument,!1,c,f),v=y.firstChild,y.childNodes.length===1&&(y=v),v||f)){for(_=g.map(sn(y,"script"),WO),T=_.length;N<k;N++)C=y,N!==R&&(C=g.clone(C,!0,!0),T&&g.merge(_,sn(C,"script"))),h.call(c[N],C,N);if(T)for(D=_[_.length-1].ownerDocument,g.map(_,GO),N=0;N<T;N++)C=_[N],XC.test(C.type||"")&&!Z.access(C,"globalEval")&&g.contains(D,C)&&(C.src&&(C.type||"").toLowerCase()!=="module"?g._evalUrl&&!C.noModule&&g._evalUrl(C.src,{nonce:C.nonce||C.getAttribute("nonce")},D):ve(C.textContent.replace(zO,""),C,D))}return c}function n0(c,l,h){for(var f,y=l?g.filter(l,c):c,v=0;(f=y[v])!=null;v++)!h&&f.nodeType===1&&g.cleanData(sn(f)),f.parentNode&&(h&&lo(f)&&tg(sn(f,"script")),f.parentNode.removeChild(f));return c}g.extend({htmlPrefilter:function(c){return c},clone:function(c,l,h){var f,y,v,_,T=c.cloneNode(!0),C=lo(c);if(!I.noCloneChecked&&(c.nodeType===1||c.nodeType===11)&&!g.isXMLDoc(c))for(_=sn(T),v=sn(c),f=0,y=v.length;f<y;f++)KO(v[f],_[f]);if(l)if(h)for(v=v||sn(c),_=_||sn(T),f=0,y=v.length;f<y;f++)t0(v[f],_[f]);else t0(c,T);return _=sn(T,"script"),_.length>0&&tg(_,!C&&sn(c,"script")),T},cleanData:function(c){for(var l,h,f,y=g.event.special,v=0;(h=c[v])!==void 0;v++)if(tc(h)){if(l=h[Z.expando]){if(l.events)for(f in l.events)y[f]?g.event.remove(h,f):g.removeEvent(h,f,l.handle);h[Z.expando]=void 0}h[rn.expando]&&(h[rn.expando]=void 0)}}}),g.fn.extend({detach:function(c){return n0(this,c,!0)},remove:function(c){return n0(this,c)},text:function(c){return qr(this,function(l){return l===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=l)})},null,c,arguments.length)},append:function(){return go(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=e0(this,c);l.appendChild(c)}})},prepend:function(){return go(this,arguments,function(c){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=e0(this,c);l.insertBefore(c,l.firstChild)}})},before:function(){return go(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return go(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,l=0;(c=this[l])!=null;l++)c.nodeType===1&&(g.cleanData(sn(c,!1)),c.textContent="");return this},clone:function(c,l){return c=c??!1,l=l??c,this.map(function(){return g.clone(this,c,l)})},html:function(c){return qr(this,function(l){var h=this[0]||{},f=0,y=this.length;if(l===void 0&&h.nodeType===1)return h.innerHTML;if(typeof l=="string"&&!HO.test(l)&&!Sn[(YC.exec(l)||["",""])[1].toLowerCase()]){l=g.htmlPrefilter(l);try{for(;f<y;f++)h=this[f]||{},h.nodeType===1&&(g.cleanData(sn(h,!1)),h.innerHTML=l);h=0}catch{}}h&&this.empty().append(l)},null,c,arguments.length)},replaceWith:function(){var c=[];return go(this,arguments,function(l){var h=this.parentNode;g.inArray(this,c)<0&&(g.cleanData(sn(this)),h&&h.replaceChild(l,this))},c)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,l){g.fn[c]=function(h){for(var f,y=[],v=g(h),_=v.length-1,T=0;T<=_;T++)f=T===_?this:this.clone(!0),g(v[T])[l](f),o.apply(y,f.get());return this.pushStack(y)}});var rg=new RegExp("^("+GC+")(?!px)[a-z%]+$","i"),ig=/^--/,ql=function(c){var l=c.ownerDocument.defaultView;return(!l||!l.opener)&&(l=t),l.getComputedStyle(c)},r0=function(c,l,h){var f,y,v={};for(y in l)v[y]=c.style[y],c.style[y]=l[y];f=h.call(c);for(y in l)c.style[y]=v[y];return f},QO=new RegExp(zr.join("|"),"i");(function(){function c(){if(D){C.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",D.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Zi.appendChild(C).appendChild(D);var N=t.getComputedStyle(D);h=N.top!=="1%",T=l(N.marginLeft)===12,D.style.right="60%",v=l(N.right)===36,f=l(N.width)===36,D.style.position="absolute",y=l(D.offsetWidth/3)===12,Zi.removeChild(C),D=null}}function l(N){return Math.round(parseFloat(N))}var h,f,y,v,_,T,C=P.createElement("div"),D=P.createElement("div");D.style&&(D.style.backgroundClip="content-box",D.cloneNode(!0).style.backgroundClip="",I.clearCloneStyle=D.style.backgroundClip==="content-box",g.extend(I,{boxSizingReliable:function(){return c(),f},pixelBoxStyles:function(){return c(),v},pixelPosition:function(){return c(),h},reliableMarginLeft:function(){return c(),T},scrollboxSize:function(){return c(),y},reliableTrDimensions:function(){var N,k,R,L;return _==null&&(N=P.createElement("table"),k=P.createElement("tr"),R=P.createElement("div"),N.style.cssText="position:absolute;left:-11111px;border-collapse:separate",k.style.cssText="box-sizing:content-box;border:1px solid",k.style.height="1px",R.style.height="9px",R.style.display="block",Zi.appendChild(N).appendChild(k).appendChild(R),L=t.getComputedStyle(k),_=parseInt(L.height,10)+parseInt(L.borderTopWidth,10)+parseInt(L.borderBottomWidth,10)===k.offsetHeight,Zi.removeChild(N)),_}}))})();function sc(c,l,h){var f,y,v,_,T=ig.test(l),C=c.style;return h=h||ql(c),h&&(_=h.getPropertyValue(l)||h[l],T&&_&&(_=_.replace(ec,"$1")||void 0),_===""&&!lo(c)&&(_=g.style(c,l)),!I.pixelBoxStyles()&&rg.test(_)&&QO.test(l)&&(f=C.width,y=C.minWidth,v=C.maxWidth,C.minWidth=C.maxWidth=C.width=_,_=h.width,C.width=f,C.minWidth=y,C.maxWidth=v)),_!==void 0?_+"":_}function i0(c,l){return{get:function(){if(c()){delete this.get;return}return(this.get=l).apply(this,arguments)}}}var s0=["Webkit","Moz","ms"],o0=P.createElement("div").style,a0={};function YO(c){for(var l=c[0].toUpperCase()+c.slice(1),h=s0.length;h--;)if(c=s0[h]+l,c in o0)return c}function sg(c){var l=g.cssProps[c]||a0[c];return l||(c in o0?c:a0[c]=YO(c)||c)}var XO=/^(none|table(?!-c[ea]).+)/,ZO={position:"absolute",visibility:"hidden",display:"block"},c0={letterSpacing:"0",fontWeight:"400"};function u0(c,l,h){var f=rc.exec(l);return f?Math.max(0,f[2]-(h||0))+(f[3]||"px"):l}function og(c,l,h,f,y,v){var _=l==="width"?1:0,T=0,C=0,D=0;if(h===(f?"border":"content"))return 0;for(;_<4;_+=2)h==="margin"&&(D+=g.css(c,h+zr[_],!0,y)),f?(h==="content"&&(C-=g.css(c,"padding"+zr[_],!0,y)),h!=="margin"&&(C-=g.css(c,"border"+zr[_]+"Width",!0,y))):(C+=g.css(c,"padding"+zr[_],!0,y),h!=="padding"?C+=g.css(c,"border"+zr[_]+"Width",!0,y):T+=g.css(c,"border"+zr[_]+"Width",!0,y));return!f&&v>=0&&(C+=Math.max(0,Math.ceil(c["offset"+l[0].toUpperCase()+l.slice(1)]-v-C-T-.5))||0),C+D}function l0(c,l,h){var f=ql(c),y=!I.boxSizingReliable()||h,v=y&&g.css(c,"boxSizing",!1,f)==="border-box",_=v,T=sc(c,l,f),C="offset"+l[0].toUpperCase()+l.slice(1);if(rg.test(T)){if(!h)return T;T="auto"}return(!I.boxSizingReliable()&&v||!I.reliableTrDimensions()&&Ne(c,"tr")||T==="auto"||!parseFloat(T)&&g.css(c,"display",!1,f)==="inline")&&c.getClientRects().length&&(v=g.css(c,"boxSizing",!1,f)==="border-box",_=C in c,_&&(T=c[C])),T=parseFloat(T)||0,T+og(c,l,h||(v?"border":"content"),_,f,T)+"px"}g.extend({cssHooks:{opacity:{get:function(c,l){if(l){var h=sc(c,"opacity");return h===""?"1":h}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(c,l,h,f){if(!(!c||c.nodeType===3||c.nodeType===8||!c.style)){var y,v,_,T=ur(l),C=ig.test(l),D=c.style;if(C||(l=sg(T)),_=g.cssHooks[l]||g.cssHooks[T],h!==void 0){if(v=typeof h,v==="string"&&(y=rc.exec(h))&&y[1]&&(h=KC(c,l,y),v="number"),h==null||h!==h)return;v==="number"&&!C&&(h+=y&&y[3]||(g.cssNumber[T]?"":"px")),!I.clearCloneStyle&&h===""&&l.indexOf("background")===0&&(D[l]="inherit"),(!_||!("set"in _)||(h=_.set(c,h,f))!==void 0)&&(C?D.setProperty(l,h):D[l]=h)}else return _&&"get"in _&&(y=_.get(c,!1,f))!==void 0?y:D[l]}},css:function(c,l,h,f){var y,v,_,T=ur(l),C=ig.test(l);return C||(l=sg(T)),_=g.cssHooks[l]||g.cssHooks[T],_&&"get"in _&&(y=_.get(c,!0,h)),y===void 0&&(y=sc(c,l,f)),y==="normal"&&l in c0&&(y=c0[l]),h===""||h?(v=parseFloat(y),h===!0||isFinite(v)?v||0:y):y}}),g.each(["height","width"],function(c,l){g.cssHooks[l]={get:function(h,f,y){if(f)return XO.test(g.css(h,"display"))&&(!h.getClientRects().length||!h.getBoundingClientRect().width)?r0(h,ZO,function(){return l0(h,l,y)}):l0(h,l,y)},set:function(h,f,y){var v,_=ql(h),T=!I.scrollboxSize()&&_.position==="absolute",C=T||y,D=C&&g.css(h,"boxSizing",!1,_)==="border-box",N=y?og(h,l,y,D,_):0;return D&&T&&(N-=Math.ceil(h["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(_[l])-og(h,l,"border",!1,_)-.5)),N&&(v=rc.exec(f))&&(v[3]||"px")!=="px"&&(h.style[l]=f,f=g.css(h,l)),u0(h,f,N)}}}),g.cssHooks.marginLeft=i0(I.reliableMarginLeft,function(c,l){if(l)return(parseFloat(sc(c,"marginLeft"))||c.getBoundingClientRect().left-r0(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(c,l){g.cssHooks[c+l]={expand:function(h){for(var f=0,y={},v=typeof h=="string"?h.split(" "):[h];f<4;f++)y[c+zr[f]+l]=v[f]||v[f-2]||v[0];return y}},c!=="margin"&&(g.cssHooks[c+l].set=u0)}),g.fn.extend({css:function(c,l){return qr(this,function(h,f,y){var v,_,T={},C=0;if(Array.isArray(f)){for(v=ql(h),_=f.length;C<_;C++)T[f[C]]=g.css(h,f[C],!1,v);return T}return y!==void 0?g.style(h,f,y):g.css(h,f)},c,l,arguments.length>1)}});function on(c,l,h,f,y){return new on.prototype.init(c,l,h,f,y)}g.Tween=on,on.prototype={constructor:on,init:function(c,l,h,f,y,v){this.elem=c,this.prop=h,this.easing=y||g.easing._default,this.options=l,this.start=this.now=this.cur(),this.end=f,this.unit=v||(g.cssNumber[h]?"":"px")},cur:function(){var c=on.propHooks[this.prop];return c&&c.get?c.get(this):on.propHooks._default.get(this)},run:function(c){var l,h=on.propHooks[this.prop];return this.options.duration?this.pos=l=g.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=l=c,this.now=(this.end-this.start)*l+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),h&&h.set?h.set(this):on.propHooks._default.set(this),this}},on.prototype.init.prototype=on.prototype,on.propHooks={_default:{get:function(c){var l;return c.elem.nodeType!==1||c.elem[c.prop]!=null&&c.elem.style[c.prop]==null?c.elem[c.prop]:(l=g.css(c.elem,c.prop,""),!l||l==="auto"?0:l)},set:function(c){g.fx.step[c.prop]?g.fx.step[c.prop](c):c.elem.nodeType===1&&(g.cssHooks[c.prop]||c.elem.style[sg(c.prop)]!=null)?g.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}},on.propHooks.scrollTop=on.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}},g.easing={linear:function(c){return c},swing:function(c){return .5-Math.cos(c*Math.PI)/2},_default:"swing"},g.fx=on.prototype.init,g.fx.step={};var mo,zl,JO=/^(?:toggle|show|hide)$/,ek=/queueHooks$/;function ag(){zl&&(P.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(ag):t.setTimeout(ag,g.fx.interval),g.fx.tick())}function d0(){return t.setTimeout(function(){mo=void 0}),mo=Date.now()}function Wl(c,l){var h,f=0,y={height:c};for(l=l?1:0;f<4;f+=2-l)h=zr[f],y["margin"+h]=y["padding"+h]=c;return l&&(y.opacity=y.width=c),y}function h0(c,l,h){for(var f,y=($n.tweeners[l]||[]).concat($n.tweeners["*"]),v=0,_=y.length;v<_;v++)if(f=y[v].call(h,l,c))return f}function tk(c,l,h){var f,y,v,_,T,C,D,N,k="width"in l||"height"in l,R=this,L={},ce=c.style,Pe=c.nodeType&&$l(c),_e=Z.get(c,"fxshow");h.queue||(_=g._queueHooks(c,"fx"),_.unqueued==null&&(_.unqueued=0,T=_.empty.fire,_.empty.fire=function(){_.unqueued||T()}),_.unqueued++,R.always(function(){R.always(function(){_.unqueued--,g.queue(c,"fx").length||_.empty.fire()})}));for(f in l)if(y=l[f],JO.test(y)){if(delete l[f],v=v||y==="toggle",y===(Pe?"hide":"show"))if(y==="show"&&_e&&_e[f]!==void 0)Pe=!0;else continue;L[f]=_e&&_e[f]||g.style(c,f)}if(C=!g.isEmptyObject(l),!(!C&&g.isEmptyObject(L))){k&&c.nodeType===1&&(h.overflow=[ce.overflow,ce.overflowX,ce.overflowY],D=_e&&_e.display,D==null&&(D=Z.get(c,"display")),N=g.css(c,"display"),N==="none"&&(D?N=D:(ho([c],!0),D=c.style.display||D,N=g.css(c,"display"),ho([c]))),(N==="inline"||N==="inline-block"&&D!=null)&&g.css(c,"float")==="none"&&(C||(R.done(function(){ce.display=D}),D==null&&(N=ce.display,D=N==="none"?"":N)),ce.display="inline-block")),h.overflow&&(ce.overflow="hidden",R.always(function(){ce.overflow=h.overflow[0],ce.overflowX=h.overflow[1],ce.overflowY=h.overflow[2]})),C=!1;for(f in L)C||(_e?"hidden"in _e&&(Pe=_e.hidden):_e=Z.access(c,"fxshow",{display:D}),v&&(_e.hidden=!Pe),Pe&&ho([c],!0),R.done(function(){Pe||ho([c]),Z.remove(c,"fxshow");for(f in L)g.style(c,f,L[f])})),C=h0(Pe?_e[f]:0,f,R),f in _e||(_e[f]=C.start,Pe&&(C.end=C.start,C.start=0))}}function nk(c,l){var h,f,y,v,_;for(h in c)if(f=ur(h),y=l[f],v=c[h],Array.isArray(v)&&(y=v[1],v=c[h]=v[0]),h!==f&&(c[f]=v,delete c[h]),_=g.cssHooks[f],_&&"expand"in _){v=_.expand(v),delete c[f];for(h in v)h in c||(c[h]=v[h],l[h]=y)}else l[f]=y}function $n(c,l,h){var f,y,v=0,_=$n.prefilters.length,T=g.Deferred().always(function(){delete C.elem}),C=function(){if(y)return!1;for(var k=mo||d0(),R=Math.max(0,D.startTime+D.duration-k),L=R/D.duration||0,ce=1-L,Pe=0,_e=D.tweens.length;Pe<_e;Pe++)D.tweens[Pe].run(ce);return T.notifyWith(c,[D,ce,R]),ce<1&&_e?R:(_e||T.notifyWith(c,[D,1,0]),T.resolveWith(c,[D]),!1)},D=T.promise({elem:c,props:g.extend({},l),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},h),originalProperties:l,originalOptions:h,startTime:mo||d0(),duration:h.duration,tweens:[],createTween:function(k,R){var L=g.Tween(c,D.opts,k,R,D.opts.specialEasing[k]||D.opts.easing);return D.tweens.push(L),L},stop:function(k){var R=0,L=k?D.tweens.length:0;if(y)return this;for(y=!0;R<L;R++)D.tweens[R].run(1);return k?(T.notifyWith(c,[D,1,0]),T.resolveWith(c,[D,k])):T.rejectWith(c,[D,k]),this}}),N=D.props;for(nk(N,D.opts.specialEasing);v<_;v++)if(f=$n.prefilters[v].call(D,c,N,D.opts),f)return S(f.stop)&&(g._queueHooks(D.elem,D.opts.queue).stop=f.stop.bind(f)),f;return g.map(N,h0,D),S(D.opts.start)&&D.opts.start.call(c,D),D.progress(D.opts.progress).done(D.opts.done,D.opts.complete).fail(D.opts.fail).always(D.opts.always),g.fx.timer(g.extend(C,{elem:c,anim:D,queue:D.opts.queue})),D}g.Animation=g.extend($n,{tweeners:{"*":[function(c,l){var h=this.createTween(c,l);return KC(h.elem,c,rc.exec(l),h),h}]},tweener:function(c,l){S(c)?(l=c,c=["*"]):c=c.match(cr);for(var h,f=0,y=c.length;f<y;f++)h=c[f],$n.tweeners[h]=$n.tweeners[h]||[],$n.tweeners[h].unshift(l)},prefilters:[tk],prefilter:function(c,l){l?$n.prefilters.unshift(c):$n.prefilters.push(c)}}),g.speed=function(c,l,h){var f=c&&typeof c=="object"?g.extend({},c):{complete:h||!h&&l||S(c)&&c,duration:c,easing:h&&l||l&&!S(l)&&l};return g.fx.off?f.duration=0:typeof f.duration!="number"&&(f.duration in g.fx.speeds?f.duration=g.fx.speeds[f.duration]:f.duration=g.fx.speeds._default),(f.queue==null||f.queue===!0)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){S(f.old)&&f.old.call(this),f.queue&&g.dequeue(this,f.queue)},f},g.fn.extend({fadeTo:function(c,l,h,f){return this.filter($l).css("opacity",0).show().end().animate({opacity:l},c,h,f)},animate:function(c,l,h,f){var y=g.isEmptyObject(c),v=g.speed(l,h,f),_=function(){var T=$n(this,g.extend({},c),v);(y||Z.get(this,"finish"))&&T.stop(!0)};return _.finish=_,y||v.queue===!1?this.each(_):this.queue(v.queue,_)},stop:function(c,l,h){var f=function(y){var v=y.stop;delete y.stop,v(h)};return typeof c!="string"&&(h=l,l=c,c=void 0),l&&this.queue(c||"fx",[]),this.each(function(){var y=!0,v=c!=null&&c+"queueHooks",_=g.timers,T=Z.get(this);if(v)T[v]&&T[v].stop&&f(T[v]);else for(v in T)T[v]&&T[v].stop&&ek.test(v)&&f(T[v]);for(v=_.length;v--;)_[v].elem===this&&(c==null||_[v].queue===c)&&(_[v].anim.stop(h),y=!1,_.splice(v,1));(y||!h)&&g.dequeue(this,c)})},finish:function(c){return c!==!1&&(c=c||"fx"),this.each(function(){var l,h=Z.get(this),f=h[c+"queue"],y=h[c+"queueHooks"],v=g.timers,_=f?f.length:0;for(h.finish=!0,g.queue(this,c,[]),y&&y.stop&&y.stop.call(this,!0),l=v.length;l--;)v[l].elem===this&&v[l].queue===c&&(v[l].anim.stop(!0),v.splice(l,1));for(l=0;l<_;l++)f[l]&&f[l].finish&&f[l].finish.call(this);delete h.finish})}}),g.each(["toggle","show","hide"],function(c,l){var h=g.fn[l];g.fn[l]=function(f,y,v){return f==null||typeof f=="boolean"?h.apply(this,arguments):this.animate(Wl(l,!0),f,y,v)}}),g.each({slideDown:Wl("show"),slideUp:Wl("hide"),slideToggle:Wl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,l){g.fn[c]=function(h,f,y){return this.animate(l,h,f,y)}}),g.timers=[],g.fx.tick=function(){var c,l=0,h=g.timers;for(mo=Date.now();l<h.length;l++)c=h[l],!c()&&h[l]===c&&h.splice(l--,1);h.length||g.fx.stop(),mo=void 0},g.fx.timer=function(c){g.timers.push(c),g.fx.start()},g.fx.interval=13,g.fx.start=function(){zl||(zl=!0,ag())},g.fx.stop=function(){zl=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(c,l){return c=g.fx&&g.fx.speeds[c]||c,l=l||"fx",this.queue(l,function(h,f){var y=t.setTimeout(h,c);f.stop=function(){t.clearTimeout(y)}})},function(){var c=P.createElement("input"),l=P.createElement("select"),h=l.appendChild(P.createElement("option"));c.type="checkbox",I.checkOn=c.value!=="",I.optSelected=h.selected,c=P.createElement("input"),c.value="t",c.type="radio",I.radioValue=c.value==="t"}();var f0,oc=g.expr.attrHandle;g.fn.extend({attr:function(c,l){return qr(this,g.attr,c,l,arguments.length>1)},removeAttr:function(c){return this.each(function(){g.removeAttr(this,c)})}}),g.extend({attr:function(c,l,h){var f,y,v=c.nodeType;if(!(v===3||v===8||v===2)){if(typeof c.getAttribute>"u")return g.prop(c,l,h);if((v!==1||!g.isXMLDoc(c))&&(y=g.attrHooks[l.toLowerCase()]||(g.expr.match.bool.test(l)?f0:void 0)),h!==void 0){if(h===null){g.removeAttr(c,l);return}return y&&"set"in y&&(f=y.set(c,h,l))!==void 0?f:(c.setAttribute(l,h+""),h)}return y&&"get"in y&&(f=y.get(c,l))!==null?f:(f=g.find.attr(c,l),f??void 0)}},attrHooks:{type:{set:function(c,l){if(!I.radioValue&&l==="radio"&&Ne(c,"input")){var h=c.value;return c.setAttribute("type",l),h&&(c.value=h),l}}}},removeAttr:function(c,l){var h,f=0,y=l&&l.match(cr);if(y&&c.nodeType===1)for(;h=y[f++];)c.removeAttribute(h)}}),f0={set:function(c,l,h){return l===!1?g.removeAttr(c,h):c.setAttribute(h,h),h}},g.each(g.expr.match.bool.source.match(/\w+/g),function(c,l){var h=oc[l]||g.find.attr;oc[l]=function(f,y,v){var _,T,C=y.toLowerCase();return v||(T=oc[C],oc[C]=_,_=h(f,y,v)!=null?C:null,oc[C]=T),_}});var rk=/^(?:input|select|textarea|button)$/i,ik=/^(?:a|area)$/i;g.fn.extend({prop:function(c,l){return qr(this,g.prop,c,l,arguments.length>1)},removeProp:function(c){return this.each(function(){delete this[g.propFix[c]||c]})}}),g.extend({prop:function(c,l,h){var f,y,v=c.nodeType;if(!(v===3||v===8||v===2))return(v!==1||!g.isXMLDoc(c))&&(l=g.propFix[l]||l,y=g.propHooks[l]),h!==void 0?y&&"set"in y&&(f=y.set(c,h,l))!==void 0?f:c[l]=h:y&&"get"in y&&(f=y.get(c,l))!==null?f:c[l]},propHooks:{tabIndex:{get:function(c){var l=g.find.attr(c,"tabindex");return l?parseInt(l,10):rk.test(c.nodeName)||ik.test(c.nodeName)&&c.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),I.optSelected||(g.propHooks.selected={get:function(c){var l=c.parentNode;return l&&l.parentNode&&l.parentNode.selectedIndex,null},set:function(c){var l=c.parentNode;l&&(l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function Ji(c){var l=c.match(cr)||[];return l.join(" ")}function es(c){return c.getAttribute&&c.getAttribute("class")||""}function cg(c){return Array.isArray(c)?c:typeof c=="string"?c.match(cr)||[]:[]}g.fn.extend({addClass:function(c){var l,h,f,y,v,_;return S(c)?this.each(function(T){g(this).addClass(c.call(this,T,es(this)))}):(l=cg(c),l.length?this.each(function(){if(f=es(this),h=this.nodeType===1&&" "+Ji(f)+" ",h){for(v=0;v<l.length;v++)y=l[v],h.indexOf(" "+y+" ")<0&&(h+=y+" ");_=Ji(h),f!==_&&this.setAttribute("class",_)}}):this)},removeClass:function(c){var l,h,f,y,v,_;return S(c)?this.each(function(T){g(this).removeClass(c.call(this,T,es(this)))}):arguments.length?(l=cg(c),l.length?this.each(function(){if(f=es(this),h=this.nodeType===1&&" "+Ji(f)+" ",h){for(v=0;v<l.length;v++)for(y=l[v];h.indexOf(" "+y+" ")>-1;)h=h.replace(" "+y+" "," ");_=Ji(h),f!==_&&this.setAttribute("class",_)}}):this):this.attr("class","")},toggleClass:function(c,l){var h,f,y,v,_=typeof c,T=_==="string"||Array.isArray(c);return S(c)?this.each(function(C){g(this).toggleClass(c.call(this,C,es(this),l),l)}):typeof l=="boolean"&&T?l?this.addClass(c):this.removeClass(c):(h=cg(c),this.each(function(){if(T)for(v=g(this),y=0;y<h.length;y++)f=h[y],v.hasClass(f)?v.removeClass(f):v.addClass(f);else(c===void 0||_==="boolean")&&(f=es(this),f&&Z.set(this,"__className__",f),this.setAttribute&&this.setAttribute("class",f||c===!1?"":Z.get(this,"__className__")||""))}))},hasClass:function(c){var l,h,f=0;for(l=" "+c+" ";h=this[f++];)if(h.nodeType===1&&(" "+Ji(es(h))+" ").indexOf(l)>-1)return!0;return!1}});var sk=/\r/g;g.fn.extend({val:function(c){var l,h,f,y=this[0];return arguments.length?(f=S(c),this.each(function(v){var _;this.nodeType===1&&(f?_=c.call(this,v,g(this).val()):_=c,_==null?_="":typeof _=="number"?_+="":Array.isArray(_)&&(_=g.map(_,function(T){return T==null?"":T+""})),l=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!l||!("set"in l)||l.set(this,_,"value")===void 0)&&(this.value=_))})):y?(l=g.valHooks[y.type]||g.valHooks[y.nodeName.toLowerCase()],l&&"get"in l&&(h=l.get(y,"value"))!==void 0?h:(h=y.value,typeof h=="string"?h.replace(sk,""):h??"")):void 0}}),g.extend({valHooks:{option:{get:function(c){var l=g.find.attr(c,"value");return l??Ji(g.text(c))}},select:{get:function(c){var l,h,f,y=c.options,v=c.selectedIndex,_=c.type==="select-one",T=_?null:[],C=_?v+1:y.length;for(v<0?f=C:f=_?v:0;f<C;f++)if(h=y[f],(h.selected||f===v)&&!h.disabled&&(!h.parentNode.disabled||!Ne(h.parentNode,"optgroup"))){if(l=g(h).val(),_)return l;T.push(l)}return T},set:function(c,l){for(var h,f,y=c.options,v=g.makeArray(l),_=y.length;_--;)f=y[_],(f.selected=g.inArray(g.valHooks.option.get(f),v)>-1)&&(h=!0);return h||(c.selectedIndex=-1),v}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(c,l){if(Array.isArray(l))return c.checked=g.inArray(g(c).val(),l)>-1}},I.checkOn||(g.valHooks[this].get=function(c){return c.getAttribute("value")===null?"on":c.value})});var ac=t.location,p0={guid:Date.now()},ug=/\?/;g.parseXML=function(c){var l,h;if(!c||typeof c!="string")return null;try{l=new t.DOMParser().parseFromString(c,"text/xml")}catch{}return h=l&&l.getElementsByTagName("parsererror")[0],(!l||h)&&g.error("Invalid XML: "+(h?g.map(h.childNodes,function(f){return f.textContent}).join(`
`):c)),l};var g0=/^(?:focusinfocus|focusoutblur)$/,m0=function(c){c.stopPropagation()};g.extend(g.event,{trigger:function(c,l,h,f){var y,v,_,T,C,D,N,k,R=[h||P],L=p.call(c,"type")?c.type:c,ce=p.call(c,"namespace")?c.namespace.split("."):[];if(v=k=_=h=h||P,!(h.nodeType===3||h.nodeType===8)&&!g0.test(L+g.event.triggered)&&(L.indexOf(".")>-1&&(ce=L.split("."),L=ce.shift(),ce.sort()),C=L.indexOf(":")<0&&"on"+L,c=c[g.expando]?c:new g.Event(L,typeof c=="object"&&c),c.isTrigger=f?2:3,c.namespace=ce.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+ce.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=h),l=l==null?[c]:g.makeArray(l,[c]),N=g.event.special[L]||{},!(!f&&N.trigger&&N.trigger.apply(h,l)===!1))){if(!f&&!N.noBubble&&!F(h)){for(T=N.delegateType||L,g0.test(T+L)||(v=v.parentNode);v;v=v.parentNode)R.push(v),_=v;_===(h.ownerDocument||P)&&R.push(_.defaultView||_.parentWindow||t)}for(y=0;(v=R[y++])&&!c.isPropagationStopped();)k=v,c.type=y>1?T:N.bindType||L,D=(Z.get(v,"events")||Object.create(null))[c.type]&&Z.get(v,"handle"),D&&D.apply(v,l),D=C&&v[C],D&&D.apply&&tc(v)&&(c.result=D.apply(v,l),c.result===!1&&c.preventDefault());return c.type=L,!f&&!c.isDefaultPrevented()&&(!N._default||N._default.apply(R.pop(),l)===!1)&&tc(h)&&C&&S(h[L])&&!F(h)&&(_=h[C],_&&(h[C]=null),g.event.triggered=L,c.isPropagationStopped()&&k.addEventListener(L,m0),h[L](),c.isPropagationStopped()&&k.removeEventListener(L,m0),g.event.triggered=void 0,_&&(h[C]=_)),c.result}},simulate:function(c,l,h){var f=g.extend(new g.Event,h,{type:c,isSimulated:!0});g.event.trigger(f,null,l)}}),g.fn.extend({trigger:function(c,l){return this.each(function(){g.event.trigger(c,l,this)})},triggerHandler:function(c,l){var h=this[0];if(h)return g.event.trigger(c,l,h,!0)}});var ok=/\[\]$/,y0=/\r?\n/g,ak=/^(?:submit|button|image|reset|file)$/i,ck=/^(?:input|select|textarea|keygen)/i;function lg(c,l,h,f){var y;if(Array.isArray(l))g.each(l,function(v,_){h||ok.test(c)?f(c,_):lg(c+"["+(typeof _=="object"&&_!=null?v:"")+"]",_,h,f)});else if(!h&&Ie(l)==="object")for(y in l)lg(c+"["+y+"]",l[y],h,f);else f(c,l)}g.param=function(c,l){var h,f=[],y=function(v,_){var T=S(_)?_():_;f[f.length]=encodeURIComponent(v)+"="+encodeURIComponent(T??"")};if(c==null)return"";if(Array.isArray(c)||c.jquery&&!g.isPlainObject(c))g.each(c,function(){y(this.name,this.value)});else for(h in c)lg(h,c[h],l,y);return f.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=g.prop(this,"elements");return c?g.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!g(this).is(":disabled")&&ck.test(this.nodeName)&&!ak.test(c)&&(this.checked||!ic.test(c))}).map(function(c,l){var h=g(this).val();return h==null?null:Array.isArray(h)?g.map(h,function(f){return{name:l.name,value:f.replace(y0,`\r
`)}}):{name:l.name,value:h.replace(y0,`\r
`)}}).get()}});var uk=/%20/g,lk=/#.*$/,dk=/([?&])_=[^&]*/,hk=/^(.*?):[ \t]*([^\r\n]*)$/mg,fk=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pk=/^(?:GET|HEAD)$/,gk=/^\/\//,v0={},dg={},_0="*/".concat("*"),hg=P.createElement("a");hg.href=ac.href;function w0(c){return function(l,h){typeof l!="string"&&(h=l,l="*");var f,y=0,v=l.toLowerCase().match(cr)||[];if(S(h))for(;f=v[y++];)f[0]==="+"?(f=f.slice(1)||"*",(c[f]=c[f]||[]).unshift(h)):(c[f]=c[f]||[]).push(h)}}function E0(c,l,h,f){var y={},v=c===dg;function _(T){var C;return y[T]=!0,g.each(c[T]||[],function(D,N){var k=N(l,h,f);if(typeof k=="string"&&!v&&!y[k])return l.dataTypes.unshift(k),_(k),!1;if(v)return!(C=k)}),C}return _(l.dataTypes[0])||!y["*"]&&_("*")}function fg(c,l){var h,f,y=g.ajaxSettings.flatOptions||{};for(h in l)l[h]!==void 0&&((y[h]?c:f||(f={}))[h]=l[h]);return f&&g.extend(!0,c,f),c}function mk(c,l,h){for(var f,y,v,_,T=c.contents,C=c.dataTypes;C[0]==="*";)C.shift(),f===void 0&&(f=c.mimeType||l.getResponseHeader("Content-Type"));if(f){for(y in T)if(T[y]&&T[y].test(f)){C.unshift(y);break}}if(C[0]in h)v=C[0];else{for(y in h){if(!C[0]||c.converters[y+" "+C[0]]){v=y;break}_||(_=y)}v=v||_}if(v)return v!==C[0]&&C.unshift(v),h[v]}function yk(c,l,h,f){var y,v,_,T,C,D={},N=c.dataTypes.slice();if(N[1])for(_ in c.converters)D[_.toLowerCase()]=c.converters[_];for(v=N.shift();v;)if(c.responseFields[v]&&(h[c.responseFields[v]]=l),!C&&f&&c.dataFilter&&(l=c.dataFilter(l,c.dataType)),C=v,v=N.shift(),v){if(v==="*")v=C;else if(C!=="*"&&C!==v){if(_=D[C+" "+v]||D["* "+v],!_){for(y in D)if(T=y.split(" "),T[1]===v&&(_=D[C+" "+T[0]]||D["* "+T[0]],_)){_===!0?_=D[y]:D[y]!==!0&&(v=T[0],N.unshift(T[1]));break}}if(_!==!0)if(_&&c.throws)l=_(l);else try{l=_(l)}catch(k){return{state:"parsererror",error:_?k:"No conversion from "+C+" to "+v}}}}return{state:"success",data:l}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ac.href,type:"GET",isLocal:fk.test(ac.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_0,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,l){return l?fg(fg(c,g.ajaxSettings),l):fg(g.ajaxSettings,c)},ajaxPrefilter:w0(v0),ajaxTransport:w0(dg),ajax:function(c,l){typeof c=="object"&&(l=c,c=void 0),l=l||{};var h,f,y,v,_,T,C,D,N,k,R=g.ajaxSetup({},l),L=R.context||R,ce=R.context&&(L.nodeType||L.jquery)?g(L):g.event,Pe=g.Deferred(),_e=g.Callbacks("once memory"),kt=R.statusCode||{},It={},lr={},dr="canceled",Se={readyState:0,getResponseHeader:function(Ue){var ct;if(C){if(!v)for(v={};ct=hk.exec(y);)v[ct[1].toLowerCase()+" "]=(v[ct[1].toLowerCase()+" "]||[]).concat(ct[2]);ct=v[Ue.toLowerCase()+" "]}return ct==null?null:ct.join(", ")},getAllResponseHeaders:function(){return C?y:null},setRequestHeader:function(Ue,ct){return C==null&&(Ue=lr[Ue.toLowerCase()]=lr[Ue.toLowerCase()]||Ue,It[Ue]=ct),this},overrideMimeType:function(Ue){return C==null&&(R.mimeType=Ue),this},statusCode:function(Ue){var ct;if(Ue)if(C)Se.always(Ue[Se.status]);else for(ct in Ue)kt[ct]=[kt[ct],Ue[ct]];return this},abort:function(Ue){var ct=Ue||dr;return h&&h.abort(ct),ts(0,ct),this}};if(Pe.promise(Se),R.url=((c||R.url||ac.href)+"").replace(gk,ac.protocol+"//"),R.type=l.method||l.type||R.method||R.type,R.dataTypes=(R.dataType||"*").toLowerCase().match(cr)||[""],R.crossDomain==null){T=P.createElement("a");try{T.href=R.url,T.href=T.href,R.crossDomain=hg.protocol+"//"+hg.host!=T.protocol+"//"+T.host}catch{R.crossDomain=!0}}if(R.data&&R.processData&&typeof R.data!="string"&&(R.data=g.param(R.data,R.traditional)),E0(v0,R,l,Se),C)return Se;D=g.event&&R.global,D&&g.active++===0&&g.event.trigger("ajaxStart"),R.type=R.type.toUpperCase(),R.hasContent=!pk.test(R.type),f=R.url.replace(lk,""),R.hasContent?R.data&&R.processData&&(R.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(R.data=R.data.replace(uk,"+")):(k=R.url.slice(f.length),R.data&&(R.processData||typeof R.data=="string")&&(f+=(ug.test(f)?"&":"?")+R.data,delete R.data),R.cache===!1&&(f=f.replace(dk,"$1"),k=(ug.test(f)?"&":"?")+"_="+p0.guid+++k),R.url=f+k),R.ifModified&&(g.lastModified[f]&&Se.setRequestHeader("If-Modified-Since",g.lastModified[f]),g.etag[f]&&Se.setRequestHeader("If-None-Match",g.etag[f])),(R.data&&R.hasContent&&R.contentType!==!1||l.contentType)&&Se.setRequestHeader("Content-Type",R.contentType),Se.setRequestHeader("Accept",R.dataTypes[0]&&R.accepts[R.dataTypes[0]]?R.accepts[R.dataTypes[0]]+(R.dataTypes[0]!=="*"?", "+_0+"; q=0.01":""):R.accepts["*"]);for(N in R.headers)Se.setRequestHeader(N,R.headers[N]);if(R.beforeSend&&(R.beforeSend.call(L,Se,R)===!1||C))return Se.abort();if(dr="abort",_e.add(R.complete),Se.done(R.success),Se.fail(R.error),h=E0(dg,R,l,Se),!h)ts(-1,"No Transport");else{if(Se.readyState=1,D&&ce.trigger("ajaxSend",[Se,R]),C)return Se;R.async&&R.timeout>0&&(_=t.setTimeout(function(){Se.abort("timeout")},R.timeout));try{C=!1,h.send(It,ts)}catch(Ue){if(C)throw Ue;ts(-1,Ue)}}function ts(Ue,ct,uc,gg){var hr,lc,fr,pi,gi,An=ct;C||(C=!0,_&&t.clearTimeout(_),h=void 0,y=gg||"",Se.readyState=Ue>0?4:0,hr=Ue>=200&&Ue<300||Ue===304,uc&&(pi=mk(R,Se,uc)),!hr&&g.inArray("script",R.dataTypes)>-1&&g.inArray("json",R.dataTypes)<0&&(R.converters["text script"]=function(){}),pi=yk(R,pi,Se,hr),hr?(R.ifModified&&(gi=Se.getResponseHeader("Last-Modified"),gi&&(g.lastModified[f]=gi),gi=Se.getResponseHeader("etag"),gi&&(g.etag[f]=gi)),Ue===204||R.type==="HEAD"?An="nocontent":Ue===304?An="notmodified":(An=pi.state,lc=pi.data,fr=pi.error,hr=!fr)):(fr=An,(Ue||!An)&&(An="error",Ue<0&&(Ue=0))),Se.status=Ue,Se.statusText=(ct||An)+"",hr?Pe.resolveWith(L,[lc,An,Se]):Pe.rejectWith(L,[Se,An,fr]),Se.statusCode(kt),kt=void 0,D&&ce.trigger(hr?"ajaxSuccess":"ajaxError",[Se,R,hr?lc:fr]),_e.fireWith(L,[Se,An]),D&&(ce.trigger("ajaxComplete",[Se,R]),--g.active||g.event.trigger("ajaxStop")))}return Se},getJSON:function(c,l,h){return g.get(c,l,h,"json")},getScript:function(c,l){return g.get(c,void 0,l,"script")}}),g.each(["get","post"],function(c,l){g[l]=function(h,f,y,v){return S(f)&&(v=v||y,y=f,f=void 0),g.ajax(g.extend({url:h,type:l,dataType:v,data:f,success:y},g.isPlainObject(h)&&h))}}),g.ajaxPrefilter(function(c){var l;for(l in c.headers)l.toLowerCase()==="content-type"&&(c.contentType=c.headers[l]||"")}),g._evalUrl=function(c,l,h){return g.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(f){g.globalEval(f,l,h)}})},g.fn.extend({wrapAll:function(c){var l;return this[0]&&(S(c)&&(c=c.call(this[0])),l=g(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&l.insertBefore(this[0]),l.map(function(){for(var h=this;h.firstElementChild;)h=h.firstElementChild;return h}).append(this)),this},wrapInner:function(c){return S(c)?this.each(function(l){g(this).wrapInner(c.call(this,l))}):this.each(function(){var l=g(this),h=l.contents();h.length?h.wrapAll(c):l.append(c)})},wrap:function(c){var l=S(c);return this.each(function(h){g(this).wrapAll(l?c.call(this,h):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(c){return!g.expr.pseudos.visible(c)},g.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var vk={0:200,1223:204},cc=g.ajaxSettings.xhr();I.cors=!!cc&&"withCredentials"in cc,I.ajax=cc=!!cc,g.ajaxTransport(function(c){var l,h;if(I.cors||cc&&!c.crossDomain)return{send:function(f,y){var v,_=c.xhr();if(_.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(v in c.xhrFields)_[v]=c.xhrFields[v];c.mimeType&&_.overrideMimeType&&_.overrideMimeType(c.mimeType),!c.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");for(v in f)_.setRequestHeader(v,f[v]);l=function(T){return function(){l&&(l=h=_.onload=_.onerror=_.onabort=_.ontimeout=_.onreadystatechange=null,T==="abort"?_.abort():T==="error"?typeof _.status!="number"?y(0,"error"):y(_.status,_.statusText):y(vk[_.status]||_.status,_.statusText,(_.responseType||"text")!=="text"||typeof _.responseText!="string"?{binary:_.response}:{text:_.responseText},_.getAllResponseHeaders()))}},_.onload=l(),h=_.onerror=_.ontimeout=l("error"),_.onabort!==void 0?_.onabort=h:_.onreadystatechange=function(){_.readyState===4&&t.setTimeout(function(){l&&h()})},l=l("abort");try{_.send(c.hasContent&&c.data||null)}catch(T){if(l)throw T}},abort:function(){l&&l()}}}),g.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return g.globalEval(c),c}}}),g.ajaxPrefilter("script",function(c){c.cache===void 0&&(c.cache=!1),c.crossDomain&&(c.type="GET")}),g.ajaxTransport("script",function(c){if(c.crossDomain||c.scriptAttrs){var l,h;return{send:function(f,y){l=g("<script>").attr(c.scriptAttrs||{}).prop({charset:c.scriptCharset,src:c.url}).on("load error",h=function(v){l.remove(),h=null,v&&y(v.type==="error"?404:200,v.type)}),P.head.appendChild(l[0])},abort:function(){h&&h()}}}});var I0=[],pg=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=I0.pop()||g.expando+"_"+p0.guid++;return this[c]=!0,c}}),g.ajaxPrefilter("json jsonp",function(c,l,h){var f,y,v,_=c.jsonp!==!1&&(pg.test(c.url)?"url":typeof c.data=="string"&&(c.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&pg.test(c.data)&&"data");if(_||c.dataTypes[0]==="jsonp")return f=c.jsonpCallback=S(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,_?c[_]=c[_].replace(pg,"$1"+f):c.jsonp!==!1&&(c.url+=(ug.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return v||g.error(f+" was not called"),v[0]},c.dataTypes[0]="json",y=t[f],t[f]=function(){v=arguments},h.always(function(){y===void 0?g(t).removeProp(f):t[f]=y,c[f]&&(c.jsonpCallback=l.jsonpCallback,I0.push(f)),v&&S(y)&&y(v[0]),v=y=void 0}),"script"}),I.createHTMLDocument=function(){var c=P.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",c.childNodes.length===2}(),g.parseHTML=function(c,l,h){if(typeof c!="string")return[];typeof l=="boolean"&&(h=l,l=!1);var f,y,v;return l||(I.createHTMLDocument?(l=P.implementation.createHTMLDocument(""),f=l.createElement("base"),f.href=P.location.href,l.head.appendChild(f)):l=P),y=$C.exec(c),v=!h&&[],y?[l.createElement(y[1])]:(y=ZC([c],l,v),v&&v.length&&g(v).remove(),g.merge([],y.childNodes))},g.fn.load=function(c,l,h){var f,y,v,_=this,T=c.indexOf(" ");return T>-1&&(f=Ji(c.slice(T)),c=c.slice(0,T)),S(l)?(h=l,l=void 0):l&&typeof l=="object"&&(y="POST"),_.length>0&&g.ajax({url:c,type:y||"GET",dataType:"html",data:l}).done(function(C){v=arguments,_.html(f?g("<div>").append(g.parseHTML(C)).find(f):C)}).always(h&&function(C,D){_.each(function(){h.apply(this,v||[C.responseText,D,C])})}),this},g.expr.pseudos.animated=function(c){return g.grep(g.timers,function(l){return c===l.elem}).length},g.offset={setOffset:function(c,l,h){var f,y,v,_,T,C,D,N=g.css(c,"position"),k=g(c),R={};N==="static"&&(c.style.position="relative"),T=k.offset(),v=g.css(c,"top"),C=g.css(c,"left"),D=(N==="absolute"||N==="fixed")&&(v+C).indexOf("auto")>-1,D?(f=k.position(),_=f.top,y=f.left):(_=parseFloat(v)||0,y=parseFloat(C)||0),S(l)&&(l=l.call(c,h,g.extend({},T))),l.top!=null&&(R.top=l.top-T.top+_),l.left!=null&&(R.left=l.left-T.left+y),"using"in l?l.using.call(c,R):k.css(R)}},g.fn.extend({offset:function(c){if(arguments.length)return c===void 0?this:this.each(function(y){g.offset.setOffset(this,c,y)});var l,h,f=this[0];if(f)return f.getClientRects().length?(l=f.getBoundingClientRect(),h=f.ownerDocument.defaultView,{top:l.top+h.pageYOffset,left:l.left+h.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var c,l,h,f=this[0],y={top:0,left:0};if(g.css(f,"position")==="fixed")l=f.getBoundingClientRect();else{for(l=this.offset(),h=f.ownerDocument,c=f.offsetParent||h.documentElement;c&&(c===h.body||c===h.documentElement)&&g.css(c,"position")==="static";)c=c.parentNode;c&&c!==f&&c.nodeType===1&&(y=g(c).offset(),y.top+=g.css(c,"borderTopWidth",!0),y.left+=g.css(c,"borderLeftWidth",!0))}return{top:l.top-y.top-g.css(f,"marginTop",!0),left:l.left-y.left-g.css(f,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&g.css(c,"position")==="static";)c=c.offsetParent;return c||Zi})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,l){var h=l==="pageYOffset";g.fn[c]=function(f){return qr(this,function(y,v,_){var T;if(F(y)?T=y:y.nodeType===9&&(T=y.defaultView),_===void 0)return T?T[l]:y[v];T?T.scrollTo(h?T.pageXOffset:_,h?_:T.pageYOffset):y[v]=_},c,f,arguments.length)}}),g.each(["top","left"],function(c,l){g.cssHooks[l]=i0(I.pixelPosition,function(h,f){if(f)return f=sc(h,l),rg.test(f)?g(h).position()[l]+"px":f})}),g.each({Height:"height",Width:"width"},function(c,l){g.each({padding:"inner"+c,content:l,"":"outer"+c},function(h,f){g.fn[f]=function(y,v){var _=arguments.length&&(h||typeof y!="boolean"),T=h||(y===!0||v===!0?"margin":"border");return qr(this,function(C,D,N){var k;return F(C)?f.indexOf("outer")===0?C["inner"+c]:C.document.documentElement["client"+c]:C.nodeType===9?(k=C.documentElement,Math.max(C.body["scroll"+c],k["scroll"+c],C.body["offset"+c],k["offset"+c],k["client"+c])):N===void 0?g.css(C,D,T):g.style(C,D,N,T)},l,_?y:void 0,_)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(c,l){g.fn[l]=function(h){return this.on(l,h)}}),g.fn.extend({bind:function(c,l,h){return this.on(c,null,l,h)},unbind:function(c,l){return this.off(c,null,l)},delegate:function(c,l,h,f){return this.on(l,c,h,f)},undelegate:function(c,l,h){return arguments.length===1?this.off(c,"**"):this.off(l,c||"**",h)},hover:function(c,l){return this.on("mouseenter",c).on("mouseleave",l||c)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,l){g.fn[l]=function(h,f){return arguments.length>0?this.on(l,null,h,f):this.trigger(l)}});var _k=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(c,l){var h,f,y;if(typeof l=="string"&&(h=c[l],l=c,c=h),!!S(c))return f=i.call(arguments,2),y=function(){return c.apply(l||this,f.concat(i.call(arguments)))},y.guid=c.guid=c.guid||g.guid++,y},g.holdReady=function(c){c?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=Ne,g.isFunction=S,g.isWindow=F,g.camelCase=ur,g.type=Ie,g.now=Date.now,g.isNumeric=function(c){var l=g.type(c);return(l==="number"||l==="string")&&!isNaN(c-parseFloat(c))},g.trim=function(c){return c==null?"":(c+"").replace(_k,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return g});var wk=t.jQuery,Ek=t.$;return g.noConflict=function(c){return t.$===g&&(t.$=Ek),c&&t.jQuery===g&&(t.jQuery=wk),g},typeof e>"u"&&(t.jQuery=t.$=g),g})});var R0=null;var Cg=1;function mn(t){let e=R0;return R0=t,e}var M0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jk(t){if(!(Dg(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cg)){if(!t.producerMustRecompute(t)&&!Tg(t)){t.dirty=!1,t.lastCleanEpoch=Cg;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Cg}}function N0(t){return t&&(t.nextProducerIndex=0),mn(t)}function P0(t,e){if(mn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Dg(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)bg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Tg(t){Xl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(jk(n),r!==n.version))return!0}return!1}function O0(t){if(Xl(t),Dg(t))for(let e=0;e<t.producerNode.length;e++)bg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bg(t,e){if(Uk(t),Xl(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)bg(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Xl(i),i.producerIndexOfThis[r]=e}}function Dg(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Uk(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Bk(){throw new Error}var $k=Bk;function k0(t){$k=t}function de(t){return typeof t=="function"}function _o(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zl=_o(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function rs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ht=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(s){e=s instanceof Zl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{F0(s)}catch(o){e=e??[],o instanceof Zl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Zl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)F0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&rs(n,e)}remove(e){let{_finalizers:n}=this;n&&rs(n,e),e instanceof t&&e._removeParent(this)}};ht.EMPTY=(()=>{let t=new ht;return t.closed=!0,t})();var Sg=ht.EMPTY;function Jl(t){return t instanceof ht||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function F0(t){de(t)?t():t.unsubscribe()}var qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wo={setTimeout(t,e,...n){let{delegate:r}=wo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=wo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ed(t){wo.setTimeout(()=>{let{onUnhandledError:e}=qn;if(e)e(t);else throw t})}function hc(){}var L0=(()=>Ag("C",void 0,void 0))();function V0(t){return Ag("E",void 0,t)}function j0(t){return Ag("N",t,void 0)}function Ag(t,e,n){return{kind:t,value:e,error:n}}var is=null;function Eo(t){if(qn.useDeprecatedSynchronousErrorHandling){let e=!is;if(e&&(is={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=is;if(is=null,n)throw r}}else t()}function U0(t){qn.useDeprecatedSynchronousErrorHandling&&is&&(is.errorThrown=!0,is.error=t)}var ss=class extends ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jl(e)&&e.add(this)):this.destination=zk}static create(e,n,r){return new Io(e,n,r)}next(e){this.isStopped?Rg(j0(e),this):this._next(e)}error(e){this.isStopped?Rg(V0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rg(L0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Hk=Function.prototype.bind;function xg(t,e){return Hk.call(t,e)}var Mg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){td(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){td(r)}else td(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){td(n)}}},Io=class extends ss{constructor(e,n,r){super();let i;if(de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&qn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xg(e.next,s),error:e.error&&xg(e.error,s),complete:e.complete&&xg(e.complete,s)}):i=e}this.destination=new Mg(i)}};function td(t){qn.useDeprecatedSynchronousErrorHandling?U0(t):ed(t)}function qk(t){throw t}function Rg(t,e){let{onStoppedNotification:n}=qn;n&&wo.setTimeout(()=>n(t,e))}var zk={closed:!0,next:hc,error:qk,complete:hc};var Co=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function yn(t){return t}function nd(...t){return Ng(t)}function Ng(t){return t.length===0?yn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Gk(n)?n:new Io(n,r,i);return Eo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=B0(r),new r((i,s)=>{let o=new Io({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Co](){return this}pipe(...n){return Ng(n)(this)}toPromise(n){return n=B0(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function B0(t){var e;return(e=t??qn.Promise)!==null&&e!==void 0?e:Promise}function Wk(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}function Gk(t){return t&&t instanceof ss||Wk(t)&&Jl(t)}function Pg(t){return de(t?.lift)}function Oe(t){return e=>{if(Pg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(t,e,n,r,i){return new Og(t,e,n,r,i)}var Og=class extends ss{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function To(){return Oe((t,e)=>{let n=null;t._refCount++;let r=xe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var bo=class extends Ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ht;let n=this.getSubject();e.add(this.source.subscribe(xe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ht.EMPTY)}return e}refCount(){return To()(this)}};var $0=_o(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vn=(()=>{class t extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new rd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $0}next(n){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Sg:(this.currentObservers=null,s.push(n),new ht(()=>{this.currentObservers=null,rs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Ae;return n.source=this,n}}return t.create=(e,n)=>new rd(e,n),t})(),rd=class extends vn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Sg}};var Ft=class extends vn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kg={now(){return(kg.delegate||Date).now()},delegate:void 0};var id=class extends ht{constructor(e,n){super()}schedule(e,n=0){return this}};var fc={setInterval(t,e,...n){let{delegate:r}=fc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=fc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Do=class extends id{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return fc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&fc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,rs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var So=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};So.now=kg.now;var Ao=class extends So{constructor(e,n=So.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Fg=new Ao(Do);var sd=class extends Do{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var od=class extends Ao{};var Lg=new od(sd);var Rn=new Ae(t=>t.complete());function H0(t){return t&&de(t.schedule)}function q0(t){return t[t.length-1]}function ad(t){return de(q0(t))?t.pop():void 0}function vi(t){return H0(q0(t))?t.pop():void 0}function Vg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function W0(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(m){o(m)}}function u(p){try{d(r.throw(p))}catch(m){o(m)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function z0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function os(t){return this instanceof os?(this.v=t,this):new os(t)}function G0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(w){r[w]&&(i[w]=function(I){return new Promise(function(S,F){s.push([w,I,S,F])>1||a(w,I)})})}function a(w,I){try{u(r[w](I))}catch(S){m(s[0][3],S)}}function u(w){w.value instanceof os?Promise.resolve(w.value.v).then(d,p):m(s[0][2],w)}function d(w){a("next",w)}function p(w){a("throw",w)}function m(w,I){w(I),s.shift(),s.length&&a(s[0][0],s[0][1])}}function K0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof z0=="function"?z0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var cd=t=>t&&typeof t.length=="number"&&typeof t!="function";function ud(t){return de(t?.then)}function ld(t){return de(t[Co])}function dd(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function hd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Kk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fd=Kk();function pd(t){return de(t?.[fd])}function gd(t){return G0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield os(n.read());if(i)return yield os(void 0);yield yield os(r)}}finally{n.releaseLock()}})}function md(t){return de(t?.getReader)}function gt(t){if(t instanceof Ae)return t;if(t!=null){if(ld(t))return Qk(t);if(cd(t))return Yk(t);if(ud(t))return Xk(t);if(dd(t))return Q0(t);if(pd(t))return Zk(t);if(md(t))return Jk(t)}throw hd(t)}function Qk(t){return new Ae(e=>{let n=t[Co]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Yk(t){return new Ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Xk(t){return new Ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ed)})}function Zk(t){return new Ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Q0(t){return new Ae(e=>{e1(t,e).catch(n=>e.error(n))})}function Jk(t){return Q0(gd(t))}function e1(t,e){var n,r,i,s;return W0(this,void 0,void 0,function*(){try{for(n=K0(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function cn(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function _i(t,e=0){return Oe((n,r)=>{n.subscribe(xe(r,i=>cn(r,t,()=>r.next(i),e),()=>cn(r,t,()=>r.complete(),e),i=>cn(r,t,()=>r.error(i),e)))})}function wi(t,e=0){return Oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Y0(t,e){return gt(t).pipe(wi(e),_i(e))}function X0(t,e){return gt(t).pipe(wi(e),_i(e))}function Z0(t,e){return new Ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function J0(t,e){return new Ae(n=>{let r;return cn(n,e,()=>{r=t[fd](),cn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function yd(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ae(n=>{cn(n,e,()=>{let r=t[Symbol.asyncIterator]();cn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eT(t,e){return yd(gd(t),e)}function tT(t,e){if(t!=null){if(ld(t))return Y0(t,e);if(cd(t))return Z0(t,e);if(ud(t))return X0(t,e);if(dd(t))return yd(t,e);if(pd(t))return J0(t,e);if(md(t))return eT(t,e)}throw hd(t)}function ut(t,e){return e?tT(t,e):gt(t)}function fe(...t){let e=vi(t);return ut(t,e)}function xo(t,e){let n=de(t)?t:()=>t,r=i=>i.error(n());return new Ae(e?i=>e.schedule(r,0,i):r)}function jg(t){return!!t&&(t instanceof Ae||de(t.lift)&&de(t.subscribe))}var Kr=_o(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ee(t,e){return Oe((n,r)=>{let i=0;n.subscribe(xe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:t1}=Array;function n1(t,e){return t1(e)?t(...e):t(e)}function vd(t){return Ee(e=>n1(t,e))}var{isArray:r1}=Array,{getPrototypeOf:i1,prototype:s1,keys:o1}=Object;function _d(t){if(t.length===1){let e=t[0];if(r1(e))return{args:e,keys:null};if(a1(e)){let n=o1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function a1(t){return t&&typeof t=="object"&&i1(t)===s1}function wd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ed(...t){let e=vi(t),n=ad(t),{args:r,keys:i}=_d(t);if(r.length===0)return ut([],e);let s=new Ae(c1(r,e,i?o=>wd(i,o):yn));return n?s.pipe(vd(n)):s}function c1(t,e,n=yn){return r=>{nT(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)nT(e,()=>{let d=ut(t[u],e),p=!1;d.subscribe(xe(r,m=>{s[u]=m,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function nT(t,e,n){t?cn(n,t,e):e()}function rT(t,e,n,r,i,s,o,a){let u=[],d=0,p=0,m=!1,w=()=>{m&&!u.length&&!d&&e.complete()},I=F=>d<r?S(F):u.push(F),S=F=>{s&&e.next(F),d++;let P=!1;gt(n(F,p++)).subscribe(xe(e,K=>{i?.(K),s?I(K):e.next(K)},()=>{P=!0},void 0,()=>{if(P)try{for(d--;u.length&&d<r;){let K=u.shift();o?cn(e,o,()=>S(K)):S(K)}w()}catch(K){e.error(K)}}))};return t.subscribe(xe(e,I,()=>{m=!0,w()})),()=>{a?.()}}function Ct(t,e,n=1/0){return de(e)?Ct((r,i)=>Ee((s,o)=>e(r,s,i,o))(gt(t(r,i))),n):(typeof e=="number"&&(n=e),Oe((r,i)=>rT(r,i,t,n)))}function Ug(t=1/0){return Ct(yn,t)}function iT(){return Ug(1)}function Ro(...t){return iT()(ut(t,vi(t)))}function Id(t){return new Ae(e=>{gt(t()).subscribe(e)})}function Bg(...t){let e=ad(t),{args:n,keys:r}=_d(t),i=new Ae(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let m=!1;gt(n[p]).subscribe(xe(s,w=>{m||(m=!0,d--),a[p]=w},()=>u--,void 0,()=>{(!u||!m)&&(d||s.next(r?wd(r,a):a),s.complete())}))}});return e?i.pipe(vd(e)):i}function Mn(t,e){return Oe((n,r)=>{let i=0;n.subscribe(xe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ei(t){return Oe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(xe(n,void 0,void 0,o=>{s=gt(t(o,Ei(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function sT(t,e,n,r,i){return(s,o)=>{let a=n,u=e,d=0;s.subscribe(xe(o,p=>{let m=d++;u=a?t(u,p,m):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Mo(t,e){return de(e)?Ct(t,e,1):Ct(t,1)}function Ii(t){return Oe((e,n)=>{let r=!1;e.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qr(t){return t<=0?()=>Rn:Oe((e,n)=>{let r=0;e.subscribe(xe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $g(t){return Ee(()=>t)}function Cd(t=u1){return Oe((e,n)=>{let r=!1;e.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function u1(){return new Kr}function pc(t){return Oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function gr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mn((i,s)=>t(i,s,r)):yn,Qr(1),n?Ii(e):Cd(()=>new Kr))}function No(t){return t<=0?()=>Rn:Oe((e,n)=>{let r=[];e.subscribe(xe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mn((i,s)=>t(i,s,r)):yn,No(1),n?Ii(e):Cd(()=>new Kr))}function Td(t,e){return Oe(sT(t,e,arguments.length>=2,!0))}function bd(...t){let e=vi(t);return Oe((n,r)=>{(e?Ro(t,n,e):Ro(t,n)).subscribe(r)})}function zn(t,e){return Oe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(xe(r,u=>{i?.unsubscribe();let d=0,p=s++;gt(t(u,p)).subscribe(i=xe(r,m=>r.next(e?e(u,m,p,d++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function qg(t){return Oe((e,n)=>{gt(t).subscribe(xe(n,()=>n.complete(),hc)),!n.closed&&e.subscribe(n)})}function mt(t,e,n){let r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?Oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(xe(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):yn}function Ze(t){for(let e in t)if(t[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function Dd(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function om(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var l1=Ze({__forward_ref__:Ze});function Mc(t){return t.__forward_ref__=Mc,t.toString=function(){return Jt(this())},t}function Xt(t){return BT(t)?t():t}function BT(t){return typeof t=="function"&&t.hasOwnProperty(l1)&&t.__forward_ref__===Mc}function $T(t){return t&&!!t.\u0275providers}var HT="https://g.co/ng/security#xss",ne=class extends Error{constructor(e,n){super(Qm(e,n)),this.code=e}};function Qm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var d1=Ze({\u0275cmp:Ze}),h1=Ze({\u0275dir:Ze}),f1=Ze({\u0275pipe:Ze}),p1=Ze({\u0275mod:Ze}),kd=Ze({\u0275fac:Ze}),gc=Ze({__NG_ELEMENT_ID__:Ze}),oT=Ze({__NG_ENV_ID__:Ze});function _c(t){return typeof t=="string"?t:t==null?"":String(t)}function g1(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_c(t)}function m1(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ne(-200,`Circular dependency in DI detected for ${t}${n}`)}function Ym(t,e){let n=e?` in ${e}`:"";throw new ne(-201,!1)}function y1(t,e){t==null&&v1(e,t,null,"!=")}function v1(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function nh(t){return aT(t,zT)||aT(t,WT)}function qT(t){return nh(t)!==null}function aT(t,e){return t.hasOwnProperty(e)?t[e]:null}function _1(t){let e=t&&(t[zT]||t[WT]);return e||null}function cT(t){return t&&(t.hasOwnProperty(uT)||t.hasOwnProperty(w1))?t[uT]:null}var zT=Ze({\u0275prov:Ze}),uT=Ze({\u0275inj:Ze}),WT=Ze({ngInjectableDef:Ze}),w1=Ze({ngInjectorDef:Ze}),Ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ce||{}),am;function E1(){return am}function un(t){let e=am;return am=t,e}function GT(t,e,n){let r=nh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ce.Optional)return null;if(e!==void 0)return e;Ym(Jt(t),"Injector")}var mc=globalThis;var ie=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var I1={},wc=I1,cm="__NG_DI_FLAG__",Fd="ngTempTokenPath",C1="ngTokenPath",T1=/\n/gm,b1="\u0275",lT="__source",yc;function Ci(t){let e=yc;return yc=t,e}function D1(t,e=Ce.Default){if(yc===void 0)throw new ne(-203,!1);return yc===null?GT(t,void 0,e):yc.get(t,e&Ce.Optional?null:void 0,e)}function pe(t,e=Ce.Default){return(E1()||D1)(Xt(t),e)}function X(t,e=Ce.Default){return pe(t,rh(e))}function rh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function um(t){let e=[];for(let n=0;n<t.length;n++){let r=Xt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ne(900,!1);let i,s=Ce.Default;for(let o=0;o<r.length;o++){let a=r[o],u=S1(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(pe(i,s))}else e.push(pe(r))}return e}function KT(t,e){return t[cm]=e,t.prototype[cm]=e,t}function S1(t){return t[cm]}function A1(t,e,n,r){let i=t[Fd];throw e[lT]&&i.unshift(e[lT]),t.message=x1(`
`+t.message,i,n,r),t[C1]=i,t[Fd]=null,t}function x1(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==b1?t.slice(2):t;let i=Jt(e);if(Array.isArray(e))i=e.map(Jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Jt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(T1,`
  `)}`}function Nc(t){return{toString:t}.toString()}var QT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(QT||{}),vr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vr||{}),Lo={},ln=[];function YT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function lm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];M1(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function R1(t){return t===3||t===4||t===6}function M1(t){return t.charCodeAt(0)===64}function Ec(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?dT(t,n,i,null,e[++r]):dT(t,n,i,null,null))}}return t}function dT(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var XT="ng-template";function N1(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&YT(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function ZT(t){return t.type===4&&t.value!==XT}function P1(t,e,n){let r=t.type===4&&!n?XT:t.value;return e===r}function O1(t,e,n){let r=4,i=t.attrs||[],s=L1(i),o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Wn(r)&&!Wn(u))return!1;if(o&&Wn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!P1(t,u,n)||u===""&&e.length===1){if(Wn(r))return!1;o=!0}}else{let d=r&8?u:e[++a];if(r&8&&t.attrs!==null){if(!N1(t.attrs,d,n)){if(Wn(r))return!1;o=!0}continue}let p=r&8?"class":u,m=k1(p,i,ZT(t),n);if(m===-1){if(Wn(r))return!1;o=!0;continue}if(d!==""){let w;m>s?w="":w=i[m+1].toLowerCase();let I=r&8?w:null;if(I&&YT(I,d,0)!==-1||r&2&&d!==w){if(Wn(r))return!1;o=!0}}}}return Wn(r)||o}function Wn(t){return(t&1)===0}function k1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return V1(e,t)}function F1(t,e,n=!1){for(let r=0;r<e.length;r++)if(O1(t,e[r],n))return!0;return!1}function L1(t){for(let e=0;e<t.length;e++){let n=t[e];if(R1(n))return e}return t.length}function V1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hT(t,e){return t?":not("+e.trim()+")":e}function j1(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Wn(o)&&(e+=hT(s,i),i=""),r=o,s=s||!Wn(r);n++}return i!==""&&(e+=hT(s,i)),e}function U1(t){return t.map(j1).join(",")}function B1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Wn(i))break;i=s}r++}return{attrs:e,classes:n}}function dn(t){return Nc(()=>{let e=ib(t),n=Ye(G({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===QT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vr.Emulated,styles:t.styles||ln,_:null,schemas:t.schemas||null,tView:null,id:""});sb(n);let r=t.dependencies;return n.directiveDefs=pT(r,!1),n.pipeDefs=pT(r,!0),n.id=q1(n),n})}function $1(t){return cs(t)||eb(t)}function H1(t){return t!==null}function Bt(t){return Nc(()=>({type:t.type,bootstrap:t.bootstrap||ln,declarations:t.declarations||ln,imports:t.imports||ln,exports:t.exports||ln,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fT(t,e){if(t==null)return Lo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Yn(t){return Nc(()=>{let e=ib(t);return sb(e),e})}function JT(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function cs(t){return t[d1]||null}function eb(t){return t[h1]||null}function tb(t){return t[f1]||null}function nb(t){let e=cs(t)||eb(t)||tb(t);return e!==null?e.standalone:!1}function rb(t,e){let n=t[p1]||null;if(!n&&e===!0)throw new Error(`Type ${Jt(t)} does not have '\u0275mod' property.`);return n}function ib(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Lo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ln,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fT(t.inputs,e),outputs:fT(t.outputs),debugInfo:null}}function sb(t){t.features?.forEach(e=>e(t))}function pT(t,e){if(!t)return null;let n=e?tb:$1;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(H1)}function q1(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var ti=0,Re=1,oe=2,Tt=3,Kn=4,Xn=5,Ld=6,Ic=7,Yr=8,Vo=9,Xr=10,bt=11,Cc=12,gT=13,Pc=14,_r=15,ih=16,Po=17,Tc=18,sh=19,ob=20,vc=21,zg=22,us=23,wr=25,ab=1;var ls=7,Vd=8,jd=9,Nn=10,jo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(jo||{});function Ti(t){return Array.isArray(t)&&typeof t[ab]=="object"}function Qn(t){return Array.isArray(t)&&t[ab]===!0}function cb(t){return(t.flags&4)!==0}function oh(t){return t.componentOffset>-1}function Xm(t){return(t.flags&1)===1}function bi(t){return!!t.template}function z1(t){return(t[oe]&512)!==0}function ds(t,e){let n=t.hasOwnProperty(kd);return n?t[kd]:null}var dm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function qo(){return ub}function ub(t){return t.type.prototype.ngOnChanges&&(t.setInput=G1),W1}qo.ngInherit=!0;function W1(){let t=db(this),e=t?.current;if(e){let n=t.previous;if(n===Lo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function G1(t,e,n,r){let i=this.declaredInputs[n],s=db(t)||K1(t,{previous:Lo,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new dm(u&&u.currentValue,e,a===Lo),t[r]=e}var lb="__ngSimpleChanges__";function db(t){return t[lb]||null}function K1(t,e){return t[lb]=e}var mT=null;var mr=function(t,e,n){mT?.(t,e,n)},Q1="svg",Y1="math",X1=!1;function Z1(){return X1}function Er(t){for(;Array.isArray(t);)t=t[ti];return t}function hb(t,e){return Er(e[t])}function Zn(t,e){return Er(e[t.index])}function fb(t,e){return t.data[e]}function J1(t,e){return t[e]}function Si(t,e){let n=e[t];return Ti(n)?n:n[ti]}function Zm(t){return(t[oe]&128)===128}function eF(t){return Qn(t[Tt])}function Ud(t,e){return e==null?null:t[e]}function pb(t){t[Po]=0}function tF(t){t[oe]&1024||(t[oe]|=1024,Zm(t)&&bc(t))}function gb(t){return t[oe]&9216||t[us]?.dirty}function hm(t){gb(t)?bc(t):t[oe]&64&&(Z1()?(t[oe]|=1024,bc(t)):t[Xr].changeDetectionScheduler?.notify())}function bc(t){t[Xr].changeDetectionScheduler?.notify();let e=t[Tt];for(;e!==null&&!(Qn(e)&&e[oe]&jo.HasChildViewsToRefresh||Ti(e)&&e[oe]&8192);){if(Qn(e))e[oe]|=jo.HasChildViewsToRefresh;else if(e[oe]|=8192,!Zm(e))break;e=e[Tt]}}function nF(t,e){if((t[oe]&256)===256)throw new ne(911,!1);t[vc]===null&&(t[vc]=[]),t[vc].push(e)}var ke={lFrame:Tb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rF(){return ke.lFrame.elementDepthCount}function iF(){ke.lFrame.elementDepthCount++}function sF(){ke.lFrame.elementDepthCount--}function mb(){return ke.bindingsEnabled}function oF(){return ke.skipHydrationRootTNode!==null}function aF(t){return ke.skipHydrationRootTNode===t}function cF(){ke.skipHydrationRootTNode=null}function tt(){return ke.lFrame.lView}function _n(){return ke.lFrame.tView}function On(){let t=yb();for(;t!==null&&t.type===64;)t=t.parent;return t}function yb(){return ke.lFrame.currentTNode}function uF(){let t=ke.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Oc(t,e){let n=ke.lFrame;n.currentTNode=t,n.isParent=e}function vb(){return ke.lFrame.isParent}function lF(){ke.lFrame.isParent=!1}function _b(){let t=ke.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dF(){return ke.lFrame.bindingIndex}function hF(t){return ke.lFrame.bindingIndex=t}function wb(){return ke.lFrame.bindingIndex++}function Jm(t){let e=ke.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fF(){return ke.lFrame.inI18n}function pF(t,e){let n=ke.lFrame;n.bindingIndex=n.bindingRootIndex=t,fm(e)}function gF(){return ke.lFrame.currentDirectiveIndex}function fm(t){ke.lFrame.currentDirectiveIndex=t}function mF(t){let e=ke.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Eb(t){ke.lFrame.currentQueryIndex=t}function yF(t){let e=t[Re];return e.type===2?e.declTNode:e.type===1?t[Xn]:null}function Ib(t,e,n){if(n&Ce.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Ce.Host);)if(i=yF(s),i===null||(s=s[Pc],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ke.lFrame=Cb();return r.currentTNode=e,r.lView=t,!0}function ey(t){let e=Cb(),n=t[Re];ke.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Cb(){let t=ke.lFrame,e=t===null?null:t.child;return e===null?Tb(t):e}function Tb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bb(){let t=ke.lFrame;return ke.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Db=bb;function ty(){let t=bb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ai(){return ke.lFrame.selectedIndex}function hs(t){ke.lFrame.selectedIndex=t}function Sb(){let t=ke.lFrame;return fb(t.tView,t.selectedIndex)}function vF(){return ke.lFrame.currentNamespace}var Ab=!0;function ny(){return Ab}function ry(t){Ab=t}function _F(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ub(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function iy(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function Rd(t,e,n){xb(t,e,3,n)}function Md(t,e,n,r){(t[oe]&3)===n&&xb(t,e,n,r)}function Wg(t,e){let n=t[oe];(n&3)===e&&(n&=16383,n+=1,t[oe]=n)}function xb(t,e,n,r){let i=r!==void 0?t[Po]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Po]+=65536),(a<s||s==-1)&&(wF(t,n,e,u),t[Po]=(t[Po]&4294901760)+u+2),u++}function yT(t,e){mr(4,t,e);let n=mn(null);try{e.call(t)}finally{mn(n),mr(5,t,e)}}function wF(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[oe]>>14<t[Po]>>16&&(t[oe]&3)===e&&(t[oe]+=16384,yT(a,s)):yT(a,s)}var Fo=-1,fs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function EF(t){return t instanceof fs}function IF(t){return(t.flags&8)!==0}function CF(t){return(t.flags&16)!==0}function Rb(t){return t!==Fo}function Bd(t){let e=t&32767;return t&32767}function TF(t){return t>>16}function $d(t,e){let n=TF(t),r=e;for(;n>0;)r=r[Pc],n--;return r}var pm=!0;function Hd(t){let e=pm;return pm=t,e}var bF=256,Mb=bF-1,Nb=5,DF=0,yr={};function SF(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(gc)&&(r=n[gc]),r==null&&(r=n[gc]=DF++);let i=r&Mb,s=1<<i;e.data[t+(i>>Nb)]|=s}function qd(t,e){let n=Pb(t,e);if(n!==-1)return n;let r=e[Re];r.firstCreatePass&&(t.injectorIndex=e.length,Gg(r.data,t),Gg(e,null),Gg(r.blueprint,null));let i=sy(t,e),s=t.injectorIndex;if(Rb(i)){let o=Bd(i),a=$d(i,e),u=a[Re].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function Gg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Vb(i),r===null)return Fo;if(n++,i=i[Pc],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fo}function gm(t,e,n){SF(t,e,n)}function Ob(t,e,n){if(n&Ce.Optional||t!==void 0)return t;Ym(e,"NodeInjector")}function kb(t,e,n,r){if(n&Ce.Optional&&r===void 0&&(r=null),!(n&(Ce.Self|Ce.Host))){let i=t[Vo],s=un(void 0);try{return i?i.get(e,r,n&Ce.Optional):GT(e,r,n&Ce.Optional)}finally{un(s)}}return Ob(r,e,n)}function Fb(t,e,n,r=Ce.Default,i){if(t!==null){if(e[oe]&2048&&!(r&Ce.Self)){let o=NF(t,e,n,r,yr);if(o!==yr)return o}let s=Lb(t,e,n,r,yr);if(s!==yr)return s}return kb(e,n,r,i)}function Lb(t,e,n,r,i){let s=RF(n);if(typeof s=="function"){if(!Ib(e,t,r))return r&Ce.Host?Ob(i,n,r):kb(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Ce.Optional))Ym(n);else return o}finally{Db()}}else if(typeof s=="number"){let o=null,a=Pb(t,e),u=Fo,d=r&Ce.Host?e[_r][Xn]:null;for((a===-1||r&Ce.SkipSelf)&&(u=a===-1?sy(t,e):e[a+8],u===Fo||!_T(r,!1)?a=-1:(o=e[Re],a=Bd(u),e=$d(u,e)));a!==-1;){let p=e[Re];if(vT(s,a,p.data)){let m=AF(a,e,n,o,r,d);if(m!==yr)return m}u=e[a+8],u!==Fo&&_T(r,e[Re].data[a+8]===d)&&vT(s,a,e)?(o=p,a=Bd(u),e=$d(u,e)):a=-1}}return i}function AF(t,e,n,r,i,s){let o=e[Re],a=o.data[t+8],u=r==null?oh(a)&&pm:r!=o&&(a.type&3)!==0,d=i&Ce.Host&&s===a,p=xF(a,o,n,u,d);return p!==null?Uo(e,o,p,a):yr}function xF(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,d=t.directiveEnd,p=s>>20,m=r?a:a+p,w=i?a+p:d;for(let I=m;I<w;I++){let S=o[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=o[u];if(I&&bi(I)&&I.type===n)return u}return null}function Uo(t,e,n,r){let i=t[n],s=e.data;if(EF(i)){let o=i;o.resolving&&m1(g1(s[n]));let a=Hd(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?un(o.injectImpl):null,p=Ib(t,r,Ce.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&_F(n,s[n],e)}finally{d!==null&&un(d),Hd(a),o.resolving=!1,Db()}}return i}function RF(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(gc)?t[gc]:void 0;return typeof e=="number"?e>=0?e&Mb:MF:e}function vT(t,e,n){let r=1<<t;return!!(n[e+(t>>Nb)]&r)}function _T(t,e){return!(t&Ce.Self)&&!(t&Ce.Host&&e)}var as=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Fb(this._tNode,this._lView,e,rh(r),n)}};function MF(){return new as(On(),tt())}function kc(t){return Nc(()=>{let e=t.prototype.constructor,n=e[kd]||mm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[kd]||mm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function mm(t){return BT(t)?()=>{let e=mm(Xt(t));return e&&e()}:ds(t)}function NF(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[oe]&2048&&!(o[oe]&512);){let a=Lb(s,o,n,r|Ce.Self,yr);if(a!==yr)return a;let u=s.parent;if(!u){let d=o[ob];if(d){let p=d.get(n,yr,r);if(p!==yr)return p}u=Vb(o),o=o[Pc]}s=u}return i}function Vb(t){let e=t[Re],n=e.type;return n===2?e.declTNode:n===1?t[Xn]:null}var Sd="__parameters__";function PF(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function jb(t,e,n){return Nc(()=>{let r=PF(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let m=u.hasOwnProperty(Sd)?u[Sd]:Object.defineProperty(u,Sd,{value:[]})[Sd];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function OF(t){return typeof t=="function"}function oy(t,e){t.forEach(n=>Array.isArray(n)?oy(n,e):e(n))}function Ub(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kF(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function FF(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ay(t,e,n){let r=Fc(t,e);return r>=0?t[r|1]=n:(r=~r,FF(t,r,e,n)),r}function Kg(t,e){let n=Fc(t,e);if(n>=0)return t[n|1]}function Fc(t,e){return LF(t,e,1)}function LF(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ft=KT(jb("Optional"),8);var cy=KT(jb("SkipSelf"),4);var Bo=new ie("ENVIRONMENT_INITIALIZER"),Bb=new ie("INJECTOR",-1),$b=new ie("INJECTOR_DEF_TYPES"),Wd=class{get(e,n=wc){if(n===wc){let r=new Error(`NullInjectorError: No provider for ${Jt(e)}!`);throw r.name="NullInjectorError",r}return n}};function ah(t){return{\u0275providers:t}}function zo(...t){return{\u0275providers:Hb(!0,t),\u0275fromNgModule:!0}}function Hb(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return oy(e,o=>{let a=o;ym(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qb(i,s),n}function qb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];uy(i,s=>{e(s,r)})}}function ym(t,e,n,r){if(t=Xt(t),!t)return!1;let i=null,s=cT(t),o=!s&&cs(t);if(!s&&!o){let u=t.ngModule;if(s=cT(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)ym(d,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{oy(s.imports,p=>{ym(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&qb(d,e)}if(!a){let d=ds(i)||(()=>new i);e({provide:i,useFactory:d,deps:ln},i),e({provide:$b,useValue:i,multi:!0},i),e({provide:Bo,useValue:()=>pe(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=t;uy(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function uy(t,e){for(let n of t)$T(n)&&(n=n.\u0275providers),Array.isArray(n)?uy(n,e):e(n)}var VF=Ze({provide:String,useValue:Ze});function zb(t){return t!==null&&typeof t=="object"&&VF in t}function jF(t){return!!(t&&t.useExisting)}function UF(t){return!!(t&&t.useFactory)}function $o(t){return typeof t=="function"}function BF(t){return!!t.useClass}var ch=new ie("Set Injector scope."),Nd={},$F={},Qg;function ly(){return Qg===void 0&&(Qg=new Wd),Qg}var Pn=class{},Dc=class extends Pn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_m(e,o=>this.processProvider(o)),this.records.set(Bb,Oo(void 0,this)),i.has("environment")&&this.records.set(Pn,Oo(void 0,this));let s=this.records.get(ch);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($b,ln,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ci(this),r=un(void 0),i;try{return e()}finally{Ci(n),un(r)}}get(e,n=wc,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(oT))return e[oT](this);r=rh(r);let i,s=Ci(this),o=un(void 0);try{if(!(r&Ce.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=GF(e)&&nh(e);d&&this.injectableDefInScope(d)?u=Oo(vm(e),Nd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&Ce.Self?ly():this.parent;return n=r&Ce.Optional&&n===wc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Fd]=a[Fd]||[]).unshift(Jt(e)),s)throw a;return A1(a,e,"R3InjectorError",this.source)}else throw a}finally{un(o),Ci(s)}}resolveInjectorInitializers(){let e=Ci(this),n=un(void 0),r;try{let i=this.get(Bo,ln,Ce.Self);for(let s of i)s()}finally{Ci(e),un(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){e=Xt(e);let n=$o(e)?e:Xt(e&&e.provide),r=qF(e);if(!$o(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Oo(void 0,Nd,!0),i.factory=()=>um(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===Nd&&(n.value=$F,n.value=n.factory()),typeof n.value=="object"&&n.value&&WF(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Xt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vm(t){let e=nh(t),n=e!==null?e.factory:ds(t);if(n!==null)return n;if(t instanceof ie)throw new ne(204,!1);if(t instanceof Function)return HF(t);throw new ne(204,!1)}function HF(t){let e=t.length;if(e>0){let r=kF(e,"?");throw new ne(204,!1)}let n=_1(t);return n!==null?()=>n.factory(t):()=>new t}function qF(t){if(zb(t))return Oo(void 0,t.useValue);{let e=Wb(t);return Oo(e,Nd)}}function Wb(t,e,n){let r;if($o(t)){let i=Xt(t);return ds(i)||vm(i)}else if(zb(t))r=()=>Xt(t.useValue);else if(UF(t))r=()=>t.useFactory(...um(t.deps||[]));else if(jF(t))r=()=>pe(Xt(t.useExisting));else{let i=Xt(t&&(t.useClass||t.provide));if(zF(t))r=()=>new i(...um(t.deps));else return ds(i)||vm(i)}return r}function Oo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zF(t){return!!t.deps}function WF(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GF(t){return typeof t=="function"||typeof t=="object"&&t instanceof ie}function _m(t,e){for(let n of t)Array.isArray(n)?_m(n,e):n&&$T(n)?_m(n.\u0275providers,e):e(n)}function vs(t,e){t instanceof Dc&&t.assertNotDestroyed();let n,r=Ci(t),i=un(void 0);try{return e()}finally{Ci(r),un(i)}}function wT(t,e=null,n=null,r){let i=Gb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Gb(t,e=null,n=null,r,i=new Set){let s=[n||ln,zo(t)];return r=r||(typeof t=="object"?void 0:Jt(t)),new Dc(s,e||ly(),r||null,i)}var en=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return wT({name:""},i,r,"");{let s=r.name??"";return wT({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=wc,e.NULL=new Wd,e.\u0275prov=se({token:e,providedIn:"any",factory:()=>pe(Bb)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var wm;function Kb(t){wm=t}function KF(){if(wm!==void 0)return wm;if(typeof document<"u")return document;throw new ne(210,!1)}var dy=new ie("AppId",{providedIn:"root",factory:()=>QF}),QF="ng",hy=new ie("Platform Initializer"),xi=new ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var fy=new ie("CSP nonce",{providedIn:"root",factory:()=>KF().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Qb(t){return t instanceof Function?t():t}function Yb(t){return(t.flags&128)===128}var Zr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zr||{});var Xb=new Map,YF=0;function XF(){return YF++}function ZF(t){Xb.set(t[sh],t)}function JF(t){Xb.delete(t[sh])}var ET="__ngContext__";function ps(t,e){Ti(e)?(t[ET]=e[sh],ZF(e)):t[ET]=e}var eL;function py(t,e){return eL(t,e)}function gy(t){let e=t[Tt];return Qn(e)?e[Tt]:e}function Zb(t){return eD(t[Cc])}function Jb(t){return eD(t[Kn])}function eD(t){for(;t!==null&&!Qn(t);)t=t[Kn];return t}function ko(t,e,n,r,i){if(r!=null){let s,o=!1;Qn(r)?s=r:Ti(r)&&(o=!0,r=r[ti]);let a=Er(r);t===0&&n!==null?i==null?iD(e,n,a):Gd(e,n,a,i||null,!0):t===1&&n!==null?Gd(e,n,a,i||null,!0):t===2?vL(e,a,o):t===3&&e.destroyNode(a),s!=null&&wL(e,t,s,n,i)}}function tL(t,e){return t.createText(e)}function nL(t,e,n){t.setValue(e,n)}function tD(t,e,n){return t.createElement(e,n)}function rL(t,e){let n=e[bt];Lc(t,e,n,2,null,null),e[ti]=null,e[Xn]=null}function iL(t,e,n,r,i,s){r[ti]=i,r[Xn]=e,Lc(t,r,n,1,i,s)}function sL(t,e){Lc(t,e,e[bt],2,null,null)}function oL(t){let e=t[Cc];if(!e)return Yg(t[Re],t);for(;e;){let n=null;if(Ti(e))n=e[Cc];else{let r=e[Nn];r&&(n=r)}if(!n){for(;e&&!e[Kn]&&e!==t;)Ti(e)&&Yg(e[Re],e),e=e[Tt];e===null&&(e=t),Ti(e)&&Yg(e[Re],e),n=e&&e[Kn]}e=n}}function aL(t,e,n,r){let i=Nn+r,s=n.length;r>0&&(n[i-1][Kn]=e),r<s-Nn?(e[Kn]=n[i],Ub(n,Nn+r,e)):(n.push(e),e[Kn]=null),e[Tt]=n;let o=e[ih];o!==null&&n!==o&&cL(o,e);let a=e[Tc];a!==null&&a.insertView(t),hm(e),e[oe]|=128}function cL(t,e){let n=t[jd],i=e[Tt][Tt][_r];e[_r]!==i&&(t[oe]|=jo.HasTransplantedViews),n===null?t[jd]=[e]:n.push(e)}function nD(t,e){let n=t[jd],r=n.indexOf(e),i=e[Tt];n.splice(r,1)}function Em(t,e){if(t.length<=Nn)return;let n=Nn+e,r=t[n];if(r){let i=r[ih];i!==null&&i!==t&&nD(i,r),e>0&&(t[n-1][Kn]=r[Kn]);let s=zd(t,Nn+e);rL(r[Re],r);let o=s[Tc];o!==null&&o.detachView(s[Re]),r[Tt]=null,r[Kn]=null,r[oe]&=-129}return r}function rD(t,e){if(!(e[oe]&256)){let n=e[bt];n.destroyNode&&Lc(t,e,n,3,null,null),oL(e)}}function Yg(t,e){if(!(e[oe]&256)){e[oe]&=-129,e[oe]|=256,e[us]&&O0(e[us]),lL(t,e),uL(t,e),e[Re].type===1&&e[bt].destroy();let n=e[ih];if(n!==null&&Qn(e[Tt])){n!==e[Tt]&&nD(n,e);let r=e[Tc];r!==null&&r.detachView(t)}JF(e)}}function uL(t,e){let n=t.cleanup,r=e[Ic];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ic]=null);let i=e[vc];if(i!==null){e[vc]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function lL(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];mr(4,a,u);try{u.call(a)}finally{mr(5,a,u)}}else{mr(4,i,s);try{s.call(i)}finally{mr(5,i,s)}}}}}function dL(t,e,n){return hL(t,e.parent,n)}function hL(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ti];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===vr.None||s===vr.Emulated)return null}return Zn(r,n)}}function Gd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iD(t,e,n){t.appendChild(e,n)}function IT(t,e,n,r,i){r!==null?Gd(t,e,n,r,i):iD(t,e,n)}function fL(t,e,n,r){t.removeChild(e,n,r)}function my(t,e){return t.parentNode(e)}function pL(t,e){return t.nextSibling(e)}function gL(t,e,n){return yL(t,e,n)}function mL(t,e,n){return t.type&40?Zn(t,n):null}var yL=mL,CT;function yy(t,e,n,r){let i=dL(t,r,e),s=e[bt],o=r.parent||e[Xn],a=gL(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)IT(s,i,n[u],a,!1);else IT(s,i,n,a,!1);CT!==void 0&&CT(s,r,e,n,i)}function Pd(t,e){if(e!==null){let n=e.type;if(n&3)return Zn(e,t);if(n&4)return Im(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Pd(t,r);{let i=t[e.index];return Qn(i)?Im(-1,i):Er(i)}}else{if(n&32)return py(e,t)()||Er(t[e.index]);{let r=sD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gy(t[_r]);return Pd(i,r)}else return Pd(t,e.next)}}}return null}function sD(t,e){if(e!==null){let r=t[_r][Xn],i=e.projection;return r.projection[i]}return null}function Im(t,e){let n=Nn+t+1;if(n<e.length){let r=e[n],i=r[Re].firstChild;if(i!==null)return Pd(r,i)}return e[ls]}function vL(t,e,n){let r=my(t,e);r&&fL(t,r,e,n)}function vy(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&ps(Er(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)vy(t,e,n.child,r,i,s,!1),ko(e,t,i,a,s);else if(u&32){let d=py(n,r),p;for(;p=d();)ko(e,t,i,p,s);ko(e,t,i,a,s)}else u&16?_L(t,e,r,n,i,s):ko(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Lc(t,e,n,r,i,s){vy(n,r,t.firstChild,e,i,s,!1)}function _L(t,e,n,r,i,s){let o=n[_r],u=o[Xn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];ko(e,t,i,p,s)}else{let d=u,p=o[Tt];Yb(r)&&(d.flags|=128),vy(t,e,d,p,i,s,!0)}}function wL(t,e,n,r,i){let s=n[ls],o=Er(n);s!==o&&ko(e,t,r,s,i);for(let a=Nn;a<n.length;a++){let u=n[a];Lc(u[Re],u,t,e,r,s)}}function EL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Zr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Zr.Important),t.setStyle(n,r,i,s))}}function IL(t,e,n){t.setAttribute(e,"style",n)}function oD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&lm(t,e,r),i!==null&&oD(t,e,i),s!==null&&IL(t,e,s)}var Kd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${HT})`}};function Vc(t){return t instanceof Kd?t.changingThisBreaksApplicationSecurity:t}function cD(t,e){let n=CL(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${HT})`)}return n===e}function CL(t){return t instanceof Kd&&t.getTypeName()||null}var TL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uD(t){return t=String(t),t.match(TL)?t:"unsafe:"+t}var _y=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(_y||{});function jc(t){let e=bL();return e?e.sanitize(_y.URL,t)||"":cD(t,"URL")?Vc(t):uD(_c(t))}function bL(){let t=tt();return t&&t[Xr].sanitizer}var Cm=class{};var DL="h",SL="b";var AL=(t,e,n)=>null;function wy(t,e,n=!1){return AL(t,e,n)}var Tm=class{},Qd=class{};function xL(t){let e=Error(`No component factory found for ${Jt(t)}.`);return e[RL]=t,e}var RL="ngComponent";var bm=class{resolveComponentFactory(e){throw xL(e)}},uh=(()=>{let e=class e{};e.NULL=new bm;let t=e;return t})();function ML(){return lh(On(),tt())}function lh(t,e){return new Ri(Zn(t,e))}var Ri=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ML;let t=e;return t})();var Sc=class{},_s=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>NL();let t=e;return t})();function NL(){let t=tt(),e=On(),n=Si(e.index,t);return(Ti(n)?n:t)[bt]}var PL=(()=>{let e=class e{};e.\u0275prov=se({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Xg={};function lD(t){return Ey(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function OL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Ey(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Dm=class{constructor(){}supports(e){return lD(e)}create(e){return new Sm(e)}},kL=(t,e)=>e,Sm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<TT(r,i,s)?n:r,a=TT(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,p=u-i;if(d!=p){for(let w=0;w<d;w++){let I=w<s.length?s[w]:s[w]=0,S=I+w;p<=S&&S<d&&(s[w]=I+1)}let m=o.previousIndex;s[m]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!lD(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,OL(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Am(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Yd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Yd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Am=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Yd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new xm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TT(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Rm=class{constructor(){}supports(e){return e instanceof Map||Ey(e)}create(){return new Mm}},Mm=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Ey(e)))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Nm(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Nm=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function bT(){return new dh([new Dm])}var dh=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||bT()),deps:[[e,new cy,new ft]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new ne(901,!1)}};e.\u0275prov=se({token:e,providedIn:"root",factory:bT});let t=e;return t})();function DT(){return new Iy([new Rm])}var Iy=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||DT()),deps:[[e,new cy,new ft]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ne(901,!1)}};e.\u0275prov=se({token:e,providedIn:"root",factory:DT});let t=e;return t})();function Xd(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Er(s)),Qn(s)&&FL(s,r);let o=n.type;if(o&8)Xd(t,e,n.child,r);else if(o&32){let a=py(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=sD(e,n);if(Array.isArray(a))r.push(...a);else{let u=gy(e[_r]);Xd(u[Re],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function FL(t,e){for(let n=Nn;n<t.length;n++){let r=t[n],i=r[Re].firstChild;i!==null&&Xd(r[Re],r,i,e)}t[ls]!==t[ti]&&e.push(t[ls])}var dD=[];function LL(t){return t[us]??VL(t)}function VL(t){let e=dD.pop()??Object.create(UL);return e.lView=t,e}function jL(t){t.lView[us]!==t&&(t.lView=null,dD.push(t))}var UL=Ye(G({},M0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bc(t.lView)},consumerOnSignalRead(){this.lView[us]=this}}),BL="ngOriginalError";function Zg(t){return t[BL]}var Jr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zg(e);for(;n&&Zg(n);)n=Zg(n);return n||null}},hD=new ie("",{providedIn:"root",factory:()=>X(Jr).handleError.bind(void 0)});var fD=!1,$L=new ie("",{providedIn:"root",factory:()=>fD});var kn={};function we(t){pD(_n(),tt(),Ai()+t,!1)}function pD(t,e,n,r){if(!r)if((e[oe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Rd(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Md(e,s,0,n)}hs(n)}function $e(t,e=Ce.Default){let n=tt();if(n===null)return pe(t,e);let r=On();return Fb(r,n,Xt(t),e)}function HL(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hs(~i);else{let s=i,o=n[++r],a=n[++r];pF(o,s);let u=e[s];a(2,u)}}}finally{hs(-1)}}function hh(t,e,n,r,i,s,o,a,u,d,p){let m=e.blueprint.slice();return m[ti]=i,m[oe]=r|4|128|8|64,(d!==null||t&&t[oe]&2048)&&(m[oe]|=2048),pb(m),m[Tt]=m[Pc]=t,m[Yr]=n,m[Xr]=o||t&&t[Xr],m[bt]=a||t&&t[bt],m[Vo]=u||t&&t[Vo]||null,m[Xn]=s,m[sh]=XF(),m[Ld]=p,m[ob]=d,m[_r]=e.type==2?t[_r]:m,m}function fh(t,e,n,r,i){let s=t.data[e];if(s===null)s=qL(t,e,n,r,i),fF()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=uF();s.injectorIndex=o===null?-1:o.injectorIndex}return Oc(s,!0),s}function qL(t,e,n,r,i){let s=yb(),o=vb(),a=o?s:s&&s.parent,u=t.data[e]=QL(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function gD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mD(t,e,n,r,i){let s=Ai(),o=r&2;try{hs(-1),o&&e.length>wr&&pD(t,e,wr,!1),mr(o?2:0,i),n(r,i)}finally{hs(s),mr(o?3:1,i)}}function yD(t,e,n){if(cb(e)){let r=mn(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{mn(r)}}}function vD(t,e,n){mb()&&(tV(t,e,n,Zn(n,e)),(n.flags&64)===64&&TD(t,e,n))}function _D(t,e,n=Zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function wD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Cy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Cy(t,e,n,r,i,s,o,a,u,d,p){let m=wr+r,w=m+i,I=zL(m,w),S=typeof d=="function"?d():d;return I[Re]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:p}}function zL(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:kn);return n}function WL(t,e,n,r){let s=r.get($L,fD)||n===vr.ShadowDom,o=t.selectRootElement(e,s);return GL(o),o}function GL(t){KL(t)}var KL=t=>null;function QL(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return oF()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ST(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?AT(n,e,i,s):r.hasOwnProperty(i)&&AT(n,e,r[i],s)}return n}function AT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function YL(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let m=s[p],w=n?n.get(m):null,I=w?w.inputs:null,S=w?w.outputs:null;u=ST(m.inputs,p,u,I),d=ST(m.outputs,p,d,S);let F=u!==null&&o!==null&&!ZT(e)?lV(u,p,o):null;a.push(F)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function XL(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ED(t,e,n,r,i,s,o,a){let u=Zn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(Ty(t,n,p,r,i),oh(e)&&ZL(n,e.index)):e.type&3?(r=XL(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function ZL(t,e){let n=Si(e,t);n[oe]&16||(n[oe]|=64)}function ID(t,e,n,r){if(mb()){let i=r===null?null:{"":-1},s=rV(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&CD(t,e,n,o,i,a),i&&iV(n,r,i)}n.mergedAttrs=Ec(n.mergedAttrs,n.attrs)}function CD(t,e,n,r,i,s){for(let d=0;d<r.length;d++)gm(qd(n,e),t,r[d].type);oV(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=gD(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=Ec(n.mergedAttrs,p.hostAttrs),aV(t,n,e,u,p),sV(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let m=p.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}YL(t,n,s)}function JL(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;eV(o)!=a&&o.push(a),o.push(n,r,s)}}function eV(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function tV(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;oh(n)&&cV(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qd(n,e),ps(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],d=Uo(e,t,a,n);if(ps(d,e),o!==null&&uV(e,a-i,d,u,n,o),bi(u)){let p=Si(n.index,e);p[Yr]=Uo(e,t,a,n)}}}function TD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=gF();try{hs(s);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];fm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&nV(u,d)}}finally{hs(-1),fm(o)}}function nV(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function rV(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(F1(e,o.selectors,!1))if(r||(r=[]),bi(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Pm(t,e,u)}else r.unshift(o),Pm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Pm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iV(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new ne(-301,!1);r.push(e[i],s)}}}function sV(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bi(e)&&(n[""]=t)}}function oV(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function aV(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ds(i.type,!0)),o=new fs(s,bi(i),$e);t.blueprint[r]=o,n[r]=o,JL(t,e,r,gD(t,n,i.hostVars,kn),i)}function cV(t,e,n){let r=Zn(e,t),i=wD(n),s=t[Xr].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ph(t,hh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function uV(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++];bD(r,n,u,d,p)}}function bD(t,e,n,r,i){let s=mn(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{mn(s)}}function lV(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function DD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function SD(t,e){let n=t.contentQueries;if(n!==null){let r=mn(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Eb(s),a.contentQueries(2,e[o],o)}}}finally{mn(r)}}}function ph(t,e){return t[Cc]?t[gT][Kn]=e:t[Cc]=e,t[gT]=e,e}function Om(t,e,n){Eb(0);let r=mn(null);try{e(t,n)}finally{mn(r)}}function dV(t){return t[Ic]||(t[Ic]=[])}function hV(t){return t.cleanup||(t.cleanup=[])}function AD(t,e){let n=t[Vo],r=n?n.get(Jr,null):null;r&&r.handleError(e)}function Ty(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=e[o],d=t.data[o];bD(d,u,r,a,i)}}function xD(t,e,n){let r=hb(e,t);nL(t[bt],r,n)}var fV=100;function pV(t,e=!0){let n=t[Xr],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{gV(t)}catch(o){throw e&&AD(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function gV(t){km(t,0);let e=0;for(;gb(t);){if(e===fV)throw new ne(103,!1);e++,km(t,1)}}function mV(t,e,n,r){let i=e[oe];if((i&256)===256)return;let s=!1;!s&&e[Xr].inlineEffectRunner?.flush(),ey(e);let o=null,a=null;!s&&yV(t)&&(a=LL(e),o=N0(a));try{pb(e),hF(t.bindingStartIndex),n!==null&&mD(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let m=t.preOrderCheckHooks;m!==null&&Rd(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Md(e,m,0,null),Wg(e,0)}if(vV(e),RD(e,0),t.contentQueries!==null&&SD(t,e),!s)if(u){let m=t.contentCheckHooks;m!==null&&Rd(e,m)}else{let m=t.contentHooks;m!==null&&Md(e,m,1),Wg(e,1)}HL(t,e);let d=t.components;d!==null&&ND(e,d,0);let p=t.viewQuery;if(p!==null&&Om(2,p,r),!s)if(u){let m=t.viewCheckHooks;m!==null&&Rd(e,m)}else{let m=t.viewHooks;m!==null&&Md(e,m,2),Wg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zg]){for(let m of e[zg])m();e[zg]=null}s||(e[oe]&=-73)}catch(u){throw bc(e),u}finally{a!==null&&(P0(a,o),jL(a)),ty()}}function yV(t){return t.type!==2}function RD(t,e){for(let n=Zb(t);n!==null;n=Jb(n)){n[oe]&=~jo.HasChildViewsToRefresh;for(let r=Nn;r<n.length;r++){let i=n[r];MD(i,e)}}}function vV(t){for(let e=Zb(t);e!==null;e=Jb(e)){if(!(e[oe]&jo.HasTransplantedViews))continue;let n=e[jd];for(let r=0;r<n.length;r++){let i=n[r],s=i[Tt];tF(i)}}}function _V(t,e,n){let r=Si(e,t);MD(r,n)}function MD(t,e){Zm(t)&&km(t,e)}function km(t,e){let r=t[Re],i=t[oe],s=t[us],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Tg(s)),s&&(s.dirty=!1),t[oe]&=-9217,o)mV(r,t,r.template,t[Yr]);else if(i&8192){RD(t,1);let a=r.components;a!==null&&ND(t,a,1)}}function ND(t,e,n){for(let r=0;r<e.length;r++)_V(t,e[r],n)}function by(t){for(t[Xr].changeDetectionScheduler?.notify();t;){t[oe]|=64;let e=gy(t);if(z1(t)&&!e)return t;t=e}return null}var gs=class{get rootNodes(){let e=this._lView,n=e[Re];return Xd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yr]}set context(e){this._lView[Yr]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(Qn(e)){let n=e[Vd],r=n?n.indexOf(this):-1;r>-1&&(Em(e,r),zd(n,r))}this._attachedToViewContainer=!1}rD(this._lView[Re],this._lView)}onDestroy(e){nF(this._lView,e)}markForCheck(){by(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){hm(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,pV(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,sL(this._lView[Re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e,hm(this._lView)}},Wo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wV;let t=e;return t})();function wV(t){return EV(On(),tt(),(t&16)===16)}function EV(t,e,n){if(oh(t)&&!n){let r=Si(t.index,e);return new gs(r,r)}else if(t.type&47){let r=e[_r];return new gs(r,e)}return null}var xT=new Set;function PD(t){xT.has(t)||(xT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Fm=class extends vn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Jg(s),i&&(i=Jg(i)),o&&(o=Jg(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ht&&e.add(a),a}};function Jg(t){return e=>{setTimeout(t,void 0,e)}}var Zt=Fm;function RT(...t){}function IV(){let t=typeof mc.requestAnimationFrame=="function",e=mc[t?"requestAnimationFrame":"setTimeout"],n=mc[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var qe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zt(!1),this.onMicrotaskEmpty=new Zt(!1),this.onStable=new Zt(!1),this.onError=new Zt(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=IV().nativeRequestAnimationFrame,bV(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ne(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,CV,RT,RT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},CV={};function Dy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function TV(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mc,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Lm(t),t.isCheckStableRunning=!0,Dy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Lm(t))}function bV(t){let e=()=>{TV(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(DV(a))return n.invokeTask(i,s,o,a);try{return MT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),NT(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return MT(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),NT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Lm(t),Dy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Lm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function MT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function NT(t){t._nesting--,Dy(t)}function DV(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var SV=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=se({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function AV(t,e){let n=Si(e,t),r=n[Re];xV(r,n);let i=n[ti];i!==null&&n[Ld]===null&&(n[Ld]=wy(i,n[Vo])),Sy(r,n,n[Yr])}function xV(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Sy(t,e,n){ey(e);try{let r=t.viewQuery;r!==null&&Om(1,r,n);let i=t.template;i!==null&&mD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&SD(t,e),t.staticViewQueries&&Om(2,t.viewQuery,n);let s=t.components;s!==null&&RV(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,ty()}}function RV(t,e){for(let n=0;n<e.length;n++)AV(t,e[n])}function Vm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=om(i,a);else if(s==2){let u=a,d=e[++o];r=om(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Zd=class extends uh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=cs(e);return new Ac(n,this.ngModule)}};function PT(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function MV(t){let e=t.toLowerCase();return e==="svg"?Q1:e==="math"?Y1:null}var jm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=rh(r);let i=this.injector.get(e,Xg,r);return i!==Xg||n===Xg?i:this.parentInjector.get(e,n,r)}},Ac=class extends Qd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=PT(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return PT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=U1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Pn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new jm(e,s):e,a=o.get(Sc,null);if(a===null)throw new ne(407,!1);let u=o.get(PL,null),d=o.get(SV,null),p=o.get(Cm,null),m={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:p},w=a.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?WL(w,r,this.componentDef.encapsulation,o):tD(w,I,MV(I)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let P=null;S!==null&&(P=wy(S,o,!0));let K=Cy(0,null,null,1,0,null,null,null,null,null,null),ve=hh(null,K,null,F,null,null,m,w,o,null,P);ey(ve);let Ie,je;try{let ot=this.componentDef,g,Ot=null;ot.findHostDirectiveDefs?(g=[],Ot=new Map,ot.findHostDirectiveDefs(ot,g,Ot),g.push(ot)):g=[ot];let Ne=NV(ve,S),$r=PV(Ne,S,ot,g,ve,m,w);je=fb(K,wr),S&&FV(w,ot,S,r),n!==void 0&&LV(je,this.ngContentSelectors,n),Ie=kV($r,ot,g,Ot,ve,[VV]),Sy(K,ve,null)}finally{ty()}return new Um(this.componentType,Ie,lh(je,ve),ve,je)}},Um=class extends Tm{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new gs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ty(s[Re],s,i,e,n),this.previousInputValues.set(e,n);let o=Si(this._tNode.index,s);by(o)}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function NV(t,e){let n=t[Re],r=wr;return t[r]=e,fh(n,r,2,"#host",null)}function PV(t,e,n,r,i,s,o){let a=i[Re];OV(r,t,e,o);let u=null;e!==null&&(u=wy(e,i[Vo]));let d=s.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let m=hh(i,wD(n),null,p,i[t.index],t,s,d,null,null,u);return a.firstCreatePass&&Pm(a,t,r.length-1),ph(i,m),i[t.index]=m}function OV(t,e,n,r){for(let i of t)e.mergedAttrs=Ec(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Vm(e,e.mergedAttrs,!0),n!==null&&aD(r,n,e))}function kV(t,e,n,r,i,s){let o=On(),a=i[Re],u=Zn(o,i);CD(a,i,o,n,null,r);for(let p=0;p<n.length;p++){let m=o.directiveStart+p,w=Uo(i,a,m,o);ps(w,i)}TD(a,i,o),u&&ps(u,i);let d=Uo(i,a,o.directiveStart+o.componentOffset,o);if(t[Yr]=i[Yr]=d,s!==null)for(let p of s)p(d,e);return yD(a,o,t),d}function FV(t,e,n,r){if(r)lm(t,n,["ng-version","17.0.8"]);else{let{attrs:i,classes:s}=B1(e.selectors[0]);i&&lm(t,n,i),s&&s.length>0&&oD(t,n,s.join(" "))}}function LV(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function VV(){let t=On();iy(tt()[Re],t)}function jV(t){return Object.getPrototypeOf(t.prototype).constructor}function Go(t){let e=jV(t.type),n=!0,r=[t];for(;e;){let i;if(bi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Ad(t.inputs),o.inputTransforms=Ad(t.inputTransforms),o.declaredInputs=Ad(t.declaredInputs),o.outputs=Ad(t.outputs);let a=i.hostBindings;a&&HV(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&BV(t,u),d&&$V(t,d),Dd(t.inputs,i.inputs),Dd(t.declaredInputs,i.declaredInputs),Dd(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),Dd(o.inputTransforms,i.inputTransforms)),bi(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Go&&(n=!1)}}e=Object.getPrototypeOf(e)}UV(r)}function UV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ec(i.hostAttrs,n=Ec(n,i.hostAttrs))}}function Ad(t){return t===Lo?{}:t===ln?[]:t}function BV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function $V(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function HV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function qV(t,e,n){return t[e]=n}function ms(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zV(t,e,n,r){let i=ms(t,e,n);return ms(t,e+1,r)||i}function OD(t,e,n,r){return ms(t,wb(),n)?e+_c(n)+r:kn}function WV(t,e,n,r,i,s){let o=dF(),a=zV(t,o,n,i);return Jm(2),a?e+_c(n)+r+_c(i)+s:kn}function xd(t,e){return t<<17|e<<2}function ys(t){return t>>17&32767}function GV(t){return(t&2)==2}function KV(t,e){return t&131071|e<<17}function Bm(t){return t|2}function Ho(t){return(t&131068)>>2}function em(t,e){return t&-131069|e<<2}function QV(t){return(t&1)===1}function $m(t){return t|1}function YV(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ys(o),u=Ho(o);t[r]=n;let d=!1,p;if(Array.isArray(n)){let m=n;p=m[1],(p===null||Fc(m,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let w=ys(t[a+1]);t[r+1]=xd(w,a),w!==0&&(t[w+1]=em(t[w+1],r)),t[a+1]=KV(t[a+1],r)}else t[r+1]=xd(a,0),a!==0&&(t[a+1]=em(t[a+1],r)),a=r;else t[r+1]=xd(u,0),a===0?a=r:t[u+1]=em(t[u+1],r),u=r;d&&(t[r+1]=Bm(t[r+1])),OT(t,p,r,!0,s),OT(t,p,r,!1,s),XV(e,p,t,r,s),o=xd(a,u),s?e.classBindings=o:e.styleBindings=o}function XV(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Fc(s,e)>=0&&(n[r+1]=$m(n[r+1]))}function OT(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?ys(s):Ho(s),u=!1;for(;a!==0&&(u===!1||o);){let d=t[a],p=t[a+1];ZV(d,e)&&(u=!0,t[a+1]=r?$m(p):Bm(p)),a=r?ys(p):Ho(p)}u&&(t[n+1]=r?Bm(s):$m(s))}function ZV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fc(t,e)>=0:!1}var Gn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function JV(t){return t.substring(Gn.key,Gn.keyEnd)}function e2(t){return t2(t),kD(t,FD(t,0,Gn.textEnd))}function kD(t,e){let n=Gn.textEnd;return n===e?-1:(e=Gn.keyEnd=n2(t,Gn.key=e,n),FD(t,e,n))}function t2(t){Gn.key=0,Gn.keyEnd=0,Gn.value=0,Gn.valueEnd=0,Gn.textEnd=t.length}function FD(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function n2(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function yt(t,e,n){let r=tt(),i=wb();if(ms(r,i,e)){let s=_n(),o=Sb();ED(s,o,r,t,e,r[bt],n,!1)}return yt}function Hm(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ty(t,n,s[o],o,r)}function Ay(t,e){return i2(t,e,null,!0),Ay}function LD(t){s2(d2,r2,t,!0)}function r2(t,e){for(let n=e2(e);n>=0;n=kD(e,n))ay(t,JV(e),!0)}function i2(t,e,n,r){let i=tt(),s=_n(),o=Jm(2);if(s.firstUpdatePass&&jD(s,t,o,r),e!==kn&&ms(i,o,e)){let a=s.data[Ai()];UD(s,a,i,i[bt],t,i[o+1]=f2(e,n),r,o)}}function s2(t,e,n,r){let i=_n(),s=Jm(2);i.firstUpdatePass&&jD(i,null,s,r);let o=tt();if(n!==kn&&ms(o,s,n)){let a=i.data[Ai()];if(BD(a,r)&&!VD(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=om(u,n||"")),Hm(i,a,o,n,r)}else h2(i,a,o,o[bt],o[s+1],o[s+1]=l2(t,e,n),r,s)}}function VD(t,e){return e>=t.expandoStartIndex}function jD(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ai()],o=VD(t,n);BD(s,r)&&e===null&&!o&&(e=!1),e=o2(i,s,e,r),YV(i,s,e,n,o,r)}}function o2(t,e,n,r){let i=mF(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=tm(null,t,e,n,r),n=xc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=tm(i,t,e,n,r),s===null){let u=a2(t,e,r);u!==void 0&&Array.isArray(u)&&(u=tm(null,t,e,u[1],r),u=xc(u,e.attrs,r),c2(t,e,r,u))}else s=u2(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function a2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ho(r)!==0)return t[ys(r)]}function c2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ys(i)]=r}function u2(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=xc(r,o,n)}return xc(r,e.attrs,n)}function tm(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=xc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ay(t,o,n?!0:e[++s]))}return t===void 0?null:t}function l2(t,e,n){if(n==null||n==="")return ln;let r=[],i=Vc(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function d2(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&ay(t,r,n)}function h2(t,e,n,r,i,s,o,a){i===kn&&(i=ln);let u=0,d=0,p=0<i.length?i[0]:null,m=0<s.length?s[0]:null;for(;p!==null||m!==null;){let w=u<i.length?i[u+1]:void 0,I=d<s.length?s[d+1]:void 0,S=null,F;p===m?(u+=2,d+=2,w!==I&&(S=m,F=I)):m===null||p!==null&&p<m?(u+=2,S=p):(d+=2,S=m,F=I),S!==null&&UD(t,e,n,r,S,F,o,a),p=u<i.length?i[u]:null,m=d<s.length?s[d]:null}}function UD(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=QV(d)?kT(u,e,n,i,Ho(d),o):void 0;if(!Jd(p)){Jd(s)||GV(d)&&(s=kT(u,null,n,i,a,o));let m=hb(Ai(),n);EL(r,o,m,i,s)}}function kT(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,m=p===null,w=n[i+1];w===kn&&(w=m?ln:void 0);let I=m?Kg(w,r):p===r?w:void 0;if(d&&!Jd(I)&&(I=Kg(u,r)),Jd(I)&&(a=I,o))return a;let S=t[i+1];i=o?ys(S):Ho(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Kg(u,r))}return a}function Jd(t){return t!==void 0}function f2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Jt(Vc(t)))),t}function BD(t,e){return(t.flags&(e?8:16))!==0}var FY=new RegExp(`^(\\d+)*(${SL}|${DL})*(.*)`);var p2=(t,e)=>null;function FT(t,e){return p2(t,e)}function g2(t,e,n,r){let i=e.tView,o=t[oe]&4096?4096:16,a=hh(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];a[ih]=u;let d=t[Tc];return d!==null&&(a[Tc]=d.createEmbeddedView(i)),Sy(i,a,n),a}function LT(t,e){return!e||e.firstChild===null||Yb(t)}function m2(t,e,n,r=!0){let i=e[Re];if(aL(i,e,t,n),r){let o=Im(n,t),a=e[bt],u=my(a,t[ls]);u!==null&&iL(i,t[Xn],a,e,u,o)}let s=e[Ld];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var Uc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=y2;let t=e;return t})();function y2(){let t=On();return _2(t,tt())}var v2=Uc,$D=class extends v2{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return lh(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){let e=sy(this._hostTNode,this._hostLView);if(Rb(e)){let n=$d(e,this._hostLView),r=Bd(e),i=n[Re].data[r+8];return new as(i,n)}else return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=VT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Nn}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=FT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,LT(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!OF(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Ac(cs(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let F=(o?d:this.parentInjector).get(Pn,null);F&&(s=F)}let p=cs(u.componentType??{}),m=FT(this._lContainer,p?.id??null),w=m?.firstChild??null,I=u.create(d,i,w,s);return this.insertImpl(I.hostView,a,LT(this._hostTNode,m)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(eF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Tt],d=new $D(u,u[Xn],u[Tt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return m2(o,i,s,r),e.attachToViewContainerRef(),Ub(nm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=VT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);r&&(zd(nm(this._lContainer),n),rD(r[Re],r))}detach(e){let n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);return r&&zd(nm(this._lContainer),n)!=null?new gs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function VT(t){return t[Vd]}function nm(t){return t[Vd]||(t[Vd]=[])}function _2(t,e){let n,r=e[t.index];return Qn(r)?n=r:(n=DD(r,e,null,t),e[t.index]=n,ph(e,n)),E2(n,e,t,r),new $D(n,t,e)}function w2(t,e){let n=t[bt],r=n.createComment(""),i=Zn(e,t),s=my(n,i);return Gd(n,s,r,pL(n,i),!1),r}var E2=T2,I2=(t,e,n)=>!1;function C2(t,e,n){return I2(t,e,n)}function T2(t,e,n,r){if(t[ls])return;let i;n.type&8?i=Er(r):i=w2(e,n),t[ls]=i}function b2(t,e,n,r,i,s,o,a,u){let d=e.consts,p=fh(e,t,4,o||null,Ud(d,a));ID(e,n,p,Ud(d,u)),iy(e,p);let m=p.tView=Cy(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function Ir(t,e,n,r,i,s,o,a){let u=tt(),d=_n(),p=t+wr,m=d.firstCreatePass?b2(p,d,u,e,n,r,i,s,o):d.data[p];Oc(m,!1);let w=D2(d,u,m,t);ny()&&yy(d,u,w,m),ps(w,u);let I=DD(w,u,w,m);return u[p]=I,ph(u,I),C2(I,m,u),Xm(m)&&vD(d,u,m),o!=null&&_D(u,m,a),Ir}var D2=S2;function S2(t,e,n,r){return ry(!0),e[bt].createComment("")}function A2(t,e,n,r,i,s){let o=e.consts,a=Ud(o,i),u=fh(e,t,2,r,a);return ID(e,n,u,Ud(o,s)),u.attrs!==null&&Vm(u,u.attrs,!1),u.mergedAttrs!==null&&Vm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function z(t,e,n,r){let i=tt(),s=_n(),o=wr+t,a=i[bt],u=s.firstCreatePass?A2(o,s,i,e,n,r):s.data[o],d=x2(s,i,u,a,e,t);i[o]=d;let p=Xm(u);return Oc(u,!0),aD(a,d,u),(u.flags&32)!==32&&ny()&&yy(s,i,d,u),rF()===0&&ps(d,i),iF(),p&&(vD(s,i,u),yD(s,u,i)),r!==null&&_D(i,u),z}function W(){let t=On();vb()?lF():(t=t.parent,Oc(t,!1));let e=t;aF(e)&&cF(),sF();let n=_n();return n.firstCreatePass&&(iy(n,t),cb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&IF(e)&&Hm(n,e,tt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CF(e)&&Hm(n,e,tt(),e.stylesWithoutHost,!1),W}function it(t,e,n,r){return z(t,e,n,r),W(),it}var x2=(t,e,n,r,i,s)=>(ry(!0),tD(r,i,vF()));var eh="en-US";var R2=eh;function M2(t){y1(t,"Expected localeId to be defined"),typeof t=="string"&&(R2=t.toLowerCase().replace(/_/g,"-"))}function ws(t){return!!t&&typeof t.then=="function"}function HD(t){return!!t&&typeof t.subscribe=="function"}function hn(t,e,n,r){let i=tt(),s=_n(),o=On();return P2(s,i,i[bt],o,t,e,r),hn}function N2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ic],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function P2(t,e,n,r,i,s,o){let a=Xm(r),d=t.firstCreatePass&&hV(t),p=e[Yr],m=dV(e),w=!0;if(r.type&3||o){let F=Zn(r,e),P=o?o(F):F,K=m.length,ve=o?je=>o(Er(je[r.index])):r.index,Ie=null;if(!o&&a&&(Ie=N2(t,e,i,r.index)),Ie!==null){let je=Ie.__ngLastListenerFn__||Ie;je.__ngNextListenerFn__=s,Ie.__ngLastListenerFn__=s,w=!1}else{s=UT(r,e,p,s,!1);let je=n.listen(P,i,s);m.push(s,je),d&&d.push(i,ve,K,K+1)}}else s=UT(r,e,p,s,!1);let I=r.outputs,S;if(w&&I!==null&&(S=I[i])){let F=S.length;if(F)for(let P=0;P<F;P+=2){let K=S[P],ve=S[P+1],ot=e[K][ve].subscribe(s),g=m.length;m.push(s,ot),d&&d.push(i,r.index,g,-(g+1))}}}function jT(t,e,n,r){try{return mr(6,e,n),n(r)!==!1}catch(i){return AD(t,i),!1}finally{mr(7,e,n)}}function UT(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Si(t.index,e):e;by(a);let u=jT(e,n,r,o),d=s.__ngNextListenerFn__;for(;d;)u=jT(e,n,d,o)&&u,d=d.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function Ko(t,e,n){return qD(t,"",e,"",n),Ko}function qD(t,e,n,r,i){let s=tt(),o=OD(s,e,n,r);if(o!==kn){let a=_n(),u=Sb();ED(a,u,s,t,o,s[bt],i,!1)}return qD}function O2(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function J(t,e=""){let n=tt(),r=_n(),i=t+wr,s=r.firstCreatePass?fh(r,i,1,e,null):r.data[i],o=k2(r,n,s,e,t);n[i]=o,ny()&&yy(r,n,o,s),Oc(s,!1)}var k2=(t,e,n,r,i)=>(ry(!0),tL(e[bt],r));function wn(t){return Cr("",t,""),wn}function Cr(t,e,n){let r=tt(),i=OD(r,t,e,n);return i!==kn&&xD(r,Ai(),i),Cr}function Bc(t,e,n,r,i){let s=tt(),o=WV(s,t,e,n,r,i);return o!==kn&&xD(s,Ai(),o),Bc}function F2(t,e,n){let r=_n();if(r.firstCreatePass){let i=bi(t);qm(n,r.data,r.blueprint,i,!0),qm(e,r.data,r.blueprint,i,!1)}}function qm(t,e,n,r,i){if(t=Xt(t),Array.isArray(t))for(let s=0;s<t.length;s++)qm(t[s],e,n,r,i);else{let s=_n(),o=tt(),a=On(),u=$o(t)?t:Xt(t.provide),d=Wb(t),p=a.providerIndexes&1048575,m=a.directiveStart,w=a.providerIndexes>>20;if($o(t)||!t.multi){let I=new fs(d,i,$e),S=im(u,e,i?p:p+w,m);S===-1?(gm(qd(a,o),s,u),rm(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)):(n[S]=I,o[S]=I)}else{let I=im(u,e,p+w,m),S=im(u,e,p,p+w),F=I>=0&&n[I],P=S>=0&&n[S];if(i&&!P||!i&&!F){gm(qd(a,o),s,u);let K=j2(i?V2:L2,n.length,i,r,d);!i&&P&&(n[S].providerFactory=K),rm(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(K),o.push(K)}else{let K=zD(n[i?S:I],d,!i&&r);rm(s,t,I>-1?I:S,K)}!i&&r&&P&&n[S].componentProviders++}}}function rm(t,e,n,r){let i=$o(e),s=BF(e);if(i||s){let u=(s?Xt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function zD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function im(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function L2(t,e,n,r){return zm(this.multi,[])}function V2(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Uo(n,n[Re],this.providerFactory.index,r);s=a.slice(0,o),zm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],zm(i,s);return s}function zm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function j2(t,e,n,r,i){let s=new fs(t,n,$e);return s.multi=[],s.index=e,s.componentProviders=0,zD(s,i,r&&!n),s}function xy(t,e=[]){return n=>{n.providersResolver=(r,i)=>F2(r,i?i(t):t,e)}}var Di=class{},Rc=class{};var Wm=class extends Di{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zd(this);let i=rb(e);this._bootstrapComponents=Qb(i.bootstrap),this._r3Injector=Gb(e,n,[{provide:Di,useValue:this},{provide:uh,useValue:this.componentFactoryResolver},...r],Jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gm=class extends Rc{constructor(e){super(),this.moduleType=e}create(e){return new Wm(this.moduleType,e,[])}};var th=class extends Di{constructor(e){super(),this.componentFactoryResolver=new Zd(this),this.instance=null;let n=new Dc([...e.providers,{provide:Di,useValue:this},{provide:uh,useValue:this.componentFactoryResolver}],e.parent||ly(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ry(t,e,n=null){return new th({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var U2=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Hb(!1,r.type),s=i.length>0?Ry([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=se({token:e,providedIn:"environment",factory:()=>new e(pe(Pn))});let t=e;return t})();function fn(t){PD("NgStandalone"),t.getStandaloneInjector=e=>e.get(U2).getOrCreateStandaloneInjector(t)}function Qo(t,e,n,r){return WD(tt(),_b(),t,e,n,r)}function B2(t,e){let n=t[e];return n===kn?void 0:n}function WD(t,e,n,r,i,s){let o=e+n;return ms(t,o,i)?qV(t,o+1,s?r.call(s,i):r(i)):B2(t,o+1)}function $c(t,e){let n=_n(),r,i=t+wr;n.firstCreatePass?(r=$2(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ds(r.type,!0)),o,a=un($e);try{let u=Hd(!1),d=s();return Hd(u),O2(n,tt(),i,d),d}finally{un(a)}}function $2(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Hc(t,e,n){let r=t+wr,i=tt(),s=J1(i,r);return H2(i,r)?WD(i,_b(),e,s.transform,n,s):s.transform(n)}function H2(t,e){return t[Re].data[e].pure}var My=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=W2;let t=e;return t})(),q2=My,z2=class extends q2{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=g2(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new gs(i)}};function W2(){return G2(On(),tt())}function G2(t,e){return t.type&4?new z2(e,t,lh(t,e)):null}var ei=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GD=new ei("17.0.8");var gh=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Km=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ny=(()=>{let e=class e{compileModuleSync(r){return new Gm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=rb(r),o=Qb(s.declarations).reduce((a,u)=>{let d=cs(u);return d&&a.push(new Ac(d)),a},[]);return new Km(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mh=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var KD=new ie("");var QD=new ie("Application Initializer"),YD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=X(QD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ws(o))r.push(o);else if(HD(o)){let a=new Promise((u,d)=>{o.subscribe({complete:u,error:d})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Py=new ie("appBootstrapListener");function K2(){k0(()=>{throw new ne(600,!1)})}function Q2(t){return t.isBoundToModule}function Y2(t,e,n){try{let r=n();return ws(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var qc=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(hD),this.componentTypes=[],this.components=[],this.isStable=X(mh).hasPendingTasks.pipe(Ee(r=>!r)),this._injector=X(Pn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Qd;if(!this._injector.get(YD).done){let S="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&nb(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new ne(405,!1)}let a;s?a=r:a=this._injector.get(uh).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=Q2(a)?void 0:this._injector.get(Di),d=i||a.selector,p=a.create(en.NULL,[],d,u),m=p.location.nativeElement,w=p.injector.get(KD,null);return w?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),sm(this.components,p),w?.unregisterApplication(m)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;sm(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Py,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>sm(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ne(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var X2=(()=>{let e=class e{constructor(){this.zone=X(qe),this.applicationRef=X(qc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z2(t){return[{provide:qe,useFactory:t},{provide:Bo,multi:!0,useFactory:()=>{let e=X(X2,{optional:!0});return()=>e.initialize()}},{provide:Bo,multi:!0,useFactory:()=>{let e=X(nj);return()=>{e.initialize()}}},{provide:hD,useFactory:J2}]}function J2(){let t=X(qe),e=X(Jr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function ej(t){let e=Z2(()=>new qe(tj(t)));return ah([[],e])}function tj(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nj=(()=>{let e=class e{constructor(){this.subscription=new ht,this.initialized=!1,this.zone=X(qe),this.pendingTasks=X(mh)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rj(){return typeof $localize<"u"&&$localize.locale||eh}var Oy=new ie("LocaleId",{providedIn:"root",factory:()=>X(Oy,Ce.Optional|Ce.SkipSelf)||rj()});var XD=new ie("PlatformDestroyListeners");var Od=null;function ij(t=[],e){return en.create({name:e,providers:[{provide:ch,useValue:"platform"},{provide:XD,useValue:new Set([()=>Od=null])},...t]})}function sj(t=[]){if(Od)return Od;let e=ij(t);return Od=e,K2(),oj(e),e}function oj(t){t.get(hy,null)?.forEach(n=>n())}function ZD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=sj(r),s=[ej(),...n||[]],a=new th({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(qe);return u.run(()=>{a.resolveInjectorInitializers();let d=a.get(Jr,null),p;u.runOutsideAngular(()=>{p=u.onError.subscribe({next:I=>{d.handleError(I)}})});let m=()=>a.destroy(),w=i.get(XD);return w.add(m),a.onDestroy(()=>{p.unsubscribe(),w.delete(m)}),Y2(d,u,()=>{let I=a.get(YD);return I.runInitializers(),I.donePromise.then(()=>{let S=a.get(Oy,eh);M2(S||eh);let F=a.get(qc);return e!==void 0&&F.bootstrap(e),F})})})}catch(e){return Promise.reject(e)}}function yh(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Fy=null;function ni(){return Fy}function rS(t){Fy||(Fy=t)}var vh=class{},En=new ie("DocumentToken"),iS=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>(()=>X(uj))(),providedIn:"platform"});let t=e;return t})();var uj=(()=>{let e=class e extends iS{constructor(){super(),this._doc=X(En),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ni().getBaseHref(this._doc)}onPopState(r){let i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function sS(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function JD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Es(t){return t&&t[0]!=="?"?"?"+t:t}var wh=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>(()=>X(oS))(),providedIn:"root"});let t=e;return t})(),lj=new ie("appBaseHref"),oS=(()=>{let e=class e extends wh{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??X(En).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return sS(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Es(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Es(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Es(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(pe(iS),pe(lj,8))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zc=(()=>{let e=class e{constructor(r){this._subject=new Zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=fj(JD(eS(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Es(i))}normalize(r){return e.stripTrailingSlash(hj(this._basePath,eS(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Es(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Es(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Es,e.joinWithSlash=sS,e.stripTrailingSlash=JD,e.\u0275fac=function(i){return new(i||e)(pe(wh))},e.\u0275prov=se({token:e,factory:()=>dj(),providedIn:"root"});let t=e;return t})();function dj(){return new zc(pe(wh))}function hj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function eS(t){return t.replace(/\/index.html$/,"")}function fj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function aS(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ky=/\s+/,tS=[],cS=(()=>{let e=class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=tS,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(ky):tS}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(ky):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(ky).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)($e(dh),$e(Iy),$e(Ri),$e(_s))},e.\u0275dir=Yn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Ly=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yo=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Ly(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),nS(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);nS(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)($e(Uc),$e(My),$e(dh))},e.\u0275dir=Yn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function nS(t,e){t.context.$implicit=e.item}function pj(t,e){return new ne(2100,!1)}var uS=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw pj(e,r);return r.toUpperCase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=JT({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var Jn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Ut({});let t=e;return t})(),lS="browser",gj="server";function Vy(t){return t===gj}var _h=class{};var By=class extends vh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$y=class t extends By{static makeCurrent(){rS(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mj();return n==null?null:yj(n)}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return aS(document.cookie,e)}},Wc=null;function mj(){return Wc=Wc||document.querySelector("base"),Wc?Wc.getAttribute("href"):null}function yj(t){return new URL(t,document.baseURI).pathname}var vj=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),Hy=new ie("EventManagerPlugins"),pS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ne(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(pe(Hy),pe(qe))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),Ih=class{constructor(e){this._doc=e}},jy="ng-app-id",gS=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vy(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${jy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(jy),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(jy,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(pe(En),pe(dy),pe(fy,8),pe(xi))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),Uy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zy=/%COMP%/g,mS="%COMP%",_j=`_nghost-${mS}`,wj=`_ngcontent-${mS}`,Ej=!0,Ij=new ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Ej});function Cj(t){return wj.replace(zy,t)}function Tj(t){return _j.replace(zy,t)}function yS(t,e){return e.map(n=>n.replace(zy,t))}var dS=(()=>{let e=class e{constructor(r,i,s,o,a,u,d,p=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=Vy(u),this.defaultRenderer=new Gc(r,a,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vr.ShadowDom&&(i=Ye(G({},i),{encapsulation:vr.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Ch?s.applyToHost(r):s instanceof Kc&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(i.encapsulation){case vr.Emulated:o=new Ch(d,p,i,this.appId,m,a,u,w);break;case vr.ShadowDom:return new qy(d,p,r,i,a,u,this.nonce,w);default:o=new Kc(d,p,i,m,a,u,w);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(pe(pS),pe(gS),pe(dy),pe(Ij),pe(En),pe(xi),pe(qe),pe(fy))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),Gc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Uy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(hS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(hS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Uy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Uy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zr.DashCase|Zr.Important)?e.style.setProperty(n,r,i&Zr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ni().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function hS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qy=class extends Gc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=yS(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kc=class extends Gc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?yS(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ch=class extends Kc{constructor(e,n,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,n,r,s,o,a,u,d),this.contentAttr=Cj(d),this.hostAttr=Tj(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},bj=(()=>{let e=class e extends Ih{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(pe(En))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})(),fS=["alt","control","meta","shift"],Dj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Aj=(()=>{let e=class e extends Ih{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ni().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),fS.forEach(p=>{let m=i.indexOf(p);m>-1&&(i.splice(m,1),a+=p+".")}),a+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=s,d.fullKey=a,d}static matchEventFullKeyCode(r,i){let s=Dj[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),fS.forEach(a=>{if(a!==s){let u=Sj[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(pe(En))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let t=e;return t})();function vS(t,e){return ZD(G({rootComponent:t},xj(e)))}function xj(t){return{appProviders:[...Oj,...t?.providers??[]],platformProviders:Pj}}function Rj(){$y.makeCurrent()}function Mj(){return new Jr}function Nj(){return Kb(document),document}var Pj=[{provide:xi,useValue:lS},{provide:hy,useValue:Rj,multi:!0},{provide:En,useFactory:Nj,deps:[]}];var Oj=[{provide:ch,useValue:"root"},{provide:Jr,useFactory:Mj,deps:[]},{provide:Hy,useClass:bj,multi:!0,deps:[En,qe,xi]},{provide:Hy,useClass:Aj,multi:!0,deps:[En]},dS,gS,pS,{provide:Sc,useExisting:dS},{provide:_h,useClass:vj,deps:[]},[]];function kj(){return new Wy(pe(En))}var Wy=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(pe(En))},e.\u0275prov=se({token:e,factory:function(i){let s=null;return i?s=new i:s=kj(),s},providedIn:"root"});let t=e;return t})();var me="primary",uu=Symbol("RouteTitle"),Xy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ta(t){return new Xy(t)}function Vj(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tr(t[n],e[n]))return!1;return!0}function Tr(t,e){let n=t?Zy(t):void 0,r=e?Zy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!TS(t[i],e[i]))return!1;return!0}function Zy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function TS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function bS(t){return t.length>0?t[t.length-1]:null}function Pi(t){return jg(t)?t:ws(t)?ut(Promise.resolve(t)):fe(t)}var Uj={exact:SS,subset:AS},DS={exact:Bj,subset:$j,ignored:()=>!0};function _S(t,e,n){return Uj[n.paths](t.root,e.root,n.matrixParams)&&DS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Bj(t,e){return Tr(t,e)}function SS(t,e,n){if(!Cs(t.segments,e.segments)||!Dh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SS(t.children[r],e.children[r],n))return!1;return!0}function $j(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TS(t[n],e[n]))}function AS(t,e,n){return xS(t,e,e.segments,n)}function xS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Cs(i,n)||e.hasChildren()||!Dh(i,n,r))}else if(t.segments.length===n.length){if(!Cs(t.segments,n)||!Dh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!AS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Cs(t.segments,i)||!Dh(t.segments,i,r)||!t.children[me]?!1:xS(t.children[me],e,s,r)}}function Dh(t,e,n){return e.every((r,i)=>DS[n](t[i].parameters,r.parameters))}var Mi=class{constructor(e=new ze([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){return zj.serialize(this)}},ze=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sh(this)}},Is=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ta(this.parameters)),this._parameterMap}toString(){return MS(this)}};function Hj(t,e){return Cs(t,e)&&t.every((n,r)=>Tr(n.parameters,e[r].parameters))}function Cs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var Cv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>(()=>new xh)(),providedIn:"root"});let t=e;return t})(),xh=class{parse(e){let n=new ev(e);return new Mi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Qc(e.root,!0)}`,r=Kj(e.queryParams),i=typeof e.fragment=="string"?`#${Wj(e.fragment)}`:"";return`${n}${r}${i}`}},zj=new xh;function Sh(t){return t.segments.map(e=>MS(e)).join("/")}function Qc(t,e){if(!t.hasChildren())return Sh(t);if(e){let n=t.children[me]?Qc(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==me&&r.push(`${i}:${Qc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qj(t,(r,i)=>i===me?[Qc(t.children[me],!1)]:[`${i}:${Qc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${Sh(t)}/${n[0]}`:`${Sh(t)}/(${n.join("//")})`}}function RS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Th(t){return RS(t).replace(/%3B/gi,";")}function Wj(t){return encodeURI(t)}function Jy(t){return RS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ah(t){return decodeURIComponent(t)}function wS(t){return Ah(t.replace(/\+/g,"%20"))}function MS(t){return`${Jy(t.path)}${Gj(t.parameters)}`}function Gj(t){return Object.keys(t).map(e=>`;${Jy(e)}=${Jy(t[e])}`).join("")}function Kj(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${Th(n)}=${Th(i)}`).join("&"):`${Th(n)}=${Th(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var Qj=/^[^\/()?;#]+/;function Gy(t){let e=t.match(Qj);return e?e[0]:""}var Yj=/^[^\/()?;=#]+/;function Xj(t){let e=t.match(Yj);return e?e[0]:""}var Zj=/^[^=?&#]+/;function Jj(t){let e=t.match(Zj);return e?e[0]:""}var eU=/^[^&#]+/;function tU(t){let e=t.match(eU);return e?e[0]:""}var ev=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new ze(e,n)),r}parseSegment(){let e=Gy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new Is(Ah(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Xj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gy(this.remaining);i&&(r=i,this.capture(r))}e[Ah(n)]=Ah(r)}parseQueryParam(e){let n=Jj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=tU(this.remaining);o&&(r=o,this.capture(r))}let i=wS(n),s=wS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ne(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[me]:new ze([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}};function NS(t){return t.segments.length>0?new ze([],{[me]:t}):t}function PS(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=PS(i);if(r===me&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ze(t.segments,e);return nU(n)}function nU(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new ze(t.segments.concat(e.segments),e.children)}return t}function na(t){return t instanceof Mi}function rU(t,e,n=null,r=null){let i=OS(t);return kS(i,e,n,r)}function OS(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let a=new ze(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=NS(r);return e??i}function kS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ky(i,i,i,n,r);let s=iU(e);if(s.toRoot())return Ky(i,i,new ze([],{}),n,r);let o=sU(s,i,t),a=o.processChildren?Zc(o.segmentGroup,o.index,s.commands):LS(o.segmentGroup,o.index,s.commands);return Ky(i,o.segmentGroup,a,n,r)}function Rh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function tu(t){return typeof t=="object"&&t!=null&&t.outlets}function Ky(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;t===e?o=n:o=FS(t,e,n);let a=NS(PS(o));return new Mi(a,s,i)}function FS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=FS(s,e,n)}),new ze(t.segments,r)}var Mh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rh(r[0]))throw new ne(4003,!1);let i=r.find(tu);if(i&&i!==bS(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Mh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Mh(n,e,r)}var Jo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sU(t,e,n){if(t.isAbsolute)return new Jo(e,!0,0);if(!n)return new Jo(e,!1,NaN);if(n.parent===null)return new Jo(n,!0,0);let r=Rh(t.commands[0])?0:1,i=n.segments.length-1+r;return oU(n,i,t.numberOfDoubleDots)}function oU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new Jo(r,!1,i-s)}function aU(t){return tu(t[0])?t[0].outlets:{[me]:t}}function LS(t,e,n){if(t||(t=new ze([],{})),t.segments.length===0&&t.hasChildren())return Zc(t,e,n);let r=cU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ze(t.segments.slice(0,r.pathIndex),{});return s.children[me]=new ze(t.segments.slice(r.pathIndex),t.children),Zc(s,0,i)}else return r.match&&i.length===0?new ze(t.segments,{}):r.match&&!t.hasChildren()?tv(t,e,n):r.match?Zc(t,0,i):tv(t,e,n)}function Zc(t,e,n){if(n.length===0)return new ze(t.segments,{});{let r=aU(n),i={};if(Object.keys(r).some(s=>s!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let s=Zc(t.children[me],e,n);return new ze(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=LS(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ze(t.segments,i)}}function cU(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(tu(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!IS(u,d,o))return s;r+=2}else{if(!IS(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(tu(s)){let u=uU(s.outlets);return new ze(r,u)}if(i===0&&Rh(n[0])){let u=t.segments[e];r.push(new Is(u.path,ES(n[0]))),i++;continue}let o=tu(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Rh(a)?(r.push(new Is(o,ES(a))),i+=2):(r.push(new Is(o,{})),i++)}return new ze(r,{})}function uU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=tv(new ze([],{}),0,r))}),e}function ES(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function IS(t,e,n){return t==n.path&&Tr(e,n.parameters)}var Jc="imperative",Fn=class{constructor(e,n){this.id=e,this.url=n}},nu=class extends Fn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ts=class extends Fn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ni=class extends Fn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bs=class extends Fn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},ru=class extends Fn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nh=class extends Fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nv=class extends Fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rv=class extends Fn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},iv=class extends Fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sv=class extends Fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ov=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},av=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cv=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uv=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lv=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dv=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var iu=class{},su=class{constructor(e){this.url=e}};var hv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vh,this.attachRef=null}},Vh=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new hv,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ph=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=fv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=fv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=pv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pv(e,this._root).map(n=>n.value)}};function fv(t,e){if(t===e.value)return e;for(let n of e.children){let r=fv(t,n);if(r)return r}return null}function pv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=pv(t,n);if(r.length)return r.unshift(e),r}return[]}var In=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Oh=class extends Ph{constructor(e,n){super(e),this.snapshot=n,bv(this,e)}toString(){return this.snapshot.toString()}};function VS(t,e){let n=lU(t,e),r=new Ft([new Is("",{})]),i=new Ft({}),s=new Ft({}),o=new Ft({}),a=new Ft(""),u=new ra(r,i,o,a,s,me,e,n.root);return u.snapshot=n.root,new Oh(new In(u,[]),n)}function lU(t,e){let n={},r={},i={},s="",o=new ou([],n,i,s,r,me,e,null,{});return new kh("",new In(o,[]))}var ra=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ee(d=>d[uu]))??fe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(e=>ta(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(e=>ta(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tv(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),t.params),data:G(G({},e.data),t.data),resolve:G(G(G(G({},t.data),e.data),i?.data),t._resolvedData)}:r={params:G({},t.params),data:G({},t.data),resolve:G(G({},t.data),t._resolvedData??{})},i&&US(i)&&(r.resolve[uu]=i.title),r}var ou=class{get title(){return this.data?.[uu]}constructor(e,n,r,i,s,o,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ta(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kh=class extends Ph{constructor(e,n){super(n),this.url=e,bv(this,n)}toString(){return jS(this._root)}};function bv(t,e){e.value._routerState=t,e.children.forEach(n=>bv(t,n))}function jS(t){let e=t.children.length>0?` { ${t.children.map(jS).join(", ")} } `:"";return`${t.value}${e}`}function Qy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Tr(e.params,n.params)||t.paramsSubject.next(n.params),jj(e.url,n.url)||t.urlSubject.next(n.url),Tr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function gv(t,e){let n=Tr(t.params,e.params)&&Hj(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||gv(t.parent,e.parent))}function US(t){return typeof t.title=="string"||t.title===null}var dU=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Zt,this.deactivateEvents=new Zt,this.attachEvents=new Zt,this.detachEvents=new Zt,this.parentContexts=X(Vh),this.location=X(Uc),this.changeDetector=X(Wo),this.environmentInjector=X(Pn),this.inputBinder=X(Dv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new mv(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:d,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Yn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qo]});let t=e;return t})(),mv=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ra?this.route:e===Vh?this.childContexts:this.parent.get(e,n)}},Dv=new ie("");function hU(t,e,n){let r=au(t,e._root,n?n._root:void 0);return new Oh(r,e)}function au(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fU(t,e,n);return new In(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>au(t,a)),o}}let r=pU(e.value),i=e.children.map(s=>au(t,s));return new In(r,i)}}function fU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return au(t,r,i);return au(t,r)})}function pU(t){return new ra(new Ft(t.url),new Ft(t.params),new Ft(t.queryParams),new Ft(t.fragment),new Ft(t.data),t.outlet,t.component,t)}var BS="ngNavigationCancelingError";function $S(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=na(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HS(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function HS(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[BS]=!0,r.cancellationCode=e,n&&(r.url=n),r}function gU(t){return qS(t)&&na(t.url)}function qS(t){return t&&t[BS]}var mU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=dn({type:e,selectors:[["ng-component"]],standalone:!0,features:[fn],decls:1,vars:0,template:function(i,s){i&1&&it(0,"router-outlet")},dependencies:[dU],encapsulation:2});let t=e;return t})();function yU(t,e){return t.providers&&!t._injector&&(t._injector=Ry(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Sv(t){let e=t.children&&t.children.map(Sv),n=e?Ye(G({},t),{children:e}):G({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=mU),n}function br(t){return t.outlet||me}function vU(t,e){let n=t.filter(r=>br(r)===e);return n.push(...t.filter(r=>br(r)!==e)),n}function lu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _U=(t,e,n,r)=>Ee(i=>(new yv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),yv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Zo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Zo(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Zo(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Zo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new dv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new uv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Qy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Qy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=lu(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Fh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ea=class{constructor(e,n){this.component=e,this.route=n}};function wU(t,e,n){let r=t._root,i=e?e._root:null;return Yc(r,i,n,[r.value])}function EU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function sa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qT(t)?t:e.get(t):r}function Yc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Zo(e);return t.children.forEach(o=>{IU(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>eu(a,n.getContext(o),i)),i}function IU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=CU(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Yc(t,e,a?a.children:null,r,i):Yc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ea(a.outlet.component,o))}else o&&eu(e,a,i),i.canActivateChecks.push(new Fh(r)),s.component?Yc(t,null,a?a.children:null,r,i):Yc(t,null,n,r,i);return i}function CU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Cs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cs(t.url,e.url)||!Tr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gv(t,e)||!Tr(t.queryParams,e.queryParams);case"paramsChange":default:return!gv(t,e)}}function eu(t,e,n){let r=Zo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?eu(o,e.children.getContext(s),n):eu(o,null,n):eu(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ea(e.outlet.component,i)):n.canDeactivateChecks.push(new ea(null,i)):n.canDeactivateChecks.push(new ea(null,i))}function du(t){return typeof t=="function"}function TU(t){return typeof t=="boolean"}function bU(t){return t&&du(t.canLoad)}function DU(t){return t&&du(t.canActivate)}function SU(t){return t&&du(t.canActivateChild)}function AU(t){return t&&du(t.canDeactivate)}function xU(t){return t&&du(t.canMatch)}function zS(t){return t instanceof Kr||t?.name==="EmptyError"}var bh=Symbol("INITIAL_VALUE");function ia(){return zn(t=>Ed(t.map(e=>e.pipe(Qr(1),bd(bh)))).pipe(Ee(e=>{for(let n of e)if(n!==!0){if(n===bh)return bh;if(n===!1||n instanceof Mi)return n}return!0}),Mn(e=>e!==bh),Qr(1)))}function RU(t,e){return Ct(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?fe(Ye(G({},n),{guardsResult:!0})):MU(o,r,i,t).pipe(Ct(a=>a&&TU(a)?NU(r,s,t,e):fe(a)),Ee(a=>Ye(G({},n),{guardsResult:a})))})}function MU(t,e,n,r){return ut(t).pipe(Ct(i=>LU(i.component,i.route,n,e,r)),gr(i=>i!==!0,!0))}function NU(t,e,n,r){return ut(e).pipe(Mo(i=>Ro(OU(i.route.parent,r),PU(i.route,r),FU(t,i.path,n),kU(t,i.route,n))),gr(i=>i!==!0,!0))}function PU(t,e){return t!==null&&e&&e(new lv(t)),fe(!0)}function OU(t,e){return t!==null&&e&&e(new cv(t)),fe(!0)}function kU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return fe(!0);let i=r.map(s=>Id(()=>{let o=lu(e)??n,a=sa(s,o),u=DU(a)?a.canActivate(e,t):vs(o,()=>a(e,t));return Pi(u).pipe(gr())}));return fe(i).pipe(ia())}function FU(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>EU(o)).filter(o=>o!==null).map(o=>Id(()=>{let a=o.guards.map(u=>{let d=lu(o.node)??n,p=sa(u,d),m=SU(p)?p.canActivateChild(r,t):vs(d,()=>p(r,t));return Pi(m).pipe(gr())});return fe(a).pipe(ia())}));return fe(s).pipe(ia())}function LU(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return fe(!0);let o=s.map(a=>{let u=lu(e)??i,d=sa(a,u),p=AU(d)?d.canDeactivate(t,e,n,r):vs(u,()=>d(t,e,n,r));return Pi(p).pipe(gr())});return fe(o).pipe(ia())}function VU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return fe(!0);let s=i.map(o=>{let a=sa(o,t),u=bU(a)?a.canLoad(e,n):vs(t,()=>a(e,n));return Pi(u)});return fe(s).pipe(ia(),WS(r))}function WS(t){return nd(mt(e=>{if(na(e))throw $S(t,e)}),Ee(e=>e===!0))}function jU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return fe(!0);let s=i.map(o=>{let a=sa(o,t),u=xU(a)?a.canMatch(e,n):vs(t,()=>a(e,n));return Pi(u)});return fe(s).pipe(ia(),WS(r))}var cu=class{constructor(e){this.segmentGroup=e||null}},Lh=class extends Error{constructor(e){super(),this.urlTree=e}};function Xo(t){return xo(new cu(t))}function UU(t){return xo(new ne(4e3,!1))}function BU(t){return xo(HS(!1,3))}var vv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return fe(r);if(i.numberOfChildren>1||!i.children[me])return UU(e.redirectTo);i=i.children[me]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Lh(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Mi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ze(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},_v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $U(t,e,n,r,i){let s=Av(t,e,n);return s.matched?(r=yU(e,r),jU(r,e,n,i).pipe(Ee(o=>o===!0?s:G({},_v)))):fe(s)}function Av(t,e,n){if(e.path==="**")return HU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?G({},_v):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Vj)(n,t,e);if(!i)return G({},_v);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?G(G({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function HU(t){return{matched:!0,parameters:t.length>0?bS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function CS(t,e,n,r){return n.length>0&&WU(t,n,r)?{segmentGroup:new ze(e,zU(r,new ze(n,t.children))),slicedSegments:[]}:n.length===0&&GU(t,n,r)?{segmentGroup:new ze(t.segments,qU(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ze(t.segments,t.children),slicedSegments:n}}function qU(t,e,n,r,i){let s={};for(let o of r)if(jh(t,n,o)&&!i[br(o)]){let a=new ze([],{});s[br(o)]=a}return G(G({},i),s)}function zU(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&br(r)!==me){let i=new ze([],{});n[br(r)]=i}return n}function WU(t,e,n){return n.some(r=>jh(t,e,r)&&br(r)!==me)}function GU(t,e,n){return n.some(r=>jh(t,e,r))}function jh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function KU(t,e,n,r){return br(t)!==r&&(r===me||!jh(e,n,t))?!1:Av(e,t,n).matched}function QU(t,e,n){return e.length===0&&!t.children[n]}var wv=class{};function YU(t,e,n,r,i,s,o="emptyOnly"){return new Ev(t,e,n,r,i,o,s).recognize()}var XU=31,Ev=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new vv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=CS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ee(n=>{let r=new ou([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,{}),i=new In(r,n),s=new kh("",i),o=rU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,me).pipe(Ei(r=>{if(r instanceof Lh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cu?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Tv(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Ee(s=>s instanceof In?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ut(i).pipe(Mo(s=>{let o=r.children[s],a=vU(n,s);return this.processSegmentGroup(e,a,o,s)}),Td((s,o)=>(s.push(...o),s)),Ii(null),Hg(),Ct(s=>{if(s===null)return Xo(r);let o=GS(s);return ZU(o),fe(o)}))}processSegment(e,n,r,i,s,o){return ut(n).pipe(Mo(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ei(u=>{if(u instanceof cu)return fe(null);throw u}))),gr(a=>!!a),Ei(a=>{if(zS(a))return QU(r,i,s)?fe(new wv):Xo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return KU(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Xo(i):Xo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=Av(n,i,s);if(!a)return Xo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XU&&(this.allowRedirects=!1));let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d);return this.applyRedirects.lineralizeSegments(i,m).pipe(Ct(w=>this.processSegment(e,r,n,w.concat(p),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=$U(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(zn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zn(({routes:u})=>{let d=r._loadedInjector??e,{consumedSegments:p,remainingSegments:m,parameters:w}=a,I=new ou(p,w,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,eB(r),br(r),r.component??r._loadedComponent??null,r,tB(r)),{segmentGroup:S,slicedSegments:F}=CS(n,p,m,u);if(F.length===0&&S.hasChildren())return this.processChildren(d,u,S).pipe(Ee(K=>K===null?null:new In(I,K)));if(u.length===0&&F.length===0)return fe(new In(I,[]));let P=br(r)===s;return this.processSegment(d,u,S,F,P?me:s,!0).pipe(Ee(K=>new In(I,K instanceof In?[K]:[])))}))):Xo(n)))}getChildConfig(e,n,r){return n.children?fe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?fe({routes:n._loadedRoutes,injector:n._loadedInjector}):VU(e,n,r,this.urlSerializer).pipe(Ct(i=>i?this.configLoader.loadChildren(e,n).pipe(mt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):BU(n))):fe({routes:[],injector:e})}};function ZU(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function JU(t){let e=t.value.routeConfig;return e&&e.path===""}function GS(t){let e=[],n=new Set;for(let r of t){if(!JU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=GS(r.children);e.push(new In(r.value,i))}return e.filter(r=>!n.has(r))}function eB(t){return t.data||{}}function tB(t){return t.resolve||{}}function nB(t,e,n,r,i,s){return Ct(o=>YU(t,e,n,r,o.extractedUrl,i,s).pipe(Ee(({state:a,tree:u})=>Ye(G({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function rB(t,e){return Ct(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return fe(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of KS(u))o.add(d);let a=0;return ut(o).pipe(Mo(u=>s.has(u)?iB(u,r,t,e):(u.data=Tv(u,u.parent,t).resolve,fe(void 0))),mt(()=>a++),No(1),Ct(u=>a===o.size?fe(n):Rn))})}function KS(t){let e=t.children.map(n=>KS(n)).flat();return[t,...e]}function iB(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!US(i)&&(s[uu]=i.title),sB(s,t,e,r).pipe(Ee(o=>(t._resolvedData=o,t.data=Tv(t,t.parent,n).resolve,null)))}function sB(t,e,n,r){let i=Zy(t);if(i.length===0)return fe({});let s={};return ut(i).pipe(Ct(o=>oB(t[o],e,n,r).pipe(gr(),mt(a=>{s[o]=a}))),No(1),$g(s),Ei(o=>zS(o)?Rn:xo(o)))}function oB(t,e,n,r){let i=lu(e)??r,s=sa(t,i),o=s.resolve?s.resolve(e,n):vs(i,()=>s(e,n));return Pi(o)}function Yy(t){return zn(e=>{let n=t(e);return n?ut(n).pipe(Ee(()=>e)):fe(e)})}var QS=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[uu]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>(()=>X(aB))(),providedIn:"root"});let t=e;return t})(),aB=(()=>{let e=class e extends QS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(pe(Wy))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xv=new ie("",{providedIn:"root",factory:()=>({})}),Rv=new ie("ROUTES"),cB=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(Ny)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return fe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Pi(r.loadComponent()).pipe(Ee(YS),mt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),pc(()=>{this.componentLoaders.delete(r)})),s=new bo(i,()=>new vn).pipe(To());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return fe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=uB(i,this.compiler,r,this.onLoadEndListener).pipe(pc(()=>{this.childrenLoaders.delete(i)})),a=new bo(o,()=>new vn).pipe(To());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uB(t,e,n,r){return Pi(t.loadChildren()).pipe(Ee(YS),Ct(i=>i instanceof Rc||Array.isArray(i)?fe(i):ut(e.compileModuleAsync(i))),Ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Rv,[],{optional:!0,self:!0}).flat()),{routes:o.map(Sv),injector:s}}))}function lB(t){return t&&typeof t=="object"&&"default"in t}function YS(t){return lB(t)?t.default:t}var Mv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>(()=>X(dB))(),providedIn:"root"});let t=e;return t})(),dB=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hB=new ie("");var fB=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vn,this.transitionAbortSubject=new vn,this.configLoader=X(cB),this.environmentInjector=X(Pn),this.urlSerializer=X(Cv),this.rootContexts=X(Vh),this.location=X(zc),this.inputBindingEnabled=X(Dv,{optional:!0})!==null,this.titleStrategy=X(QS),this.options=X(xv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=X(Mv),this.createViewTransition=X(hB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>fe(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ov(s)),i=s=>this.events.next(new av(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ye(G(G({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ft({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mn(o=>o.id!==0),Ee(o=>Ye(G({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zn(o=>{this.currentTransition=o;let a=!1,u=!1;return fe(o).pipe(mt(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Ye(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zn(d=>{let p=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!p&&m!=="reload"){let w="";return this.events.next(new bs(d.id,this.urlSerializer.serialize(d.rawUrl),w,0)),d.resolve(null),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return fe(d).pipe(zn(w=>{let I=this.transitions?.getValue();return this.events.next(new nu(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),I!==this.transitions?.getValue()?Rn:Promise.resolve(w)}),nB(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(w=>{o.targetSnapshot=w.targetSnapshot,o.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=Ye(G({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let I=new Nh(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(I)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:w,extractedUrl:I,source:S,restoredState:F,extras:P}=d,K=new nu(w,this.urlSerializer.serialize(I),S,F);this.events.next(K);let ve=VS(I,this.rootComponentType).snapshot;return this.currentTransition=o=Ye(G({},d),{targetSnapshot:ve,urlAfterRedirects:I,extras:Ye(G({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,fe(o)}else{let w="";return this.events.next(new bs(d.id,this.urlSerializer.serialize(d.extractedUrl),w,1)),d.resolve(null),Rn}}),mt(d=>{let p=new nv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Ee(d=>(this.currentTransition=o=Ye(G({},d),{guards:wU(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),RU(this.environmentInjector,d=>this.events.next(d)),mt(d=>{if(o.guardsResult=d.guardsResult,na(d.guardsResult))throw $S(this.urlSerializer,d.guardsResult);let p=new rv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),Mn(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",3),!1)),Yy(d=>{if(d.guards.canActivateChecks.length)return fe(d).pipe(mt(p=>{let m=new iv(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),zn(p=>{let m=!1;return fe(p).pipe(rB(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(p,"",2)}}))}),mt(p=>{let m=new sv(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}))}),Yy(d=>{let p=m=>{let w=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(m.routeConfig).pipe(mt(I=>{m.component=I}),Ee(()=>{})));for(let I of m.children)w.push(...p(I));return w};return Ed(p(d.targetSnapshot.root)).pipe(Ii(null),Qr(1))}),Yy(()=>this.afterPreactivation()),zn(()=>{let{currentSnapshot:d,targetSnapshot:p}=o,m=this.createViewTransition?.(this.environmentInjector,d.root,p.root);return m?ut(m).pipe(Ee(()=>o)):fe(o)}),Ee(d=>{let p=hU(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=Ye(G({},d),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,o}),mt(()=>{this.events.next(new iu)}),_U(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Qr(1),mt({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ts(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),qg(this.transitionAbortSubject.pipe(mt(d=>{throw d}))),pc(()=>{if(!a&&!u){let d="";this.cancelNavigationTransition(o,d,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ei(d=>{if(u=!0,qS(d))this.events.next(new Ni(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),gU(d)?this.events.next(new su(d.url)):o.resolve(!1);else{this.events.next(new ru(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(d))}catch(p){o.reject(p)}}return Rn}))}))}cancelNavigationTransition(r,i,s){let o=new Ni(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pB(t){return t!==Jc}var gB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>(()=>X(mB))(),providedIn:"root"});let t=e;return t})(),Iv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mB=(()=>{let e=class e extends Iv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kc(e)))(s||e)}})(),e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:()=>(()=>X(yB))(),providedIn:"root"});let t=e;return t})(),yB=(()=>{let e=class e extends XS{constructor(){super(...arguments),this.location=X(zc),this.urlSerializer=X(Cv),this.options=X(xv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=X(Mv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VS(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof nu)this.stateMemento=this.createStateMemento();else if(r instanceof bs)this.rawUrlTree=i.initialUrl;else if(r instanceof Nh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof iu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ni&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof ru?this.restoreHistory(i,!0):r instanceof Ts&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=G(G({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=G(G({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kc(e)))(s||e)}})(),e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xc||{});function vB(t,e){t.events.pipe(Mn(n=>n instanceof Ts||n instanceof Ni||n instanceof ru||n instanceof bs),Ee(n=>n instanceof Ts||n instanceof bs?Xc.COMPLETE:(n instanceof Ni?n.code===0||n.code===1:!1)?Xc.REDIRECTING:Xc.FAILED),Mn(n=>n!==Xc.REDIRECTING),Qr(1)).subscribe(()=>{e()})}function _B(t){throw t}var wB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ZS=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=X(gh),this.stateManager=X(XS),this.options=X(xv,{optional:!0})||{},this.pendingTasks=X(mh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=X(fB),this.urlSerializer=X(Cv),this.location=X(zc),this.urlHandlingStrategy=X(Mv),this._events=new vn,this.errorHandler=this.options.errorHandler||_B,this.navigated=!1,this.routeReuseStrategy=X(gB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=X(Rv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!X(Dv,{optional:!0}),this.eventsSubscription=new ht,this.isNgZoneEnabled=X(qe)instanceof qe&&qe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ni&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Ts)this.navigated=!0;else if(i instanceof su){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||pB(s.source)};this.scheduleNavigation(a,Jc,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}CB(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let d=G({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Sv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:a,m=null;switch(u){case"merge":m=G(G({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let w;try{let I=s?s.snapshot:this.routerState.snapshot.root;w=OS(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),w=this.currentUrlTree.root}return kS(w,r,m,p??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=na(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Jc,null,i)}navigate(r,i={skipLocationChange:!1}){return IB(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=G({},wB):i===!1?s=G({},EB):s=i,na(r))return _S(this.currentUrlTree,r,s);let o=this.parseUrl(r);return _S(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,d,p;a?(u=a.resolve,d=a.reject,p=a.promise):p=new Promise((w,I)=>{u=w,d=I});let m=this.pendingTasks.add();return vB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ne(4008,!1)}function CB(t){return!(t instanceof iu)&&!(t instanceof su)}var TB=new ie("");function JS(t,...e){return ah([{provide:Rv,multi:!0,useValue:t},[],{provide:ra,useFactory:bB,deps:[ZS]},{provide:Py,multi:!0,useFactory:DB},e.map(n=>n.\u0275providers)])}function bB(t){return t.routerState.root}function DB(){let t=X(en);return e=>{let n=t.get(qc);if(e!==n.components[0])return;let r=t.get(ZS),i=t.get(SB);t.get(AB)===1&&r.initialNavigation(),t.get(xB,null,Ce.Optional)?.setUpPreloading(),t.get(TB,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SB=new ie("",{factory:()=>new vn}),AB=new ie("",{providedIn:"root",factory:()=>1});var xB=new ie("");var eA=[];var Pv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var U=function(t,e){if(!t)throw Ss(e)},Ss=function(t){return new Error("Firebase Database ("+Pv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var nA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,m=(s&3)<<4|a>>4,w=(a&15)<<2|d>>6,I=d&63;u||(I=64,o||(w=64)),r.push(n[p],n[m],n[w],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||m==null)throw new Ov;let w=s<<2|a>>4;if(r.push(w),d!==64){let I=a<<4&240|d>>2;if(r.push(I),m!==64){let S=d<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ov=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Fv=function(t){let e=nA(t);return Bh.encodeByteArray(e,!0)},hu=function(t){return Fv(t).replace(/\./g,"")},fu=function(t){try{return Bh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rA(t){return iA(void 0,t)}function iA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!MB(n)||(t[n]=iA(t[n],e[n]));return t}function MB(t){return t!=="__proto__"}function NB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var PB=()=>NB().__FIREBASE_DEFAULTS__,OB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&fu(t[1]);return e&&JSON.parse(e)},Lv=()=>{try{return PB()||OB()||kB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vv=t=>{var e,n;return(n=(e=Lv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$h=t=>{let e=Vv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jv=()=>{var t;return(t=Lv())===null||t===void 0?void 0:t.config},Uv=t=>{var e;return(e=Lv())===null||e===void 0?void 0:e[`_${t}`]};var Ds=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Hh(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[hu(JSON.stringify(n)),hu(JSON.stringify(o)),a].join(".")}function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function sA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){let t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Dr(){return Pv.NODE_CLIENT===!0||Pv.NODE_ADMIN===!0}function Bv(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var FB="FirebaseError",Cn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ri.prototype.create)}},ri=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cn(i,a,r)}};function LB(t,e){return t.replace(VB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var VB=/\{\$([^}]+)}/g;function oa(t){return JSON.parse(t)}function At(t){return JSON.stringify(t)}var cA=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=oa(fu(s[0])||""),n=oa(fu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var uA=function(t){let e=cA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},lA=function(t){let e=cA(t).claims;return typeof e=="object"&&e.admin===!0};function Sr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function As(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gu(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mu(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function xs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(tA(s)&&tA(o)){if(!xs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function tA(t){return t!==null&&typeof t=="object"}function Rs(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Uh=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){let w=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(w<<1|w>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4],d,p;for(let m=0;m<80;m++){m<40?m<20?(d=a^s&(o^a),p=1518500249):(d=s^o^a,p=1859775393):m<60?(d=s&o|a&(s|o),p=2400959708):(d=s^o^a,p=3395469782);let w=(i<<5|i>>>27)+d+u+p+r[m]&4294967295;u=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=w}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function dA(t,e){let n=new kv(t,e);return n.subscribe.bind(n)}var kv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nv),i.error===void 0&&(i.error=Nv),i.complete===void 0&&(i.complete=Nv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function jB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nv(){}function hA(t,e){return`${t} failed: ${e} argument `}var fA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,U(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yu=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var cZ=4*60*60*1e3;function Tn(t){return t&&t._delegate?t._delegate:t}var pn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ms="[DEFAULT]";var zh=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ds;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BB(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UB(t){return t===Ms?void 0:t}function BB(t){return t.instantiationMode==="EAGER"}var vu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new zh(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $B=[],Te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Te||{}),HB={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},qB=Te.INFO,zB={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},WB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=zB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ar=class{constructor(e){this.name=e,this._logLevel=qB,this._logHandler=WB,this._userLogHandler=null,$B.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}};var GB=(t,e)=>e.some(n=>t instanceof n),pA,gA;function KB(){return pA||(pA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QB(){return gA||(gA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mA=new WeakMap,Hv=new WeakMap,yA=new WeakMap,$v=new WeakMap,zv=new WeakMap;function YB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mA.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function XB(t){if(Hv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hv.set(t,e)}var qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vA(t){qv=t(qv)}function ZB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Wh(this),e,...n);return yA.set(r,e.sort?e.sort():[e]),xr(r)}:QB().includes(t)?function(...e){return t.apply(Wh(this),e),xr(mA.get(this))}:function(...e){return xr(t.apply(Wh(this),e))}}function JB(t){return typeof t=="function"?ZB(t):(t instanceof IDBTransaction&&XB(t),GB(t,KB())?new Proxy(t,qv):t)}function xr(t){if(t instanceof IDBRequest)return YB(t);if($v.has(t))return $v.get(t);let e=JB(t);return e!==t&&($v.set(t,e),zv.set(e,t)),e}var Wh=t=>zv.get(t);function wA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=xr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(xr(o.result),u.oldVersion,u.newVersion,xr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var e$=["get","getKey","getAll","getAllKeys","count"],t$=["put","add","delete","clear"],Wv=new Map;function _A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wv.get(e))return Wv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=t$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e$.includes(n)))return;let s=function(o,...a){return A(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return Wv.set(e,s),s}vA(t=>Ye(G({},t),{get:(e,n,r)=>_A(e,n)||t.get(e,n,r),has:(e,n)=>!!_A(e,n)||t.has(e,n)}));var Kv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n$(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function n$(t){let e=t.getComponent();return e?.type==="VERSION"}var Qv="@firebase/app",EA="0.9.25";var Ns=new Ar("@firebase/app"),r$="@firebase/app-compat",i$="@firebase/analytics-compat",s$="@firebase/analytics",o$="@firebase/app-check-compat",a$="@firebase/app-check",c$="@firebase/auth",u$="@firebase/auth-compat",l$="@firebase/database",d$="@firebase/database-compat",h$="@firebase/functions",f$="@firebase/functions-compat",p$="@firebase/installations",g$="@firebase/installations-compat",m$="@firebase/messaging",y$="@firebase/messaging-compat",v$="@firebase/performance",_$="@firebase/performance-compat",w$="@firebase/remote-config",E$="@firebase/remote-config-compat",I$="@firebase/storage",C$="@firebase/storage-compat",T$="@firebase/firestore",b$="@firebase/firestore-compat",D$="firebase",S$="10.7.1";var Yv="[DEFAULT]",A$={[Qv]:"fire-core",[r$]:"fire-core-compat",[s$]:"fire-analytics",[i$]:"fire-analytics-compat",[a$]:"fire-app-check",[o$]:"fire-app-check-compat",[c$]:"fire-auth",[u$]:"fire-auth-compat",[l$]:"fire-rtdb",[d$]:"fire-rtdb-compat",[h$]:"fire-fn",[f$]:"fire-fn-compat",[p$]:"fire-iid",[g$]:"fire-iid-compat",[m$]:"fire-fcm",[y$]:"fire-fcm-compat",[v$]:"fire-perf",[_$]:"fire-perf-compat",[w$]:"fire-rc",[E$]:"fire-rc-compat",[I$]:"fire-gcs",[C$]:"fire-gcs-compat",[T$]:"fire-fst",[b$]:"fire-fst-compat","fire-js":"fire-js",[D$]:"fire-js-all"};var _u=new Map,Xv=new Map;function x$(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rr(t){let e=t.name;if(Xv.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;Xv.set(e,t);for(let n of _u.values())x$(n,t);return!0}function Ps(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var R$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Oi=new ri("app","Firebase",R$);var Zv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}};var Mr=S$;function t_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Yv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=jv()),!n)throw Oi.create("no-options");let s=_u.get(i);if(s){if(xs(n,s.options)&&xs(r,s.config))return s;throw Oi.create("duplicate-app",{appName:i})}let o=new vu(i);for(let u of Xv.values())o.addComponent(u);let a=new Zv(n,r,o);return _u.set(i,a),a}function ki(t=Yv){let e=_u.get(t);if(!e&&t===Yv&&jv())return t_();if(!e)throw Oi.create("no-app",{appName:t});return e}function Gh(){return Array.from(_u.values())}function st(t,e,n){var r;let i=(r=A$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(a.join(" "));return}Rr(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var M$="firebase-heartbeat-database",N$=1,wu="firebase-heartbeat-store",Gv=null;function bA(){return Gv||(Gv=wA(M$,N$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wu)}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),Gv}function P$(t){return A(this,null,function*(){try{return yield(yield bA()).transaction(wu).objectStore(wu).get(DA(t))}catch(e){if(e instanceof Cn)Ns.warn(e.message);else{let n=Oi.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(n.message)}}})}function IA(t,e){return A(this,null,function*(){try{let r=(yield bA()).transaction(wu,"readwrite");yield r.objectStore(wu).put(e,DA(t)),yield r.done}catch(n){if(n instanceof Cn)Ns.warn(n.message);else{let r=Oi.create("idb-set",{originalErrorMessage:n?.message});Ns.warn(r.message)}}})}function DA(t){return`${t.name}!${t.options.appId}`}var O$=1024,k$=30*24*60*60*1e3,Jv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new e_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CA();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=k$}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return A(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=CA(),{heartbeatsToSend:r,unsentEntries:i}=F$(this._heartbeatsCache.heartbeats),s=hu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function CA(){return new Date().toISOString().substring(0,10)}function F$(t,e=O$){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),TA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var e_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return Bv()?aA().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield P$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function TA(t){return hu(JSON.stringify({version:2,heartbeats:t})).length}function L$(t){Rr(new pn("platform-logger",e=>new Kv(e),"PRIVATE")),Rr(new pn("heartbeat",e=>new Jv(e),"PRIVATE")),st(Qv,EA,t),st(Qv,EA,"esm2017"),st("fire-js","")}L$("");var V$="firebase",j$="10.7.1";st(V$,j$,"app");var ii=new ei("ANGULARFIRE2_VERSION");function ca(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ks=(t,e)=>{let n=e?[e]:Gh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Fi=class{constructor(){return ks(U$)}},U$="app-check";function aa(){}var Kh=class{zone;delegate;constructor(e,n=Lg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},n_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa)),n.pipe(mt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Li=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Kh(Zone.current)),this.insideAngular=n.run(()=>new Kh(Zone.current,Fg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(pe(qe))};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function B$(t){return Qh().ngZone.runOutsideAngular(()=>t())}function Os(t){return Qh().ngZone.run(()=>t())}function $$(t){return H$(Qh())(t)}function H$(t){return function(n){return n=n.lift(new n_(t.ngZone)),n.pipe(wi(t.outsideAngular),_i(t.insideAngular))}}var q$=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Os(()=>t.apply(void 0,r))},Nr=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Os(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa))),r[s]=q$(r[s],n));let i=B$(()=>t.apply(this,r));if(!e)if(i instanceof Ae){let s=Qh();return i.pipe(wi(s.outsideAngular),_i(s.insideAngular))}else return Os(()=>i);return i instanceof Ae?i.pipe($$):i instanceof Promise?Os(()=>new Promise((s,o)=>i.then(a=>Os(()=>s(a)),a=>Os(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Os(()=>i)};var er=class{constructor(e){return e}},si=class{constructor(){return Gh()}};function z$(t){return t&&t.length===1?t[0]:new er(ki())}var r_=new ie("angularfire2._apps"),W$={provide:er,useFactory:z$,deps:[[new ft,r_]]},G$={provide:si,deps:[[new ft,r_]]};function K$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new er(r)}}var Q$=(()=>{class t{constructor(n){st("angularfire",ii.full,"core"),st("angularfire",ii.full,"app"),st("angular",GD.full,n.toString())}static \u0275fac=function(r){return new(r||t)(pe(xi))};static \u0275mod=Bt({type:t});static \u0275inj=Ut({providers:[W$,G$]})}return t})();function SA(t,...e){return{ngModule:Q$,providers:[{provide:r_,useFactory:K$(t),multi:!0,deps:[qe,en,Li,...e]}]}}var AA=Nr(t_,!0);function $A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HA=$A,qA=new ri("auth","Firebase",$A());var tf=new Ar("@firebase/auth");function Y$(t,...e){tf.logLevel<=Te.WARN&&tf.warn(`Auth (${Mr}): ${t}`,...e)}function Xh(t,...e){tf.logLevel<=Te.ERROR&&tf.error(`Auth (${Mr}): ${t}`,...e)}function ji(t,...e){throw C_(t,...e)}function Fs(t,...e){return C_(t,...e)}function X$(t,e,n){let r=Object.assign(Object.assign({},HA()),{[e]:n});return new ri("auth","Firebase",r).create(e,{appName:t.name})}function C_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qA.create(t,...e)}function he(t,e,...n){if(!t)throw C_(e,...n)}function oi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function Ui(t,e){t||oi(e)}function a_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Z$(){return xA()==="http:"||xA()==="https:"}function xA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function J$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z$()||sA()||"connection"in navigator)?navigator.onLine:!0}function eH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ls=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=pu()||qh()}get(){return J$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function T_(t,e){Ui(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var nf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var tH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var nH=new Ls(3e4,6e4);function b_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ua(s,o,a,u){return A(this,arguments,function*(t,e,n,r,i={}){return zA(t,i,()=>A(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let m=Rs(Object.assign({key:t.config.apiKey},p)).slice(1),w=yield t._getAdditionalHeaders();return w["Content-Type"]="application/json",t.languageCode&&(w["X-Firebase-Locale"]=t.languageCode),nf.fetch()(WA(t,t.config.apiHost,n,m),Object.assign({method:e,headers:w,referrerPolicy:"no-referrer"},d))}))})}function zA(t,e,n){return A(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},tH),e);try{let i=new c_(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Yh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Yh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Yh(t,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw X$(t,p,d);ji(t,p)}}catch(i){if(i instanceof Cn)throw i;ji(t,"network-request-failed",{message:String(i)})}})}function rH(s,o,a,u){return A(this,arguments,function*(t,e,n,r,i={}){let d=yield ua(t,e,n,r,i);return"mfaPendingCredential"in d&&ji(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function WA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?T_(t.config,i):`${t.config.apiScheme}://${i}`}var c_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),nH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Yh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Fs(t,e,r);return i.customData._tokenResponse=n,i}function iH(t,e){return A(this,null,function*(){return ua(t,"POST","/v1/accounts:delete",e)})}function sH(t,e){return A(this,null,function*(){return ua(t,"POST","/v1/accounts:lookup",e)})}function Eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function D_(t,e=!1){return A(this,null,function*(){let n=Tn(t),r=yield n.getIdToken(e),i=S_(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Eu(i_(i.auth_time)),issuedAtTime:Eu(i_(i.iat)),expirationTime:Eu(i_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function i_(t){return Number(t)*1e3}function S_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{let i=fu(n);return i?JSON.parse(i):(Xh("Failed to decode base64 JWT payload"),null)}catch(i){return Xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oH(t){let e=S_(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Iu(t,e,n=!1){return A(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Cn&&aH(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function aH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var u_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),n)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var rf=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sf(t){return A(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Iu(t,sH(n,{idToken:r}));he(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uH(s.providerUserInfo):[],a=cH(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!a?.length,p=u?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rf(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)})}function A_(t){return A(this,null,function*(){let e=Tn(t);yield sf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function cH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uH(t){return t.map(e=>{var{providerId:n}=e,r=Vg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function lH(t,e){return A(this,null,function*(){let n=yield zA(t,{},()=>A(this,null,function*(){let r=Rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=WA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function dH(t,e){return A(this,null,function*(){return ua(t,"POST","/v2/accounts:revokeToken",b_(t,e))})}var of=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return A(this,null,function*(){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return A(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield lH(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return oi("not implemented")}};function Vi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Cu=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rf(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let n=yield Iu(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return D_(this,e)}reload(){return A_(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return A(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield sf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){let e=yield this.getIdToken();return yield Iu(this,iH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,d,p;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,F=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,K=(d=n.createdAt)!==null&&d!==void 0?d:void 0,ve=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:Ie,emailVerified:je,isAnonymous:ot,providerData:g,stsTokenManager:Ot}=n;he(Ie&&Ot,e,"internal-error");let Ne=of.fromJSON(this.name,Ot);he(typeof Ie=="string",e,"internal-error"),Vi(m,e.name),Vi(w,e.name),he(typeof je=="boolean",e,"internal-error"),he(typeof ot=="boolean",e,"internal-error"),Vi(I,e.name),Vi(S,e.name),Vi(F,e.name),Vi(P,e.name),Vi(K,e.name),Vi(ve,e.name);let $r=new t({uid:Ie,auth:e,email:w,emailVerified:je,displayName:m,isAnonymous:ot,photoURL:S,phoneNumber:I,tenantId:F,stsTokenManager:Ne,createdAt:K,lastLoginAt:ve});return g&&Array.isArray(g)&&($r.providerData=g.map(ao=>Object.assign({},ao))),P&&($r._redirectEventId=P),$r}static _fromIdTokenResponse(e,n,r=!1){return A(this,null,function*(){let i=new of;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sf(s),s})}};var RA=new Map;function ai(t){Ui(t instanceof Function,"Expected a class definition");let e=RA.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RA.set(t,e),e)}var hH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(n,r){return A(this,null,function*(){this.storage[n]=r})}_get(n){return A(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return A(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),l_=hH;function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}var af=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Zh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Cu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return A(this,null,function*(){if(!n.length)return new t(ai(l_),e,r);let i=(yield Promise.all(n.map(d=>A(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||ai(l_),o=Zh(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(o);if(p){let m=Cu._fromJSON(e,p);d!==s&&(a=m),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(d=>A(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function MA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XA(e))return"Blackberry";if(ZA(e))return"Webos";if(x_(e))return"Safari";if((e.includes("chrome/")||KA(e))&&!e.includes("edge/"))return"Chrome";if(YA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GA(t=St()){return/firefox\//i.test(t)}function x_(t=St()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KA(t=St()){return/crios\//i.test(t)}function QA(t=St()){return/iemobile/i.test(t)}function YA(t=St()){return/android/i.test(t)}function XA(t=St()){return/blackberry/i.test(t)}function ZA(t=St()){return/webos/i.test(t)}function gf(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fH(t=St()){var e;return gf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pH(){return oA()&&document.documentMode===10}function JA(t=St()){return gf(t)||YA(t)||ZA(t)||XA(t)||/windows phone/i.test(t)||QA(t)}function gH(){try{return!!(window&&window!==window.top)}catch{return!1}}function ex(t,e=[]){let n;switch(t){case"Browser":n=MA(St());break;case"Worker":n=`${MA(St())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mr}/${r}`}var d_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function mH(n){return A(this,arguments,function*(t,e={}){return ua(t,"GET","/v2/passwordPolicy",b_(t,e))})}var yH=6,h_=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var f_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cf(this),this.idTokenSubscription=new cf(this),this.beforeStateQueue=new d_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield af.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return A(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return A(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield sf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=eH()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){let n=e?Tn(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return A(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(ai(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield mH(this),n=new h_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ri("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield dH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return A(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ai(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=yield af.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ex(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return A(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Y$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function R_(t){return Tn(t)}var cf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function vH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _H(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Fs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vH().appendChild(r)})}function tx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function M_(t,e){let n=Ps(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(xs(s,e??{}))return i;ji(i,"already-initialized")}return n.initialize({options:e})}function wH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function N_(t,e,n){let r=R_(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=nx(e),{host:o,port:a}=EH(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||IH()}function nx(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EH(t){let e=nx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:NA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:NA(o)}}}function NA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function IH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var uf=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}};function s_(t,e){return A(this,null,function*(){return rH(t,"POST","/v1/accounts:signInWithIdp",b_(t,e))})}var lf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var p_=class extends lf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Tu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return A(this,null,function*(){let s=yield Cu._fromIdTokenResponse(e,r,i),o=PA(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return A(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=PA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function PA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var g_=class t extends Cn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function rx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?g_._fromErrorAndOperation(t,s,e,r):s})}function CH(t,e,n=!1){return A(this,null,function*(){let r=yield Iu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Tu._forOperation(t,"link",r)})}function TH(t,e,n=!1){return A(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Iu(t,rx(r,i,e,t),n);he(s.idToken,r,"internal-error");let o=S_(s.idToken);he(o,r,"internal-error");let{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),Tu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),s}})}function bH(t,e,n=!1){return A(this,null,function*(){let r="signIn",i=yield rx(t,r,e),s=yield Tu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function P_(t,e,n,r){return Tn(t).onIdTokenChanged(e,n,r)}function O_(t,e,n){return Tn(t).beforeAuthStateChanged(e,n)}var df="__sak";var hf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function DH(){let t=St();return x_(t)||gf(t)}var SH=1e3,AH=10,xH=(()=>{class t extends hf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=DH()&&gH(),this.fallbackToPolling=JA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);pH()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,AH):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},SH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return A(this,null,function*(){yield yi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return A(this,null,function*(){let r=yield yi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return A(this,null,function*(){yield yi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ix=xH;var RH=(()=>{class t extends hf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),k_=RH;function MH(t){return Promise.all(t.map(e=>A(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var NH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return A(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>A(this,null,function*(){return p(r.origin,o)})),d=yield MH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function sx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var m_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return A(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=sx("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){let w=m;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(w.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Pr(){return window}function PH(t){Pr().location.href=t}function ox(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}function OH(){return A(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function kH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FH(){return ox()?self:null}var ax="firebaseLocalStorageDb",LH=1,ff="firebaseLocalStorage",cx="fbase_key",Vs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function mf(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function VH(){let t=indexedDB.deleteDatabase(ax);return new Vs(t).toPromise()}function y_(){let t=indexedDB.open(ax,LH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ff,{keyPath:cx})}catch(i){n(i)}}),t.addEventListener("success",()=>A(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),yield VH(),e(yield y_()))}))})}function OA(t,e,n){return A(this,null,function*(){let r=mf(t,!0).put({[cx]:e,value:n});return new Vs(r).toPromise()})}function jH(t,e){return A(this,null,function*(){let n=mf(t,!1).get(e),r=yield new Vs(n).toPromise();return r===void 0?null:r.value})}function kA(t,e){let n=mf(t,!0).delete(e);return new Vs(n).toPromise()}var UH=800,BH=3,$H=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return A(this,null,function*(){return this.db?this.db:(this.db=yield y_(),this.db)})}_withRetries(n){return A(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>BH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return A(this,null,function*(){return ox()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return A(this,null,function*(){this.receiver=NH._getInstance(FH()),this.receiver._subscribe("keyChanged",(n,r)=>A(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>A(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return A(this,null,function*(){var n,r;if(this.activeServiceWorker=yield OH(),!this.activeServiceWorker)return;this.sender=new m_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return A(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||kH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return A(this,null,function*(){try{if(!indexedDB)return!1;let n=yield y_();return yield OA(n,df,"1"),yield kA(n,df),!0}catch{}return!1})}_withPendingWrite(n){return A(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(i=>OA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return A(this,null,function*(){let r=yield this._withRetries(i=>jH(i,n));return this.localCache[n]=r,r})}_remove(n){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(r=>kA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return A(this,null,function*(){let n=yield this._withRetries(s=>{let o=mf(s,!1).getAll();return new Vs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>A(this,null,function*(){return this._poll()}),UH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ux=$H;var eJ=tx("rcb"),tJ=new Ls(3e4,6e4);function HH(t,e){return e?ai(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var bu=class extends uf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return s_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return s_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return s_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function qH(t){return bH(t.auth,new bu(t),t.bypassAuthState)}function zH(t){let{auth:e,user:n}=t;return he(n,e,"internal-error"),TH(n,new bu(t),t.bypassAuthState)}function WH(t){return A(this,null,function*(){let{auth:e,user:n}=t;return he(n,e,"internal-error"),CH(n,new bu(t),t.bypassAuthState)})}var v_=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>A(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return A(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qH;case"linkViaPopup":case"linkViaRedirect":return WH;case"reauthViaPopup":case"reauthViaRedirect":return zH;default:ji(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var nJ=new Ls(2e3,1e4);var GH="pendingRedirect",Jh=new Map,__=class t extends v_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return A(this,null,function*(){let e=Jh.get(this.auth._key());if(!e){try{let r=(yield KH(this.resolver,this.auth))?yield yi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return A(this,null,function*(){if(e.type==="signInViaRedirect")return yi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,yi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return A(this,null,function*(){})}cleanUp(){}};function KH(t,e){return A(this,null,function*(){let n=XH(e),r=YH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function QH(t,e){Jh.set(t._key(),e)}function YH(t){return ai(t._redirectPersistence)}function XH(t){return Zh(GH,t.config.apiKey,t.name)}function ZH(t,e,n=!1){return A(this,null,function*(){let r=R_(t),i=HH(r,e),o=yield new __(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var JH=10*60*1e3,w_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JH&&this.cachedEventUids.clear(),this.cachedEventUids.has(FA(e))}saveEventToCache(e){this.cachedEventUids.add(FA(e)),this.lastProcessedEventTime=Date.now()}};function FA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lx(t);default:return!1}}function tq(n){return A(this,arguments,function*(t,e={}){return ua(t,"GET","/v1/projects",e)})}var nq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rq=/^https?/;function iq(t){return A(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield tq(t);for(let n of e)try{if(sq(n))return}catch{}ji(t,"unauthorized-domain")})}function sq(t){let e=a_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rq.test(n))return!1;if(nq.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var oq=new Ls(3e4,6e4);function LA(){let t=Pr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aq(t){return new Promise((e,n)=>{var r,i,s;function o(){LA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LA(),n(Fs(t,"network-request-failed"))},timeout:oq.get()})}if(!((i=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Pr().gapi)===null||s===void 0)&&s.load)o();else{let a=tx("iframefcb");return Pr()[a]=()=>{gapi.load?o():n(Fs(t,"network-request-failed"))},_H(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ef=null,e})}var ef=null;function cq(t){return ef=ef||aq(t),ef}var uq=new Ls(5e3,15e3),lq="__/auth/iframe",dq="emulator/auth/iframe",hq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pq(t){let e=t.config;he(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?T_(e,dq):`https://${t.config.authDomain}/${lq}`,r={apiKey:e.apiKey,appName:t.name,v:Mr},i=fq.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rs(r).slice(1)}`}function gq(t){return A(this,null,function*(){let e=yield cq(t),n=Pr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:pq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hq,dontclear:!0},r=>new Promise((i,s)=>A(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Fs(t,"network-request-failed"),a=Pr().setTimeout(()=>{s(o)},uq.get());function u(){Pr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var mq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yq=500,vq=600,_q="_blank",wq="http://localhost",pf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Eq(t,e,n,r=yq,i=vq){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},mq),{width:r.toString(),height:i.toString(),top:s,left:o}),d=St().toLowerCase();n&&(a=KA(d)?_q:n),GA(d)&&(e=e||wq,u.scrollbars="yes");let p=Object.entries(u).reduce((w,[I,S])=>`${w}${I}=${S},`,"");if(fH(d)&&a!=="_self")return Iq(e||"",a),new pf(null);let m=window.open(e||"",a,p);he(m,t,"popup-blocked");try{m.focus()}catch{}return new pf(m)}function Iq(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Cq="__/auth/handler",Tq="emulator/auth/handler",bq=encodeURIComponent("fac");function VA(t,e,n,r,i,s){return A(this,null,function*(){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mr,eventId:i};if(e instanceof lf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(s||{}))o[p]=m}if(e instanceof p_){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${bq}=${encodeURIComponent(u)}`:"";return`${Dq(t)}?${Rs(a).slice(1)}${d}`})}function Dq({config:t}){return t.emulator?T_(t,Tq):`https://${t.authDomain}/${Cq}`}var o_="webStorageSupport",E_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k_,this._completeRedirectFn=ZH,this._overrideRedirectResult=QH}_openPopup(e,n,r,i){return A(this,null,function*(){var s;Ui((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield VA(e,n,r,a_(),i);return Eq(e,o,sx())})}_openRedirect(e,n,r,i){return A(this,null,function*(){yield this._originValidation(e);let s=yield VA(e,n,r,a_(),i);return PH(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ui(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return A(this,null,function*(){let n=yield gq(e),r=new w_(e);return n.register("authEvent",i=>(he(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o_,{type:o_},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[o_];o!==void 0&&n(!!o),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JA()||x_()||gf()}},dx=E_;var jA="@firebase/auth",UA="1.5.1";var I_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Sq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Aq(t){Rr(new pn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ex(t)},d=new f_(r,i,s,u);return wH(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rr(new pn("auth-internal",e=>{let n=R_(e.getProvider("auth").getImmediate());return(r=>new I_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(jA,UA,Sq(t)),st(jA,UA,"esm2017")}var xq=5*60,Rq=Uv("authIdTokenMaxAge")||xq,BA=null,Mq=t=>e=>A(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Rq)return;let i=n?.token;BA!==i&&(BA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function F_(t=ki()){let e=Ps(t,"auth");if(e.isInitialized())return e.getImmediate();let n=M_(t,{popupRedirectResolver:dx,persistence:[ux,ix,k_]}),r=Uv("authTokenSyncURL");if(r){let s=Mq(r);O_(n,s,()=>s(n.currentUser)),P_(n,o=>s(o))}let i=Vv("auth");return i&&N_(n,`http://${i}`),n}Aq("Browser");var hx="auth",Du=class{constructor(e){return e}},js=class{constructor(){return ks(hx)}};var L_=new ie("angularfire2.auth-instances");function bz(t,e){let n=ca(hx,t,e);return n&&new Du(n)}function Dz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Du(r)}}var Sz={provide:js,deps:[[new ft,L_]]},Az={provide:Du,useFactory:bz,deps:[[new ft,L_],er]},xz=(()=>{class t{constructor(){st("angularfire",ii.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bt({type:t});static \u0275inj=Ut({providers:[Az,Sz]})}return t})();function fx(t,...e){return{ngModule:xz,providers:[{provide:L_,useFactory:Dz(t),multi:!0,deps:[qe,en,Li,si,[new ft,Fi],...e]}]}}var px=Nr(F_,!0);var Rz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nr={},B,sw=sw||{},le=Rz||self;function Rf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Uu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Mz(t){return Object.prototype.hasOwnProperty.call(t,V_)&&t[V_]||(t[V_]=++Nz)}var V_="closure_uid_"+(1e9*Math.random()>>>0),Nz=0;function Pz(t,e,n){return t.call.apply(t.bind,arguments)}function Oz(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=Pz:Ht=Oz,Ht.apply(null,arguments)}function yf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Bi(){this.s=this.s,this.o=this.o}var kz=0;Bi.prototype.s=!1;Bi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kz!=0)&&Mz(this)};Bi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Sx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ow(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function gx(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Rf(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var Fz=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function Nu(t){return/^[\s\xa0]*$/.test(t)}function Mf(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function Or(t){return Mf().indexOf(t)!=-1}function aw(t){return aw[" "](t),t}aw[" "]=function(){};function Lz(t,e){var n=bW;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Vz=Or("Opera"),fa=Or("Trident")||Or("MSIE"),Ax=Or("Edge"),H_=Ax||fa,xx=Or("Gecko")&&!(Mf().toLowerCase().indexOf("webkit")!=-1&&!Or("Edge"))&&!(Or("Trident")||Or("MSIE"))&&!Or("Edge"),jz=Mf().toLowerCase().indexOf("webkit")!=-1&&!Or("Edge");function Rx(){var t=le.document;return t?t.documentMode:void 0}var q_;e:{if(vf="",_f=function(){var t=Mf();if(xx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ax)return/Edge\/([\d\.]+)/.exec(t);if(fa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(jz)return/WebKit\/(\S+)/.exec(t);if(Vz)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),_f&&(vf=_f?_f[1]:""),fa&&(wf=Rx(),wf!=null&&wf>parseFloat(vf))){q_=String(wf);break e}q_=vf}var vf,_f,wf,z_;le.document&&fa?(j_=Rx(),z_=j_||parseInt(q_,10)||void 0):z_=void 0;var j_,Uz=z_;function Pu(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xx){e:{try{aw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Bz[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pu.$.h.call(this)}}Rt(Pu,qt);var Bz={2:"touch",3:"pen",4:"mouse"};Pu.prototype.h=function(){Pu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bu="closure_listenable_"+(1e6*Math.random()|0),$z=0;function Hz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$z,this.fa=this.ia=!1}function Nf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cw(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function qz(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function Mx(t){let e={};for(let n in t)e[n]=t[n];return e}var mx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<mx.length;s++)n=mx[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pf(t){this.src=t,this.g={},this.h=0}Pf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=G_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Hz(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function W_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Sx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Nf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function G_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var uw="closure_lm_"+(1e6*Math.random()|0),U_={};function Px(t,e,n,r,i){if(r&&r.once)return kx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Px(t,e[s],n,r,i);return null}return n=hw(n),t&&t[Bu]?t.O(e,n,Uu(r)?!!r.capture:!!r,i):Ox(t,e,n,!1,r,i)}function Ox(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Uu(i)?!!i.capture:!!i,a=dw(t);if(a||(t[uw]=a=new Pf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=zz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fz||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Lx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zz(){function t(n){return e.call(t.src,t.listener,n)}let e=Wz;return t}function kx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)kx(t,e[s],n,r,i);return null}return n=hw(n),t&&t[Bu]?t.P(e,n,Uu(r)?!!r.capture:!!r,i):Ox(t,e,n,!0,r,i)}function Fx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Fx(t,e[s],n,r,i);else r=Uu(r)?!!r.capture:!!r,n=hw(n),t&&t[Bu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=G_(s,n,r,i),-1<n&&(Nf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=dw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=G_(e,n,r,i)),(n=-1<t?e[t]:null)&&lw(n))}function lw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Bu])W_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Lx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dw(e))?(W_(n,t),n.h==0&&(n.src=null,e[uw]=null)):Nf(t)}}}function Lx(t){return t in U_?U_[t]:U_[t]="on"+t}function Wz(t,e){if(t.fa)t=!0;else{e=new Pu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&lw(t),t=n.call(r,e)}return t}function dw(t){return t=t[uw],t instanceof Pf?t:null}var B_="__closure_events_fn_"+(1e9*Math.random()>>>0);function hw(t){return typeof t=="function"?t:(t[B_]||(t[B_]=function(e){return t.handleEvent(e)}),t[B_])}function xt(){Bi.call(this),this.i=new Pf(this),this.S=this,this.J=null}Rt(xt,Bi);xt.prototype[Bu]=!0;xt.prototype.removeEventListener=function(t,e,n,r){Fx(this,t,e,n,r)};function Vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;e=new qt(r,t),Nx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ef(o,r,!0,e)&&i}if(o=e.g=t,i=Ef(o,r,!0,e)&&i,i=Ef(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ef(o,r,!1,e)&&i}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nf(n[r]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ef(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&W_(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var fw=le.JSON.stringify,K_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Gz(){var t=pw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Q_=class{constructor(){this.h=this.g=null}add(e,n){let r=Vx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Vx=new K_(()=>new Y_,t=>t.reset()),Y_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Kz(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Qz(t){le.setTimeout(()=>{throw t},0)}var Ou,ku=!1,pw=new Q_,jx=()=>{let t=le.Promise.resolve(void 0);Ou=()=>{t.then(Yz)}},Yz=()=>{for(var t;t=Gz();){try{t.h.call(t.g)}catch(n){Qz(n)}var e=Vx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ku=!1};function Of(t,e){xt.call(this),this.h=t||1,this.g=e||le,this.j=Ht(this.qb,this),this.l=Date.now()}Rt(Of,xt);B=Of.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(gw(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){Of.$.N.call(this),gw(this),delete this.g};function mw(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function Ux(t){t.g=mw(()=>{t.g=null,t.i&&(t.i=!1,Ux(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var X_=class extends Bi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ux(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Fu(t){Bi.call(this),this.h=t,this.g={}}Rt(Fu,Bi);var yx=[];function Bx(t,e,n,r){Array.isArray(n)||(n&&(yx[0]=n.toString()),n=yx);for(var i=0;i<n.length;i++){var s=Px(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $x(t){cw(t.g,function(e,n){this.g.hasOwnProperty(n)&&lw(e)},t),t.g={}}Fu.prototype.N=function(){Fu.$.N.call(this),$x(this)};Fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kf(){this.g=!0}kf.prototype.Ea=function(){this.g=!1};function Xz(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var d=a[u].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");o=2<=m.length&&m[1]=="type"?o+(p+"="+d+"&"):o+(p+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Zz(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function da(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eW(t,n)+(r?" "+r:"")})}function Jz(t,e){t.info(function(){return"TIMEOUT: "+e})}kf.prototype.info=function(){};function eW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return fw(n)}catch{return e}}var Hs={},vx=null;function Ff(){return vx=vx||new xt}Hs.Ta="serverreachability";function Hx(t){qt.call(this,Hs.Ta,t)}Rt(Hx,qt);function Lu(t){let e=Ff();Vt(e,new Hx(e))}Hs.STAT_EVENT="statevent";function qx(t,e){qt.call(this,Hs.STAT_EVENT,t),this.stat=e}Rt(qx,qt);function tn(t){let e=Ff();Vt(e,new qx(e,t))}Hs.Ua="timingevent";function zx(t,e){qt.call(this,Hs.Ua,t),this.size=e}Rt(zx,qt);function $u(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var Lf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yw(){}yw.prototype.h=null;function _x(t){return t.h||(t.h=t.i())}function Gx(){}var Hu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vw(){qt.call(this,"d")}Rt(vw,qt);function _w(){qt.call(this,"c")}Rt(_w,qt);var Z_;function Vf(){}Rt(Vf,yw);Vf.prototype.g=function(){return new XMLHttpRequest};Vf.prototype.i=function(){return{}};Z_=new Vf;function qu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Fu(this),this.P=tW,t=H_?125:void 0,this.V=new Of(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kx}function Kx(){this.i=null,this.g="",this.h=!1}var tW=45e3,Qx={},J_={};B=qu.prototype;B.setTimeout=function(t){this.P=t};function ew(t,e,n){t.L=1,t.A=Uf(ui(e)),t.u=n,t.S=!0,Yx(t,null)}function Yx(t,e){t.G=Date.now(),zu(t),t.B=ui(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),iR(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Kx,t.g=bR(t.l,n?e:null,!t.u),0<t.O&&(t.M=new X_(Ht(t.Pa,t,t.g),t.O)),Bx(t.U,t.g,"readystatechange",t.nb),e=t.I?Mx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Lu(),Xz(t.j,t.v,t.B,t.m,t.W,t.u)}B.nb=function(t){t=t.target;let e=this.M;e&&kr(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{let p=kr(this.g);var e=this.g.Ia();let m=this.g.da();if(!(3>p)&&(p!=3||H_||this.g&&(this.h.h||this.g.ja()||Cx(this.g)))){this.J||p!=4||e==7||(e==8||0>=m?Lu(3):Lu(2)),jf(this);var n=this.g.da();this.ca=n;t:if(Xx(this)){var r=Cx(this.g);t="";var i=r.length,s=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),Mu(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Zz(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nu(a)){var d=a;break t}}d=null}if(n=d)da(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tw(this,n);else{this.i=!1,this.s=3,tn(12),Us(this),Mu(this);break e}}this.S?(Zx(this,p,o),H_&&this.i&&p==3&&(Bx(this.U,this.V,"tick",this.mb),this.V.start())):(da(this.j,this.m,o,null),tw(this,o)),p==4&&Us(this),this.i&&!this.J&&(p==4?ER(this.l,this):(this.i=!1,zu(this)))}else IW(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),Us(this),Mu(this)}}}catch{}finally{}};function Xx(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Zx(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=nW(t,n),i==J_){e==4&&(t.s=4,tn(14),r=!1),da(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Qx){t.s=4,tn(15),da(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else da(t.j,t.m,i,null),tw(t,i);Xx(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bw(e),e.M=!0,tn(11))):(da(t.j,t.m,n,"[Invalid Chunked Response]"),Us(t),Mu(t))}B.mb=function(){if(this.g){var t=kr(this.g),e=this.g.ja();this.o<e.length&&(jf(this),Zx(this,t,e),this.i&&t!=4&&zu(this))}};function nW(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?J_:(n=Number(e.substring(n,r)),isNaN(n)?Qx:(r+=1,r+n>e.length?J_:(e=e.slice(r,r+n),t.o=r+n,e)))}B.cancel=function(){this.J=!0,Us(this)};function zu(t){t.Y=Date.now()+t.P,Jx(t,t.P)}function Jx(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=$u(Ht(t.lb,t),e)}function jf(t){t.C&&(le.clearTimeout(t.C),t.C=null)}B.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Jz(this.j,this.B),this.L!=2&&(Lu(),tn(17)),Us(this),this.s=2,Mu(this)):Jx(this,this.Y-t)};function Mu(t){t.l.H==0||t.J||ER(t.l,t)}function Us(t){jf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gw(t.V),$x(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tw(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||nw(n.i,t))){if(!t.K&&nw(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Df(n),Hf(n);else break e;Tw(n),tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=$u(Ht(n.ib,n),6e3));if(1>=aR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bs(n,11)}else if((t.K||n.g==t)&&Df(n),!Nu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];let p=d[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));let m=d[4];m!=null&&(n.Ga=m,n.l.info("SVER="+n.Ga));let w=d[5];w!=null&&typeof w=="number"&&0<w&&(r=1.5*w,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let I=t.g;if(I){let S=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ww(s,s.h),s.h=null))}if(r.F){let F=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(r.Da=F,nt(r.I,r.F,F))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=TR(r,r.J?r.pa:null,r.Y),o.K){cR(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(jf(a),zu(a)),r.g=o}else _R(r);0<n.j.length&&qf(n)}else d[0]!="stop"&&d[0]!="close"||Bs(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Bs(n,7):Cw(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}Lu(4)}catch{}}function rW(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Rf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iW(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Rf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function eR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Rf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iW(t),r=rW(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var tR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $s(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $s){this.h=t.h,Tf(this,t.j),this.s=t.s,this.g=t.g,bf(this,t.m),this.l=t.l;var e=t.i,n=new Vu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wx(this,n),this.o=t.o}else t&&(e=String(t).match(tR))?(this.h=!1,Tf(this,e[1]||"",!0),this.s=xu(e[2]||""),this.g=xu(e[3]||"",!0),bf(this,e[4]),this.l=xu(e[5]||"",!0),wx(this,e[6]||"",!0),this.o=xu(e[7]||"")):(this.h=!1,this.i=new Vu(null,this.h))}$s.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ru(e,Ex,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ru(e,Ex,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ru(n,n.charAt(0)=="/"?cW:aW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ru(n,lW)),t.join("")};function ui(t){return new $s(t)}function Tf(t,e,n){t.j=n?xu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wx(t,e,n){e instanceof Vu?(t.i=e,dW(t.i,t.h)):(n||(e=Ru(e,uW)),t.i=new Vu(e,t.h))}function nt(t,e,n){t.i.set(e,n)}function Uf(t){return nt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ru(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,oW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oW(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ex=/[#\/\?@]/g,aW=/[#\?:]/g,cW=/[#\?]/g,uW=/[#\?@]/g,lW=/#/g;function Vu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $i(t){t.g||(t.g=new Map,t.h=0,t.i&&sW(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=Vu.prototype;B.add=function(t,e){$i(this),this.i=null,t=pa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nR(t,e){$i(t),e=pa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rR(t,e){return $i(t),e=pa(t,e),t.g.has(e)}B.forEach=function(t,e){$i(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};B.ta=function(){$i(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};B.Z=function(t){$i(this);let e=[];if(typeof t=="string")rR(this,t)&&(e=e.concat(this.g.get(pa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return $i(this),this.i=null,t=pa(this,t),rR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function iR(t,e,n){nR(t,e),0<n.length&&(t.i=null,t.g.set(pa(t,e),ow(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function pa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dW(t,e){e&&!t.j&&($i(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nR(this,r),iR(this,i,n))},t)),t.j=e}var hW=class{constructor(t,e){this.g=t,this.map=e}};function sR(t){this.l=t||fW,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fW=10;function oR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aR(t){return t.h?1:t.g?t.g.size:0}function nw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ww(t,e){t.g?t.g.add(e):t.h=e}function cR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sR.prototype.cancel=function(){if(this.i=uR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function uR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return ow(t.i)}var pW=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function gW(){this.g=new pW}function mW(t,e,n){let r=n||"";try{eR(t,function(i,s){let o=i;Uu(i)&&(o=fw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yW(t,e){let n=new kf;if(le.Image){let r=new Image;r.onload=yf(If,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yf(If,n,r,"TestLoadImage: error",!1,e),r.onabort=yf(If,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yf(If,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function If(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wu(t){this.l=t.ec||null,this.j=t.ob||!1}Rt(Wu,yw);Wu.prototype.g=function(){return new Bf(this.l,this.j)};Wu.prototype.i=function(t){return function(){return t}}({});function Bf(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ew,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rt(Bf,xt);var Ew=0;B=Bf.prototype;B.open=function(t,e){if(this.readyState!=Ew)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ju(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gu(this)),this.readyState=Ew};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ju(this)),this.g&&(this.readyState=3,ju(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gu(this):ju(this),this.readyState==3&&lR(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,Gu(this))};B.Ya=function(t){this.g&&(this.response=t,Gu(this))};B.ka=function(){this.g&&Gu(this)};function Gu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ju(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ju(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var vW=le.JSON.parse;function lt(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dR,this.L=this.M=!1}Rt(lt,xt);var dR="",_W=/^https?$/i,wW=["POST","PUT"];B=lt.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Z_.g(),this.C=this.u?_x(this.u):_x(Z_),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Ix(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=Sx(wW,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pR(this),0<this.B&&((this.L=EW(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=mw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ix(this,s)}};function EW(t){return fa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof sw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function Ix(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hR(t),$f(t)}function hR(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),$f(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$f(this,!0)),lt.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?fR(this):this.kb())};B.kb=function(){fR(this)};function fR(t){if(t.h&&typeof sw<"u"&&(!t.C[1]||kr(t)!=4||t.da()!=2)){if(t.v&&kr(t)==4)mw(t.La,0,t);else if(Vt(t,"readystatechange"),kr(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(tR)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!_W.test(i?i.toLowerCase():"")}n=r}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var s=2<kr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",hR(t)}}finally{$f(t)}}}}function $f(t,e){if(t.g){pR(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function pR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function kr(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),vW(e)}};function Cx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function IW(t){let e={};t=(t.g&&2<=kr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Nu(t[r]))continue;var n=Kz(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}qz(e,function(r){return r.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function gR(t){let e="";return cw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Iw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):nt(t,e,n))}function Su(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mR(t){this.Ga=0,this.j=[],this.l=new kf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Su("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Su("baseRetryDelayMs",5e3,t),this.hb=Su("retryDelaySeedMs",1e4,t),this.eb=Su("forwardChannelMaxRetries",2,t),this.xa=Su("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sR(t&&t.concurrentRequestLimit),this.Ja=new gW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=mR.prototype;B.ra=8;B.H=1;function Cw(t){if(yR(t),t.H==3){var e=t.W++,n=ui(t.I);if(nt(n,"SID",t.K),nt(n,"RID",e),nt(n,"TYPE","terminate"),Ku(t,n),e=new qu(t,t.l,e),e.L=2,e.A=Uf(ui(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=bR(e.l,null),e.g.ha(e.A)),e.G=Date.now(),zu(e)}CR(t)}function Hf(t){t.g&&(bw(t),t.g.cancel(),t.g=null)}function yR(t){Hf(t),t.u&&(le.clearTimeout(t.u),t.u=null),Df(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function qf(t){if(!oR(t.i)&&!t.m){t.m=!0;var e=t.Na;Ou||jx(),ku||(Ou(),ku=!0),pw.add(e,t),t.C=0}}function CW(t,e){return aR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$u(Ht(t.Na,t,e),IR(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new qu(this,this.l,t),s=this.s;if(this.U&&(s?(s=Mx(s),Nx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vR(this,i,e),n=ui(this.I),nt(n,"RID",t),nt(n,"CVER",22),this.F&&nt(n,"X-HTTP-Session-Id",this.F),Ku(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(gR(s)))+"&"+e:this.o&&Iw(n,this.o,s)),ww(this.i,i),this.bb&&nt(n,"TYPE","init"),this.P?(nt(n,"$req",e),nt(n,"SID","null"),i.aa=!0,ew(i,n,null)):ew(i,n,e),this.H=2}}else this.H==3&&(t?Tx(this,t):this.j.length==0||oR(this.i)||Tx(this))};function Tx(t,e){var n;e?n=e.m:n=t.W++;let r=ui(t.I);nt(r,"SID",t.K),nt(r,"RID",n),nt(r,"AID",t.V),Ku(t,r),t.o&&t.s&&Iw(r,t.o,t.s),n=new qu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ww(t.i,n),ew(n,r,e)}function Ku(t,e){t.na&&cw(t.na,function(n,r){nt(e,r,n)}),t.h&&eR({},function(n,r){nt(e,r,n)})}function vR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let d=i[u].g,p=i[u].map;if(d-=s,0>d)s=Math.max(0,i[u].g-100),a=!1;else try{mW(p,o,"req"+d+"_")}catch{r&&r(p)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function _R(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ou||jx(),ku||(Ou(),ku=!0),pw.add(e,t),t.A=0}}function Tw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$u(Ht(t.Ma,t),IR(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,wR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$u(Ht(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),Hf(this),wR(this))};function bw(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function wR(t){t.g=new qu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ui(t.wa);nt(e,"RID","rpc"),nt(e,"SID",t.K),nt(e,"AID",t.V),nt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&nt(e,"TO",t.qa),nt(e,"TYPE","xmlhttp"),Ku(t,e),t.o&&t.s&&Iw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Uf(ui(e)),n.u=null,n.S=!0,Yx(n,t)}B.ib=function(){this.v!=null&&(this.v=null,Hf(this),Tw(this),tn(19))};function Df(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function ER(t,e){var n=null;if(t.g==e){Df(t),bw(t),t.g=null;var r=2}else if(nw(t.i,e))n=e.F,cR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ff(),Vt(r,new zx(r,n)),qf(t)}else _R(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&CW(t,e)||r==2&&Tw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bs(t,5);break;case 4:Bs(t,10);break;case 3:Bs(t,6);break;default:Bs(t,2)}}}function IR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Bs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new $s("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Tf(n,"https"),Uf(n)),yW(n.toString(),r)}else tn(2);t.H=0,t.h&&t.h.za(e),CR(t),yR(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))};function CR(t){if(t.H=0,t.ma=[],t.h){let e=uR(t.i);(e.length!=0||t.j.length!=0)&&(gx(t.ma,e),gx(t.ma,t.j),t.i.i.length=0,ow(t.j),t.j.length=0),t.h.ya()}}function TR(t,e,n){var r=n instanceof $s?ui(n):new $s(n);if(r.g!="")e&&(r.g=e+"."+r.g),bf(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $s(null);r&&Tf(s,r),e&&(s.g=e),i&&bf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&nt(r,n,e),nt(r,"VER",t.ra),Ku(t,r),r}function bR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new lt(new Wu({ob:n})):new lt(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function DR(){}B=DR.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function Sf(){if(fa&&!(10<=Number(Uz)))throw Error("Environmental error: no available transport.")}Sf.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){xt.call(this),this.g=new mR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ga(this)}Rt(bn,xt);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TR(t,null,t.Y),qf(t)};bn.prototype.close=function(){Cw(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=fw(t),t=n);e.j.push(new hW(e.fb++,t)),e.H==3&&qf(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,Cw(this.g),delete this.g,bn.$.N.call(this)};function SR(t){vw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Rt(SR,vw);function AR(){_w.call(this),this.status=1}Rt(AR,_w);function ga(t){this.g=t}Rt(ga,DR);ga.prototype.Ba=function(){Vt(this.g,"a")};ga.prototype.Aa=function(t){Vt(this.g,new SR(t))};ga.prototype.za=function(t){Vt(this.g,new AR)};ga.prototype.ya=function(){Vt(this.g,"b")};function TW(){this.blockSize=-1}function tr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Rt(tr,TW);tr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $_(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}tr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)$_(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$_(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$_(this,r),i=0;break}}this.h=i,this.i+=e};tr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ke(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var bW={};function Dw(t){return-128<=t&&128>t?Lz(t,function(e){return new Ke([e|0],0>e?-1:0)}):new Ke([t|0],0>t?-1:0)}function Fr(t){if(isNaN(t)||!isFinite(t))return ha;if(0>t)return Lt(Fr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=rw;return new Ke(e,0)}function xR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Lt(xR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fr(Math.pow(e,8)),r=ha,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Fr(Math.pow(e,s)),r=r.R(s).add(Fr(o))):(r=r.R(n),r=r.add(Fr(o)))}return r}var rw=4294967296,ha=Dw(0),iw=Dw(1),bx=Dw(16777216);B=Ke.prototype;B.ea=function(){if(Ln(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:rw+r)*e,e*=rw}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ci(this))return"0";if(Ln(this))return"-"+Lt(this).toString(t);for(var e=Fr(Math.pow(t,6)),n=this,r="";;){var i=xf(n,e).g;n=Af(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ci(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ci(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ln(t){return t.h==-1}B.X=function(t){return t=Af(this,t),Ln(t)?-1:ci(t)?0:1};function Lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ke(n,~t.h).add(iw)}B.abs=function(){return Ln(this)?Lt(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ke(n,n[n.length-1]&-2147483648?-1:0)};function Af(t,e){return t.add(Lt(e))}B.R=function(t){if(ci(this)||ci(t))return ha;if(Ln(this))return Ln(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(Ln(t))return Lt(this.R(Lt(t)));if(0>this.X(bx)&&0>t.X(bx))return Fr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Cf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Cf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Cf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Cf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ke(n,0)};function Cf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Au(t,e){this.g=t,this.h=e}function xf(t,e){if(ci(e))throw Error("division by zero");if(ci(t))return new Au(ha,ha);if(Ln(t))return e=xf(Lt(t),e),new Au(Lt(e.g),Lt(e.h));if(Ln(e))return e=xf(t,Lt(e)),new Au(Lt(e.g),e.h);if(30<t.g.length){if(Ln(t)||Ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=iw,r=e;0>=r.X(t);)n=Dx(n),r=Dx(r);var i=la(n,1),s=la(r,1);for(r=la(r,2),n=la(n,2);!ci(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=la(r,1),n=la(n,1)}return e=Af(t,i.R(e)),new Au(i,e)}for(i=ha;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Fr(n),o=s.R(e);Ln(o)||0<o.X(t);)n-=r,s=Fr(n),o=s.R(e);ci(s)&&(s=iw),i=i.add(s),t=Af(t,o)}return new Au(i,t)}B.gb=function(t){return xf(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ke(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ke(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ke(n,this.h^t.h)};function Dx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ke(n,t.h)}function la(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ke(i,t.h)}Sf.prototype.createWebChannel=Sf.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;Lf.NO_ERROR=0;Lf.TIMEOUT=8;Lf.HTTP_ERROR=6;Wx.COMPLETE="complete";Gx.EventType=Hu;Hu.OPEN="a";Hu.CLOSE="b";Hu.ERROR="c";Hu.MESSAGE="d";xt.prototype.listen=xt.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;tr.prototype.digest=tr.prototype.l;tr.prototype.reset=tr.prototype.reset;tr.prototype.update=tr.prototype.j;Ke.prototype.add=Ke.prototype.add;Ke.prototype.multiply=Ke.prototype.R;Ke.prototype.modulo=Ke.prototype.gb;Ke.prototype.compare=Ke.prototype.X;Ke.prototype.toNumber=Ke.prototype.ea;Ke.prototype.toString=Ke.prototype.toString;Ke.prototype.getBits=Ke.prototype.D;Ke.fromNumber=Fr;Ke.fromString=xR;var RR=nr.createWebChannelTransport=function(){return new Sf},MR=nr.getStatEventTarget=function(){return Ff()},zf=nr.ErrorCode=Lf,NR=nr.EventType=Wx,PR=nr.Event=Hs,Sw=nr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qJ=nr.FetchXmlHttpFactory=Wu,Qu=nr.WebChannel=Gx,OR=nr.XhrIo=lt,kR=nr.Md5=tr,qs=nr.Integer=Ke;var FR="@firebase/firestore";var Mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");var Fa="10.7.0";var Qs=new Ar("@firebase/firestore");function Yu(){return Qs.logLevel}function Q(t,...e){if(Qs.logLevel<=Te.DEBUG){let n=e.map(sI);Qs.debug(`Firestore (${Fa}): ${t}`,...n)}}function di(t,...e){if(Qs.logLevel<=Te.ERROR){let n=e.map(sI);Qs.error(`Firestore (${Fa}): ${t}`,...n)}}function Ta(t,...e){if(Qs.logLevel<=Te.WARN){let n=e.map(sI);Qs.warn(`Firestore (${Fa}): ${t}`,...n)}}function sI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ge(t="Unexpected state"){let e=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: `+t;throw di(e),new Error(e)}function Et(t,e){t||ge()}function He(t,e){return t}var $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=class extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Yf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Pw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}},Ow=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},kw=class{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hi,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>A(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hi)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new Yf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Mt(e)}},Fw=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Lw=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Vw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new Vw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function DW(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Uw=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=DW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function We(t,e){return t<e?-1:t>e?1:0}function ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Vn=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ye=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Vn(0,0))}static max(){return new t(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Xf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},wt=class t extends Xf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},SW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rr=class t extends Xf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return SW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ae=class t{constructor(e){this.path=e}static fromPath(e){return new t(wt.fromString(e))}static fromName(e){return new t(wt.fromString(e).popFirst(5))}static empty(){return new t(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new wt(e.slice()))}};var Bw=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Bw.UNKNOWN_ID=-1;function AW(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Vn(n+1,0):new Vn(n,r));return new Ys(i,ae.empty(),e)}function xW(t){return new Ys(t.readTime,t.key,-1)}var Ys=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ye.min(),ae.empty(),-1)}static max(){return new t(ye.max(),ae.empty(),-1)}};function RW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}var MW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$w=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function oI(t){return A(this,null,function*(){if(t.code!==$.FAILED_PRECONDITION||t.message!==MW)throw t;Q("LocalStore","Unexpectedly lost primary lease")})}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function gl(t){return t.name==="IndexedDbTransactionError"}var hM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Ip(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}var NW=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tee=[...NW,"documentOverlays"],PW=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],OW=PW,nee=[...OW,"indexConfiguration","indexState","indexEntries"];function LR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cp(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kW(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var pt=class t{constructor(e,n){this.comparator=e,this.root=n||Vr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _a(this.root,e,this.comparator,!1)}getReverseIterator(){return new _a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _a(this.root,e,this.comparator,!0)}},_a=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();let e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1;Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Vr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Wt=class t{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jf(this.data.getIterator())}getIteratorFrom(e){return new Jf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Jf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var zs=class t{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new t([])}unionWith(e){let n=new Wt(rr.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ep=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ep("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nn.EMPTY_BYTE_STRING=new nn("");var FW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(Et(!!t),typeof t=="string"){let e=0,n=FW.exec(t);if(Et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}function aI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cI(t){let e=t.mapValue.fields.__previous_value__;return aI(e)?cI(e):e}function rl(t){let e=qi(t.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}var Hw=class{constructor(e,n,r,i,s,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},tp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Wf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aI(t)?4:fM(t)?9007199254740991:10:ge()}function Ur(t,e){if(t===e)return!0;let n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=qi(i.timestampValue),a=qi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zi(i.bytesValue).isEqual(zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=dt(i.doubleValue),a=dt(s.doubleValue);return o===a?Zf(o)===Zf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ba(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(LR(o)!==LR(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ur(o[u],a[u])))return!1;return!0}(t,e);default:return ge()}}function il(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Da(t,e){if(t===e)return 0;let n=Xs(t),r=Xs(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=dt(s.integerValue||s.doubleValue),u=dt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return VR(t.timestampValue,e.timestampValue);case 4:return VR(rl(t),rl(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(s,o){let a=zi(s),u=zi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=We(a[d],u[d]);if(p!==0)return p}return We(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=We(dt(s.latitude),dt(o.latitude));return a!==0?a:We(dt(s.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],u=o.values||[];for(let d=0;d<a.length&&d<u.length;++d){let p=Da(a[d],u[d]);if(p)return p}return We(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Wf.mapValue&&o===Wf.mapValue)return 0;if(s===Wf.mapValue)return 1;if(o===Wf.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){let w=We(u[m],p[m]);if(w!==0)return w;let I=Da(a[u[m]],d[p[m]]);if(I!==0)return I}return We(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ge()}}function VR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);let n=qi(t),r=qi(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function Sa(t){return qw(t)}function qw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=qw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${qw(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function zw(t){return!!t&&"integerValue"in t}function uI(t){return!!t&&"arrayValue"in t}function jR(t){return!!t&&"nullValue"in t}function UR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Aw(t){return!!t&&"mapValue"in t}function Zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Cp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var li=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Aw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=rr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Aw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Aw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cp(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Zu(this.value))}};var ir=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ye.min(),ye.min(),ye.min(),li.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ye.min(),ye.min(),li.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ye.min(),ye.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Aa=class{constructor(e,n){this.position=e,this.inclusive=n}};function BR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Da(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $R(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}var xa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function LW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var np=class{},Dt=class t extends np{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gw(e,n,r):n==="array-contains"?new Yw(e,r):n==="in"?new Xw(e,r):n==="not-in"?new Zw(e,r):n==="array-contains-any"?new Jw(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Kw(e,r):new Qw(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Da(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(Da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Br=class t extends np{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return pM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function pM(t){return t.op==="and"}function gM(t){return VW(t)&&pM(t)}function VW(t){for(let e of t.filters)if(e instanceof Br)return!1;return!0}function Ww(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Sa(t.value);if(gM(t))return t.filters.map(e=>Ww(e)).join(",");{let e=t.filters.map(n=>Ww(n)).join(",");return`${t.op}(${e})`}}function mM(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&Ur(r.value,i.value)}(t,e):t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mM(o,i.filters[a]),!0):!1}(t,e):void ge()}function yM(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(yM).join(" ,")+"}"}(t):"Filter"}var Gw=class extends Dt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){let n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}},Kw=class extends Dt{constructor(e,n){super(e,"in",n),this.keys=vM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Qw=class extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=vM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function vM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}var Yw=class extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return uI(n)&&il(n.arrayValue,this.value)}},Xw=class extends Dt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&il(this.value.arrayValue,n)}},Zw=class extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!il(this.value.arrayValue,n)}},Jw=class extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!uI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>il(this.value.arrayValue,r))}};var eE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function HR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eE(t,e,n,r,i,s,o)}function lI(t){let e=He(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ww(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sa(r)).join(",")),e.ce=n}return e.ce}function dI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$R(t.startAt,e.startAt)&&$R(t.endAt,e.endAt)}function tE(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ra=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function jW(t,e,n,r,i,s,o,a){return new Ra(t,e,n,r,i,s,o,a)}function hI(t){return new Ra(t)}function qR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UW(t){return t.collectionGroup!==null}function Ju(t){let e=He(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wt(rr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new xa(s,r))}),n.has(rr.keyField().canonicalString())||e.le.push(new xa(rr.keyField(),r))}return e.le}function jr(t){let e=He(t);return e.he||(e.he=BW(e,Ju(t))),e.he}function BW(t,e){if(t.limitType==="F")return HR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new xa(i.field,s)});let n=t.endAt?new Aa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Aa(t.startAt.position,t.startAt.inclusive):null;return HR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nE(t,e,n){return new Ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tp(t,e){return dI(jr(t),jr(e))&&t.limitType===e.limitType}function _M(t){return`${lI(jr(t))}|lt:${t.limitType}`}function ma(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yM(i)).join(", ")}]`),Ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sa(i)).join(",")),`Target(${r})`}(jr(t))}; limitType=${t.limitType})`}function bp(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ju(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=BR(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Ju(r),i)||r.endAt&&!function(o,a,u){let d=BR(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Ju(r),i))}(t,e)}function $W(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wM(t){return(e,n)=>{let r=!1;for(let i of Ju(t)){let s=HW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HW(t,e,n){let r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?Da(u,d):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}var Wi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cp(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return kW(this.inner)}size(){return this.innerSize}};var qW=new pt(ae.comparator);function Gi(){return qW}var EM=new pt(ae.comparator);function Xu(...t){let e=EM;for(let n of t)e=e.insert(n.key,n);return e}function zW(t){let e=EM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return el()}function IM(){return el()}function el(){return new Wi(t=>t.toString(),(t,e)=>t.isEqual(e))}var iee=new pt(ae.comparator),WW=new Wt(ae.comparator);function Be(...t){let e=WW;for(let n of t)e=e.add(n);return e}var GW=new Wt(We);function KW(){return GW}function QW(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function YW(t){return{integerValue:""+t}}var Ma=class{constructor(){this._=void 0}};function XW(t,e,n){return t instanceof sl?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&aI(s)&&(s=cI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Na?CM(t,e):t instanceof Pa?TM(t,e):function(i,s){let o=JW(i,s),a=zR(o)+zR(i.Ie);return zw(o)&&zw(i.Ie)?YW(a):QW(i.serializer,a)}(t,e)}function ZW(t,e,n){return t instanceof Na?CM(t,e):t instanceof Pa?TM(t,e):n}function JW(t,e){return t instanceof ol?function(r){return zw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var sl=class extends Ma{},Na=class extends Ma{constructor(e){super(),this.elements=e}};function CM(t,e){let n=bM(e);for(let r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}var Pa=class extends Ma{constructor(e){super(),this.elements=e}};function TM(t,e){let n=bM(e);for(let r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}var ol=class extends Ma{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function zR(t){return dt(t.integerValue||t.doubleValue)}function bM(t){return uI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function e4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Na&&i instanceof Na||r instanceof Pa&&i instanceof Pa?ba(r.elements,i.elements,Ur):r instanceof ol&&i instanceof ol?Ur(r.Ie,i.Ie):r instanceof sl&&i instanceof sl}(t.transform,e.transform)}var tl=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var al=class{};function DM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rE(t.key,tl.none()):new cl(t.key,t.data,tl.none());{let n=t.data,r=li.empty(),i=new Wt(rr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oa(t.key,r,new zs(i.toArray()),tl.none())}}function t4(t,e,n){t instanceof cl?function(i,s,o){let a=i.value.clone(),u=GR(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oa?function(i,s,o){if(!Kf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=GR(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(SM(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function nl(t,e,n,r){return t instanceof cl?function(s,o,a,u){if(!Kf(s.precondition,o))return a;let d=s.value.clone(),p=KR(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oa?function(s,o,a,u){if(!Kf(s.precondition,o))return a;let d=KR(s.fieldTransforms,u,o),p=o.data;return p.setAll(SM(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return Kf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function WR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ba(r,i,(s,o)=>e4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var cl=class extends al{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Oa=class extends al{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function SM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function GR(t,e,n){let r=new Map;Et(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZW(o,a,n[i]))}return r}function KR(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,XW(s,o,e))}return r}var rE=class extends al{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var iE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&t4(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=IM();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=DM(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&ba(this.mutations,e.mutations,(n,r)=>WR(n,r))&&ba(this.baseMutations,e.baseMutations,(n,r)=>WR(n,r))}};var sE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var oE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var vt,Fe;function AM(t){if(t===void 0)return di("GRPC error has no .code"),$.UNKNOWN;switch(t){case vt.OK:return $.OK;case vt.CANCELLED:return $.CANCELLED;case vt.UNKNOWN:return $.UNKNOWN;case vt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case vt.INTERNAL:return $.INTERNAL;case vt.UNAVAILABLE:return $.UNAVAILABLE;case vt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case vt.NOT_FOUND:return $.NOT_FOUND;case vt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case vt.ABORTED:return $.ABORTED;case vt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case vt.DATA_LOSS:return $.DATA_LOSS;default:return ge()}}(Fe=vt||(vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var QR=null;function n4(){return new TextEncoder}var r4=new qs([4294967295,4294967295],0);function YR(t){let e=n4().encode(t),n=new kR;return n.update(e),new Uint8Array(n.digest())}function XR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qs([n,r],0),new qs([i,s],0)]}var aE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gs(`Invalid padding: ${n}`);if(r<0)throw new Gs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=qs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(qs.fromNumber(r)));return i.compare(r4)===1&&(i=new qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=YR(e),[r,i]=XR(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=YR(e),[r,i]=XR(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Gs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var rp=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ye.min(),i,new pt(We),Gi(),Be())}},ul=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Be(),Be(),Be())}};var wa=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},ip=class{constructor(e,n){this.targetId=e,this.fe=n}},sp=class{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},op=class{constructor(){this.ge=0,this.pe=JR(),this.ye=nn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Be(),n=Be(),r=Be();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new ul(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=JR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Et(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},cE=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Gi(),this.Qe=ZR(),this.Ke=new pt(We)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(tE(s))if(r===0){let o=new ae(s.path);this.We(n,o,ir.newNoDocument(o,ye.min()))}else Et(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),u=a?this.et(a,e,o):1;if(u!==0){this.He(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}QR?.tt(function(p,m,w,I,S){var F,P,K,ve,Ie,je;let ot={localCacheCount:p,existenceFilterCount:m.count,databaseId:w.database,projectId:w.projectId},g=m.unchangedNames;return g&&(ot.bloomFilter={applied:S===0,hashCount:(F=g?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(ve=(K=(P=g?.bits)===null||P===void 0?void 0:P.bitmap)===null||K===void 0?void 0:K.length)!==null&&ve!==void 0?ve:0,padding:(je=(Ie=g?.bits)===null||Ie===void 0?void 0:Ie.padding)!==null&&je!==void 0?je:0,mightContain:Ot=>{var Ne;return(Ne=I?.mightContain(Ot))!==null&&Ne!==void 0&&Ne}}),ot}(o,e.fe,this.Le.nt(),a,u))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=zi(r).toUint8Array()}catch(u){if(u instanceof ep)return Ta("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new aE(o,i,s)}catch(u){return Ta(u instanceof Gs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&tE(a.target)){let u=new ae(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,ir.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Be();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new rp(e,n,this.Ke,this.qe,r);return this.qe=Gi(),this.Qe=ZR(),this.Ke=new pt(We),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new op,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Wt(We),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new op),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function ZR(){return new pt(ae.comparator)}function JR(){return new pt(ae.comparator)}var i4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),s4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),o4=(()=>({and:"AND",or:"OR"}))(),uE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function lE(t,e){return t.useProto3Json||Ip(e)?e:{value:e}}function a4(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ea(t){return Et(!!t),ye.fromTimestamp(function(n){let r=qi(n);return new Vn(r.seconds,r.nanos)}(t))}function u4(t,e){return function(r){return new wt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function xM(t){let e=wt.fromString(t);return Et(PM(e)),e}function xw(t,e){let n=xM(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(RM(n))}function dE(t,e){return u4(t.databaseId,e)}function l4(t){let e=xM(t);return e.length===4?wt.emptyPath():RM(e)}function eM(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RM(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function d4(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Et(p===void 0||typeof p=="string"),nn.fromBase64String(p||"")):(Et(p===void 0||p instanceof Uint8Array),nn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?$.UNKNOWN:AM(d.code);return new te(p,d.message||"")}(o);n=new sp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=xw(t,r.document.name),s=Ea(r.document.updateTime),o=r.document.createTime?Ea(r.document.createTime):ye.min(),a=new li({mapValue:{fields:r.document.fields}}),u=ir.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new wa(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=xw(t,r.document),s=r.readTime?Ea(r.readTime):ye.min(),o=ir.newNoDocument(i,s),a=r.removedTargetIds||[];n=new wa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=xw(t,r.document),s=r.removedTargetIds||[];n=new wa([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new oE(i,s),a=r.targetId;n=new ip(a,o)}}return n}function h4(t,e){return{documents:[dE(t,e.path)]}}function f4(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=dE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(u){if(u.length!==0)return NM(Br.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ya(m.field),direction:m4(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=lE(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function p4(t){let e=l4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Et(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){let w=MM(m);return w instanceof Br&&gM(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(w=>function(S){return new xa(va(S.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let a=null;n.limit&&(a=function(m){let w;return w=typeof m=="object"?m.value:m,Ip(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(m){let w=!!m.before,I=m.values||[];return new Aa(I,w)}(n.startAt));let d=null;return n.endAt&&(d=function(m){let w=!m.before,I=m.values||[];return new Aa(I,w)}(n.endAt)),jW(e,i,o,s,a,"F",u,d)}function g4(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=va(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=va(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=va(n.unaryFilter.field);return Dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=va(n.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>MM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function m4(t){return i4[t]}function y4(t){return s4[t]}function v4(t){return o4[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return rr.fromServerFormat(t.fieldPath)}function NM(t){return t instanceof Dt?function(n){if(n.op==="=="){if(UR(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(jR(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UR(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(jR(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:y4(n.op),value:n.value}}}(t):t instanceof Br?function(n){let r=n.getFilters().map(i=>NM(i));return r.length===1?r[0]:{compositeFilter:{op:v4(n.op),filters:r}}}(t):ge()}function PM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ll=class t{constructor(e,n,r,i,s=ye.min(),o=ye.min(),a=nn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var hE=class{constructor(e){this.ut=e}};function _4(t){let e=p4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nE(e,e.limit,"L"):e}var ap=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(dt(e.integerValue));else if("doubleValue"in e){let r=dt(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Zf(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(zi(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?fM(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):ge()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ae.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};ap.St=new ap;var fE=class{constructor(){this.on=new pE}addToCollectionParentIndex(e,n){return this.on.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Ys.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},pE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(wt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(wt.comparator)).toArray()}};var see=new Uint8Array(0);var Lr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);var dl=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var gE=class{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var mE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var yE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&nl(r.mutation,i,zs.empty(),Vn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){let i=Ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gi(),o=el(),a=function(){return el()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Oa)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),nl(p.mutation,d,p.mutation.getFieldMask(),Vn.now())):o.set(d.key,zs.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var m;return a.set(d,new mE(p,(m=o.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){let r=el(),i=new pt((o,a)=>o-a),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||zs.empty();p=a.applyToLocalView(d,p),r.set(u,p);let m=(i.get(a.batchId)||Be()).add(u);i=i.insert(a.batchId,m)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,m=IM();p.forEach(w=>{if(!s.has(w)){let I=DM(n.get(w),r.get(w));I!==null&&m.set(w,I),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UW(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Ws()),a=-1,u=s;return o.next(d=>V.forEach(d,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(p)?V.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Be())).next(p=>({batchId:a,changes:zW(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Xu();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,u=>{let d=function(m,w){return new Ra(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,w)=>{o=o.insert(m,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,ir.newInvalidDocument(p)))});let a=Xu();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&nl(p.mutation,d,zs.empty(),Vn.now()),bp(n,d)&&(a=a.insert(u,d))}),a})}};var vE=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return V.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ea(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:_4(i.bundledQuery),readTime:Ea(i.readTime)}}(n)),V.resolve()}};var _E=class{constructor(){this.overlays=new pt(ae.comparator),this.lr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ws();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){let i=Ws(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pt((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Ws(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Ws(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return V.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sE(n,r));let s=this.lr.get(n);s===void 0&&(s=Be(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var hl=class{constructor(){this.hr=new Wt(_t.Pr),this.Ir=new Wt(_t.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new _t(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _t(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new ae(new wt([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new ae(new wt([])),r=new _t(n,e),i=new _t(n,e+1),s=Be();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new _t(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},_t=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ae.comparator(e.key,n.key)||We(e.gr,n.gr)}static Tr(e,n){return We(e.gr,n.gr)||ae.comparator(e.key,n.key)}};var wE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Wt(_t.Pr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new iE(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(We);return n.forEach(i=>{let s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ae.isDocumentKey(s)||(s=s.child(""));let o=new _t(new ae(s),0),a=new Wt(We);return this.yr.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.gr)),!0)},o),V.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Et(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return V.forEach(n.mutations,i=>{let s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new _t(n,0),i=this.yr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var EE=class{constructor(e){this.Cr=e,this.docs=function(){return new pt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(n))}getEntries(e,n){let r=Gi();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ir.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gi(),o=n.path,a=new ae(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||RW(xW(p),r)<=0||(i.has(p.key)||bp(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}vr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IE(this)}getSize(e){return V.resolve(this.size)}},IE=class extends gE{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var CE=class{constructor(e){this.persistence=e,this.Fr=new Wi(n=>lI(n),dI),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Mr=0,this.Or=new hl,this.targetCount=0,this.Nr=dl.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),V.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.kn(n),V.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Or.containsKey(n))}};var TE=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new hM(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new CE(this),this.indexManager=new fE,this.remoteDocumentCache=function(i){return new EE(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new hE(n),this.Kr=new vE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _E,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new wE(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);let i=new bE(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},bE=class extends $w{constructor(e){super(),this.currentSequenceNumber=e}},DE=class t{constructor(e){this.persistence=e,this.Gr=new hl,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw ge()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{let i=ae.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return V.or([()=>V.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var SE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Be(),i=Be();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var AE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var xE=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new AE;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Yu()<=Te.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Yu()<=Te.DEBUG&&Q("QueryEngine","Query:",ma(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Yu()<=Te.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(n))):V.resolve())}zi(e,n){if(qR(n))return V.resolve(null);let r=jr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nE(n,null,"F"),r=jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Be(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.Yi(n,a);return this.Zi(n,d,o,u.readTime)?this.zi(e,nE(n,null,"F")):this.Xi(e,d,n,u)}))})))}ji(e,n,r,i){return qR(n)||i.isEqual(ye.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?V.resolve(null):(Yu()<=Te.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ma(n)),this.Xi(e,o,n,AW(i,-1)).next(a=>a))})}Yi(e,n){let r=new Wt(wM(e));return n.forEach((i,s)=>{bp(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Yu()<=Te.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ma(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ys.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var RE=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new pt(We),this.ns=new Wi(s=>lI(s),dI),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yE(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function w4(t,e,n,r){return new RE(t,e,n,r)}function OM(t,e){return A(this,null,function*(){let n=He(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=Be();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({_s:d,removedBatchIds:o,addedBatchIds:a}))})})})}function kM(t){let e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function E4(t,e){let n=He(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((p,m)=>{let w=i.get(m);if(!w)return;a.push(n.qr.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.qr.addMatchingKeys(s,p.addedDocuments,m)));let I=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(m,I),function(F,P,K){return F.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(w,I,p)&&a.push(n.qr.updateTargetData(s,I))});let u=Gi(),d=Be();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(I4(s,o,e.documentUpdates).next(p=>{u=p.us,d=p.cs})),!r.isEqual(ye.min())){let p=n.qr.getLastRemoteSnapshotVersion(s).next(m=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.ts=i,s))}function I4(t,e,n){let r=Be(),i=Be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gi();return n.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{us:o,cs:i}})}function C4(t,e){let n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ll(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function ME(t,e,n){return A(this,null,function*(){let r=He(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!gl(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function tM(t,e,n){let r=He(t),i=ye.min(),s=Be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let m=He(u),w=m.ns.get(p);return w!==void 0?V.resolve(m.ts.get(w)):m.qr.getTargetData(d,p)}(r,o,jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:Be())).next(a=>(T4(r,$W(e),a),{documents:a,ls:s})))}function T4(t,e,n){let r=t.rs.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var cp=class{constructor(){this.activeTargetIds=KW()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var NE=class{constructor(){this.eo=new cp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new cp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var PE=class{ro(e){}shutdown(){}};var up=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gf=null;function Rw(){return Gf===null?Gf=function(){return 268435456+Math.round(2147483648*Math.random())}():Gf++,"0x"+Gf.toString(16)}var b4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var OE=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var zt="WebChannelConnection",kE=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=Rw(),u=this.So(n,r);Q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,s,o),this.Do(n,u,d,i).then(p=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Ta("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=b4[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=Rw();return new Promise((o,a)=>{let u=new OR;u.setWithCredentials(!0),u.listenOnce(NR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case zf.NO_ERROR:let p=u.getResponseJson();Q(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case zf.TIMEOUT:Q(zt,`RPC '${e}' ${s} timed out`),a(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:let m=u.getStatus();if(Q(zt,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);let I=w?.error;if(I&&I.status&&I.message){let S=function(P){let K=P.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(K)>=0?K:$.UNKNOWN}(I.status);a(new te(S,I.message))}else a(new te($.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new te($.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{Q(zt,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);Q(zt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}vo(e,n,r){let i=Rw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RR(),a=MR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=s.join("");Q(zt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let m=o.createWebChannel(p,u),w=!1,I=!1,S=new OE({co:P=>{I?Q(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(w||(Q(zt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),w=!0),Q(zt,`RPC '${e}' stream ${i} sending:`,P),m.send(P))},lo:()=>m.close()}),F=(P,K,ve)=>{P.listen(K,Ie=>{try{ve(Ie)}catch(je){setTimeout(()=>{throw je},0)}})};return F(m,Qu.EventType.OPEN,()=>{I||Q(zt,`RPC '${e}' stream ${i} transport opened.`)}),F(m,Qu.EventType.CLOSE,()=>{I||(I=!0,Q(zt,`RPC '${e}' stream ${i} transport closed`),S.Ro())}),F(m,Qu.EventType.ERROR,P=>{I||(I=!0,Ta(zt,`RPC '${e}' stream ${i} transport errored:`,P),S.Ro(new te($.UNAVAILABLE,"The operation could not be completed")))}),F(m,Qu.EventType.MESSAGE,P=>{var K;if(!I){let ve=P.data[0];Et(!!ve);let Ie=ve,je=Ie.error||((K=Ie[0])===null||K===void 0?void 0:K.error);if(je){Q(zt,`RPC '${e}' stream ${i} received error:`,je);let ot=je.status,g=function($r){let ao=vt[$r];if(ao!==void 0)return AM(ao)}(ot),Ot=je.message;g===void 0&&(g=$.INTERNAL,Ot="Unknown error status: "+ot+" with message "+je.message),I=!0,S.Ro(new te(g,Ot)),m.close()}else Q(zt,`RPC '${e}' stream ${i} received:`,ve),S.Vo(ve)}}),F(a,PR.STAT_EVENT,P=>{P.stat===Sw.PROXY?Q(zt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Sw.NOPROXY&&Q(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.Ao()},0),S}};function Mw(){return typeof document<"u"?document:null}function FM(t){return new uE(t,!0)}var lp=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var FE=class{constructor(e,n,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new lp(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return A(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return A(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return A(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>A(this,null,function*(){this.state=0,this.start()}))}o_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},LE=class extends FE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=d4(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Ea(o.readTime):ye.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=eM(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=tE(u)?{documents:h4(s,u)}:{query:f4(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=c4(s,o.resumeToken);let d=lE(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=a4(s,o.snapshotVersion.toTimestamp());let d=lE(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=g4(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=eM(this.serializer),n.removeTarget=e,this.e_(n)}};var VE=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te($.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var jE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(di(n),this.f_=!1):Q("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var UE=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>A(this,null,function*(){yl(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return A(this,null,function*(){let d=He(u);d.C_.add(4),yield ml(d),d.M_.set("Unknown"),d.C_.delete(4),yield Dp(d)})}(this))}))}),this.M_=new jE(r,i)}};function Dp(t){return A(this,null,function*(){if(yl(t))for(let e of t.v_)yield e(!0)})}function ml(t){return A(this,null,function*(){for(let e of t.v_)yield e(!1)})}function LM(t,e){let n=He(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),gI(n)?pI(n):La(n).Ho()&&fI(n,e))}function VM(t,e){let n=He(t),r=La(n);n.D_.delete(e),r.Ho()&&jM(n,e),n.D_.size===0&&(r.Ho()?r.Zo():yl(n)&&n.M_.set("Unknown"))}function fI(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).u_(e)}function jM(t,e){t.x_.Oe(e),La(t).c_(e)}function pI(t){t.x_=new cE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),La(t).start(),t.M_.g_()}function gI(t){return yl(t)&&!La(t).jo()&&t.D_.size>0}function yl(t){return He(t).C_.size===0}function UM(t){t.x_=void 0}function D4(t){return A(this,null,function*(){t.D_.forEach((e,n)=>{fI(t,e)})})}function S4(t,e){return A(this,null,function*(){UM(t),gI(t)?(t.M_.w_(e),pI(t)):t.M_.set("Unknown")})}function A4(t,e,n){return A(this,null,function*(){if(t.M_.set("Online"),e instanceof sp&&e.state===2&&e.cause)try{yield function(i,s){return A(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nM(t,r)}else if(e instanceof wa?t.x_.$e(e):e instanceof ip?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ye.min()))try{let r=yield kM(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.D_.get(d);p&&s.D_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.D_.get(u);if(!p)return;s.D_.set(u,p.withResumeToken(nn.EMPTY_BYTE_STRING,p.snapshotVersion)),jM(s,u);let m=new ll(p.target,u,d,p.sequenceNumber);fI(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),yield nM(t,r)}})}function nM(t,e,n){return A(this,null,function*(){if(!gl(e))throw e;t.C_.add(1),yield ml(t),t.M_.set("Offline"),n||(n=()=>kM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>A(this,null,function*(){Q("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Dp(t)}))})}function rM(t,e){return A(this,null,function*(){let n=He(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");let r=yl(n);n.C_.add(3),yield ml(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Dp(n)})}function x4(t,e){return A(this,null,function*(){let n=He(t);e?(n.C_.delete(2),yield Dp(n)):e||(n.C_.add(2),yield ml(n),n.M_.set("Unknown"))})}function La(t){return t.O_||(t.O_=function(n,r,i){let s=He(n);return s.A_(),new LE(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:D4.bind(null,t),Io:S4.bind(null,t),a_:A4.bind(null,t)}),t.v_.push(e=>A(this,null,function*(){e?(t.O_.Yo(),gI(t)?pI(t):t.M_.set("Unknown")):(yield t.O_.stop(),UM(t))}))),t.O_}var BE=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function BM(t,e){if(di("AsyncQueue",`${e}: ${t}`),gl(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}var dp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var hp=class{constructor(){this.B_=new pt(ae.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ge():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},ka=class t{constructor(e,n,r,i,s,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,dp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var $E=class{constructor(){this.k_=void 0,this.listeners=[]}},HE=class{constructor(){this.queries=new Wi(e=>_M(e),Tp),this.onlineState="Unknown",this.q_=new Set}};function R4(t,e){return A(this,null,function*(){let n=He(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new $E),i)try{s.k_=yield n.onListen(r)}catch(o){let a=BM(o,`Initialization of query '${ma(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&mI(n)})}function M4(t,e){return A(this,null,function*(){let n=He(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function N4(t,e){let n=He(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&mI(n)}function P4(t,e,n){let r=He(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function mI(t){t.q_.forEach(e=>{e.next()})}var qE=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var fp=class{constructor(e){this.key=e}},pp=class{constructor(e){this.key=e}},zE=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Be(),this.mutatedKeys=Be(),this._a=wM(e),this.aa=new dp(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new hp,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let w=i.get(p),I=bp(this.query,m)?m:null,S=!!w&&this.mutatedKeys.has(w.key),F=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),P=!1;w&&I?w.data.isEqual(I.data)?S!==F&&(r.track({type:3,doc:I}),P=!0):this.ha(w,I)||(r.track({type:2,doc:I}),P=!0,(u&&this._a(I,u)>0||d&&this._a(I,d)<0)&&(a=!0)):!w&&I?(r.track({type:0,doc:I}),P=!0):w&&!I&&(r.track({type:1,doc:w}),P=!0,(u||d)&&(a=!0)),P&&(I?(o=o.add(I),s=F?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((p,m)=>function(I,S){let F=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return F(I)-F(S)}(p.type,m.type)||this._a(p.doc,m.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,d=u!==this.sa;return this.sa=u,o.length!==0||d?{snapshot:new ka(this.query,e.aa,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new hp,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=Be(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new pp(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new fp(r))}),n}da(e){this.ia=e.ls,this.oa=Be();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ka.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},WE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},GE=class{constructor(e){this.key=e,this.Ra=!1}},KE=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Wi(a=>_M(a),Tp),this.fa=new Map,this.ga=new Set,this.pa=new pt(ae.comparator),this.ya=new Map,this.wa=new hl,this.Sa={},this.ba=new Map,this.Da=dl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function O4(t,e){return A(this,null,function*(){let n=B4(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield C4(n.localStore,jr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield k4(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&LM(n.remoteStore,o)}return i})}function k4(t,e,n,r,i){return A(this,null,function*(){t.va=(m,w,I)=>function(F,P,K,ve){return A(this,null,function*(){let Ie=P.view.ca(K);Ie.Zi&&(Ie=yield tM(F.localStore,P.query,!1).then(({documents:Ot})=>P.view.ca(Ot,Ie)));let je=ve&&ve.targetChanges.get(P.targetId),ot=ve&&ve.targetMismatches.get(P.targetId)!=null,g=P.view.applyChanges(Ie,F.isPrimaryClient,je,ot);return sM(F,P.targetId,g.Ta),g.snapshot})}(t,m,w,I);let s=yield tM(t.localStore,e,!0),o=new zE(e,s.ls),a=o.ca(s.documents),u=ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,u);sM(t,n,d.Ta);let p=new WE(e,n,o);return t.ma.set(e,p),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),d.snapshot})}function F4(t,e){return A(this,null,function*(){let n=He(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Tp(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ME(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),VM(n.remoteStore,r.targetId),QE(n,r.targetId)}).catch(oI))):(QE(n,r.targetId),yield ME(n.localStore,r.targetId,!0))})}function $M(t,e){return A(this,null,function*(){let n=He(t);try{let r=yield E4(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Et(o.Ra):i.removedDocuments.size>0&&(Et(o.Ra),o.Ra=!1))}),yield qM(n,r,e)}catch(r){yield oI(r)}})}function iM(t,e,n){let r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=He(o);u.onlineState=a;let d=!1;u.queries.forEach((p,m)=>{for(let w of m.listeners)w.Q_(a)&&(d=!0)}),d&&mI(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function L4(t,e,n){return A(this,null,function*(){let r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new pt(ae.comparator);o=o.insert(s,ir.newNoDocument(s,ye.min()));let a=Be().add(s),u=new rp(ye.min(),new Map,new pt(We),o,a);yield $M(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),yI(r)}else yield ME(r.localStore,e,!1).then(()=>QE(r,e,n)).catch(oI)})}function QE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||HM(t,r)})}function HM(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(VM(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),yI(t))}function sM(t,e,n){for(let r of n)r instanceof fp?(t.wa.addReference(r.key,e),V4(t,r)):r instanceof pp?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||HM(t,r.key)):ge()}function V4(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ga.add(r),yI(t))}function yI(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new ae(wt.fromString(e)),r=t.Da.next();t.ya.set(r,new GE(n)),t.pa=t.pa.insert(n,r),LM(t.remoteStore,new ll(jr(hI(n.path)),r,"TargetPurposeLimboResolution",hM._e))}}function qM(t,e,n){return A(this,null,function*(){let r=He(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,d?.fromCache?"not-current":"current"),d){i.push(d);let p=SE.Qi(u.targetId,d);s.push(p)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(u,d){return A(this,null,function*(){let p=He(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>V.forEach(d,w=>V.forEach(w.ki,I=>p.persistence.referenceDelegate.addReference(m,w.targetId,I)).next(()=>V.forEach(w.qi,I=>p.persistence.referenceDelegate.removeReference(m,w.targetId,I)))))}catch(m){if(!gl(m))throw m;Q("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let w=m.targetId;if(!m.fromCache){let I=p.ts.get(w),S=I.snapshotVersion,F=I.withLastLimboFreeSnapshotVersion(S);p.ts=p.ts.insert(w,F)}}})}(r.localStore,s))})}function j4(t,e){return A(this,null,function*(){let n=He(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());let r=yield OM(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new te($.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qM(n,r._s)}})}function U4(t,e){let n=He(t),r=n.ya.get(e);if(r&&r.Ra)return Be().add(r.key);{let i=Be(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function B4(t){let e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$M.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.Va.a_=N4.bind(null,e.eventManager),e.Va.Fa=P4.bind(null,e.eventManager),e}var gp=class{constructor(){this.synchronizeTabs=!1}initialize(e){return A(this,null,function*(){this.serializer=FM(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return w4(this.persistence,new xE,e.initialUser,this.serializer)}createPersistence(e){return new TE(DE.jr,this.serializer)}createSharedClientState(e){return new NE}terminate(){return A(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var YE=class{initialize(e,n){return A(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j4.bind(null,this.syncEngine),yield x4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new HE}()}createDatastore(e){let n=FM(e.databaseInfo.databaseId),r=function(s){return new kE(s)}(e.databaseInfo);return function(s,o,a,u){return new VE(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new UE(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iM(this.syncEngine,n,0),function(){return up.D()?new up:new PE}())}createSyncEngine(e,n){return function(i,s,o,a,u,d,p){let m=new KE(i,s,o,a,u,d);return p&&(m.Ca=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return A(this,null,function*(){let r=He(n);Q("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield ml(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var XE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var ZE=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=Uw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>A(this,null,function*(){Q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return A(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=BM(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Nw(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>A(this,null,function*(){r.isEqual(i)||(yield OM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function oM(t,e){return A(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield H4(t);Q("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>rM(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>rM(e.remoteStore,s)),t._onlineComponents=e})}function $4(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function H4(t){return A(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Nw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!$4(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),yield Nw(t,new gp)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),yield Nw(t,new gp);return t._offlineComponents})}function q4(t){return A(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),yield oM(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),yield oM(t,new YE))),t._onlineComponents})}function aM(t){return A(this,null,function*(){let e=yield q4(t),n=e.eventManager;return n.onListen=O4.bind(null,e.syncEngine),n.onUnlisten=F4.bind(null,e.syncEngine),n})}function zM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var cM=new Map;function z4(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W4(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uM(t){if(ae.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function G4(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Qf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=G4(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var mp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fl=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Pw;switch(r.type){case"firstParty":return new Lw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=cM.get(n);r&&(Q("ComponentProvider","Removing Datastore"),cM.delete(n),r.terminate())}(this),Promise.resolve()}};function WM(t,e,n,r={}){var i;let s=(t=Qf(t,fl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Mt.MOCK_USER;else{a=Hh(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(d)}t._authCredentials=new Ow(new Yf(a,u))}}var yp=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Zs=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ia=class t extends yp{constructor(e,n,r){super(e,n,hI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zs(this.firestore,null,new ae(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GM(t,e,...n){if(t=Tn(t),z4("collection","path",e),t instanceof fl){let r=wt.fromString(e,...n);return uM(r),new Ia(t,null,r)}{if(!(t instanceof Zs||t instanceof Ia))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(wt.fromString(e,...n));return uM(r),new Ia(t.firestore,null,r)}}var JE=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new lp(this,"async_queue_retry"),this.iu=()=>{let n=Mw();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=Mw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=Mw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new Hi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return A(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!gl(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=BE.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ge()}verifyOperationInProgress(){}uu(){return A(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function lM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var pl=class extends fl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new JE}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||QM(this),this._firestoreClient.terminate()}};function KM(t,e){let n=typeof t=="object"?t:ki(),r=typeof t=="string"?t:e||"(default)",i=Ps(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=$h("firestore");s&&WM(i,...s)}return i}function K4(t){return t._firestoreClient||QM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function QM(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,d,p){return new Hw(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,zM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ZE(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var eI=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nn.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var vp=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var tI=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}};var Q4=new RegExp("[~\\*/\\[\\]]");function Y4(t,e,n){if(e.search(Q4)>=0)throw dM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vp(...e.split("."))._internalPath}catch{throw dM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dM(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new te($.INVALID_ARGUMENT,a+t+u)}var _p=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(YM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},nI=class extends _p{data(){return super.data()}};function YM(t,e){return typeof e=="string"?Y4(t,e):e instanceof vp?e._internalPath:e._delegate._internalPath}function X4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rI=class{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Cp(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new tI(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=cI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){let n=qi(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=wt.fromString(e);Et(PM(r));let i=new tp(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||di(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Ks=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wp=class extends _p{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(YM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ca=class extends wp{data(e={}){return super.data(e)}},iI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ks(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ca(this._firestore,this._userDataWriter,r.key,r,new Ks(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ks(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ks(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:Z4(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Z4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}var Ep=class extends rI{constructor(e){super(),this.firestore=e}convertBytes(e){return new eI(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zs(this.firestore,null,n)}};function vI(t,...e){var n,r,i;t=Tn(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||lM(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(lM(e[o])){let m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let u,d,p;if(t instanceof Zs)d=Qf(t.firestore,pl),p=hI(t._key.path),u={next:m=>{e[o]&&e[o](J4(d,t,m))},error:e[o+1],complete:e[o+2]};else{let m=Qf(t,yp);d=Qf(m.firestore,pl),p=m._query;let w=new Ep(d);u={next:I=>{e[o]&&e[o](new iI(d,w,m,I))},error:e[o+1],complete:e[o+2]},X4(t._query)}return function(w,I,S,F){let P=new XE(F),K=new qE(I,P,S);return w.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return R4(yield aM(w),K)})),()=>{P.Na(),w.asyncQueue.enqueueAndForget(()=>A(this,null,function*(){return M4(yield aM(w),K)}))}}(K4(d),p,a,u)}function J4(t,e,n){let r=n.docs.get(e._key),i=new Ep(t);return new wp(t,i,e._key,r,new Ks(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fa=i})(Mr),Rr(new pn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new pl(new kw(r.getProvider("auth-internal")),new jw(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tp(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),st(FR,"4.4.0",e),st(FR,"4.4.0","esm2017")})();var Sp=function(){return Sp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sp.apply(this,arguments)};var nG={includeMetadataChanges:!1};function XM(t,e){return e===void 0&&(e=nG),new Ae(function(n){var r=vI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ZM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Sp(Sp({},r),(n={},n[e.idField]=t.id,n))}function JM(t){return XM(t,{includeMetadataChanges:!0}).pipe(Ee(function(e){return e.docs}))}function eN(t,e){return e===void 0&&(e={}),JM(t).pipe(Ee(function(n){return n.map(function(r){return ZM(r,e)})}))}var Js=class{constructor(e){return e}},tN="firestore",_I=class{constructor(){return ks(tN)}};var wI=new ie("angularfire2.firestore-instances");function rG(t,e){let n=ca(tN,t,e);return n&&new Js(n)}function iG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Js(r)}}var sG={provide:_I,deps:[[new ft,wI]]},oG={provide:Js,useFactory:rG,deps:[[new ft,wI],er]},aG=(()=>{class t{constructor(){st("angularfire",ii.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bt({type:t});static \u0275inj=Ut({providers:[oG,sG]})}return t})();function nN(t,...e){return{ngModule:aG,providers:[{provide:wI,useFactory:iG(t),multi:!0,deps:[qe,en,Li,si,[new ft,js],[new ft,Fi],...e]}]}}var Ki=Nr(eN,!0);var Qi=Nr(GM,!0);var rN=Nr(KM,!0);var iN="@firebase/database",sN="1.0.2";var vC="";function uG(t){vC=t}var AI=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),At(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:oa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var xI=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Sr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var VN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new AI(e)}}catch{}return new xI},to=VN("localStorage"),RI=VN("sessionStorage");var Ba=new Ar("@firebase/database"),lG=function(){let t=1;return function(){return t++}}(),jN=function(t){let e=fA(t),n=new Uh;n.update(e);let r=n.digest();return Bh.encodeByteArray(r)},Rl=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Rl.apply(null,r):typeof r=="object"?e+=At(r):e+=r,e+=" "}return e},no=null,oN=!0,dG=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ba.logLevel=Te.VERBOSE,no=Ba.log.bind(Ba),e&&RI.set("logging_enabled",!0)):typeof t=="function"?no=t:(no=null,RI.remove("logging_enabled"))},Gt=function(...t){if(oN===!0&&(oN=!1,no===null&&RI.get("logging_enabled")===!0&&dG(!0)),no){let e=Rl.apply(null,t);no(e)}},Ml=function(t){return function(...e){Gt(t,...e)}},MI=function(...t){let e="FIREBASE INTERNAL ERROR: "+Rl(...t);Ba.error(e)},fi=function(...t){let e=`FIREBASE FATAL ERROR: ${Rl(...t)}`;throw Ba.error(e),new Error(e)},Dn=function(...t){let e="FIREBASE WARNING: "+Rl(...t);Ba.warn(e)},hG=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},UN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fG=function(t){if(Dr()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ha="[MIN_NAME]",ro="[MAX_NAME]",Ya=function(t,e){if(t===e)return 0;if(t===Ha||e===ro)return-1;if(e===Ha||t===ro)return 1;{let n=aN(t),r=aN(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},pG=function(t,e){return t===e?0:t<e?-1:1},vl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+At(e))},_C=function(t){if(typeof t!="object"||t===null)return At(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=At(e[r]),n+=":",n+=_C(t[e[r]]);return n+="}",n},BN=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Bn(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var $N=function(t){U(!UN(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let d=[];for(u=n;u;u-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(i?1:0),d.reverse();let p=d.join(""),m="";for(u=0;u<64;u+=8){let w=parseInt(p.substr(u,8),2).toString(16);w.length===1&&(w="0"+w),m=m+w}return m.toLowerCase()},gG=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mG=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var yG=new RegExp("^-?(0*)\\d{1,10}$"),vG=-2147483648,_G=2147483647,aN=function(t){if(yG.test(t)){let e=Number(t);if(e>=vG&&e<=_G)return e}return null},Nl=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Dn("Exception was thrown by user callback.",n),e},Math.floor(0))}},wG=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cl=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var NI=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var PI=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(e)}},Tl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),xp="5",HN="v",qN="s",zN="r",WN="f",GN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KN="ls",QN="p",OI="ac",YN="websocket",XN="long_polling";var Rp=class{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=to.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&to.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function EG(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ZN(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let r;if(e===YN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===XN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EG(t)&&(n.ns=t.namespace);let i=[];return Bn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var kI=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Sr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return rA(this.counters_)}};var EI={},II={};function wC(t){let e=t.toString();return EI[e]||(EI[e]=new kI),EI[e]}function IG(t,e){let n=t.toString();return II[n]||(II[n]=e()),II[n]}var FI=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Nl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var cN="start",CG="close",TG="pLPCommand",bG="pRTLPCB",JN="id",eP="pw",tP="ser",DG="cb",SG="seg",AG="ts",xG="d",RG="dframe",nP=1870,rP=30,MG=nP-rP,NG=25e3,PG=3e4,LI=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ml(e),this.stats_=wC(n),this.urlFn=u=>(this.appCheckToken&&(u[OI]=this.appCheckToken),ZN(n,XN,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new FI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(PG)),fG(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VI((...s)=>{let[o,a,u,d,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===cN)this.id=a,this.password=u;else if(o===CG)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[cN]="t",r[tP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[DG]=this.scriptTagHolder.uniqueCallbackIdentifier),r[HN]=xp,this.transportSessionId&&(r[qN]=this.transportSessionId),this.lastSessionId&&(r[KN]=this.lastSessionId),this.applicationId&&(r[QN]=this.applicationId),this.appCheckToken&&(r[OI]=this.appCheckToken),typeof location<"u"&&location.hostname&&GN.test(location.hostname)&&(r[zN]=WN);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Dr()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gG()&&!mG()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=At(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Fv(n),i=BN(r,MG);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Dr())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[RG]="t",r[JN]=e,r[eP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=At(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},VI=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Dr())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=lG(),window[TG+this.uniqueCallbackIdentifier]=e,window[bG+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Gt("frame writing exception"),a.stack&&Gt(a.stack),Gt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Gt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[JN]=this.myID,e[eP]=this.myPW,e[tP]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rP+r.length<=nP;){let o=this.pendingSegs.shift();r=r+"&"+SG+i+"="+o.seg+"&"+AG+i+"="+o.ts+"&"+xG+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(NG)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Dr()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var OG=16384,kG=45e3,Mp=null;typeof MozWebSocket<"u"?Mp=MozWebSocket:typeof WebSocket<"u"&&(Mp=WebSocket);var _l=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ml(this.connId),this.stats_=wC(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[HN]=xp,!Dr()&&typeof location<"u"&&location.hostname&&GN.test(location.hostname)&&(a[zN]=WN),r&&(a[qN]=r),i&&(a[KN]=i),s&&(a[OI]=s),o&&(a[QN]=o),ZN(n,YN,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,to.set("previous_websocket_failure",!0);try{let i;if(Dr()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${xp}/${vC}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Mp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Mp!==null&&!t.forceDisallow_}static previouslyFailed(){return to.isInMemoryStorage||to.get("previous_websocket_failure")===!0}markConnectionHealthy(){to.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=oa(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(U(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=At(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=BN(r,OG);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kG))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),FG=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[LI,_l]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=_l&&_l.isAvailable(),i=r&&!_l.previouslyFailed();if(n.webSocketOnly&&(r||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[_l];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),LG=6e4,VG=5e3,jG=10*1024,UG=100*1024,CI="t",uN="d",BG="s",lN="r",$G="e",dN="o",hN="a",fN="n",pN="p",HG="h",jI=class{constructor(e,n,r,i,s,o,a,u,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ml("c:"+this.id+":"),this.transportManager_=new FG(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>UG?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jG?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(CI in e){let n=e[CI];n===hN?this.upgradeIfSecondaryHealthy_():n===lN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===dN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=vl("t",e),r=vl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=vl("t",e),r=vl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=vl(CI,e);if(uN in e){let r=e[uN];if(n===HG){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===fN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===BG?this.onConnectionShutdown_(r):n===lN?this.onReset_(r):n===$G?MI("Server Error: "+r):n===dN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):MI("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xp!==r&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(LG))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(VG))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pN,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(to.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Np=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Pp=class{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Op=class t extends Pp{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var gN=32,mN=768,Je=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Xe(){return new Je("")}function Le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xi(t){return t.pieces_.length-t.pieceNum_}function rt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function iP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qG(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function sP(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function oP(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function Nt(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Je(n,0)}function Me(t){return t.pieceNum_>=t.pieces_.length}function jn(t,e){let n=Le(t),r=Le(e);if(n===null)return e;if(n===r)return jn(rt(t),rt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function aP(t,e){if(Xi(t)!==Xi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function or(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Xi(t)>Xi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var UI=class{constructor(e,n){this.errorPrefix_=n,this.parts_=sP(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yu(this.parts_[r]);cP(this)}};function zG(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yu(e),cP(t)}function WG(t){let e=t.parts_.pop();t.byteLength_-=yu(e),t.parts_.length>0&&(t.byteLength_-=1)}function cP(t){if(t.byteLength_>mN)throw new Error(t.errorPrefix_+"has a key path longer than "+mN+" bytes ("+t.byteLength_+").");if(t.parts_.length>gN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gN+") or object contains a cycle "+eo(t))}function eo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var BI=class t extends Pp{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}};var wl=1e3,GG=60*5*1e3,yN=30*1e3,KG=1.3,QG=3e4,YG="server_kill",vN=3,EC=(()=>{class t extends Np{constructor(n,r,i,s,o,a,u,d){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=d,this.id=t.nextPersistentConnectionId_++,this.log_=Ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wl,this.maxReconnectDelay_=GG,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Dr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");BI.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Op.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(At(o)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Ds,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let u=a.d;a.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,u=>{let d=u.d,p=u.s;t.warnOnListenWarnings_(d,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),p!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(p,d))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Sr(n,"w")){let i=As(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||lA(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yN)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=uA(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),U(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+At(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):MI("Unrecognized action received from server: "+At(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QG&&(this.reconnectDelay_=wl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KG)}this.onConnectStatus_(!1)}establishConnection_(){return A(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,u=null,d=function(){u?u.close():(a=!0,i())},p=function(w){U(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(w)};this.realtime_={close:d,sendRequest:p};let m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[w,I]=yield Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?Gt("getToken() completed but was canceled"):(Gt("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=I&&I.token,u=new jI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,S=>{Dn(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(YG)},o))}catch(w){this.log_("Failed to get token: "+w),a||(this.repoInfo_.nodeAdmin&&Dn(w),d())}}})}interrupt(n){Gt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Gt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],gu(this.interruptReasons_)&&(this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>_C(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new Je(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Gt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vN&&(this.reconnectDelay_=yN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Gt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Dr()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+vC.replace(/\./g,"-")]=1,pu()?n["framework.cordova"]=1:qh()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Op.getInstance().currentlyOnline();return gu(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Ve=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var qa=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Ve(Ha,e),i=new Ve(Ha,n);return this.compare(r,i)!==0}minPost(){return Ve.MIN}};var Ap,kp=class extends qa{static get __EMPTY_NODE(){return Ap}static set __EMPTY_NODE(e){Ap=e}compare(e,n){return Ya(e.name,n.name)}isDefinedOn(e){throw Ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ve.MIN}maxPost(){return new Ve(ro,Ap)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new Ve(e,Ap)}toString(){return".key"}},$a=new kp;var ja=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},sr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Un.EMPTY_NODE,this.right=o??Un.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Un.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Un.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),$I=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new sr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Un=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,sr.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,sr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ja(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ja(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ja(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ja(this.root_,null,this.comparator_,!0,e)}};Un.EMPTY_NODE=new $I;function XG(t,e){return Ya(t.name,e.name)}function IC(t,e){return Ya(t,e)}var HI;function ZG(t){HI=t}var uP=function(t){return typeof t=="number"?"number:"+$N(t):"string:"+t},lP=function(t){if(t.isLeafNode()){let e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Sr(e,".sv"),"Priority must be a string or number.")}else U(t===HI||t.isEmpty(),"priority of unexpected type.");U(t===HI||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var _N,za=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lP(this.priorityNode_)}static set __childrenNodeConstructor(n){_N=n}static get __childrenNodeConstructor(){return _N}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Me(n)?this:Le(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Le(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(U(i!==".priority"||Xi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(rt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+uP(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=$N(this.value_):n+=this.value_,this.lazyHash_=jN(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(U(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return U(s>=0,"Unknown leaf type: "+r),U(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),dP,hP;function JG(t){dP=t}function e3(t){hP=t}var qI=class extends qa{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ya(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ve.MIN}maxPost(){return new Ve(ro,new za("[PRIORITY-POST]",hP))}makePost(e,n){let r=dP(e);return new Ve(n,new za("[PRIORITY-POST]",r))}toString(){return".priority"}},Qt=new qI;var t3=Math.log(2),zI=class{constructor(e){let n=s=>parseInt(Math.log(s)/t3,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Fp=function(t,e,n,r){t.sort(e);let i=function(u,d){let p=d-u,m,w;if(p===0)return null;if(p===1)return m=t[u],w=n?n(m):m,new sr(w,m.node,sr.BLACK,null,null);{let I=parseInt(p/2,10)+u,S=i(u,I),F=i(I+1,d);return m=t[I],w=n?n(m):m,new sr(w,m.node,sr.BLACK,S,F)}},s=function(u){let d=null,p=null,m=t.length,w=function(S,F){let P=m-S,K=m;m-=S;let ve=i(P+1,K),Ie=t[P],je=n?n(Ie):Ie;I(new sr(je,Ie.node,F,null,ve))},I=function(S){d?(d.left=S,d=S):(p=S,d=S)};for(let S=0;S<u.count;++S){let F=u.nextBitIsOne(),P=Math.pow(2,u.count-(S+1));F?w(P,sr.BLACK):(w(P,sr.BLACK),w(P,sr.RED))}return p},o=new zI(t.length),a=s(o);return new Un(r||e,a)};var TI,Va={},Wa=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(Va&&Qt,"ChildrenNode.ts has not been loaded"),TI=TI||new t({".priority":Va},{".priority":Qt}),TI}get(e){let n=As(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Un?n:null}hasIndex(e){return Sr(this.indexSet_,e.toString())}addIndex(e,n){U(e!==$a,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Ve.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Fp(r,e.getCompare()):a=Va;let u=e.toString(),d=Object.assign({},this.indexSet_);d[u]=e;let p=Object.assign({},this.indexes_);return p[u]=a,new t(p,d)}addToIndexes(e,n){let r=mu(this.indexes_,(i,s)=>{let o=As(this.indexSet_,s);if(U(o,"Missing index implementation for "+s),i===Va)if(o.isDefinedOn(e.node)){let a=[],u=n.getIterator(Ve.Wrap),d=u.getNext();for(;d;)d.name!==e.name&&a.push(d),d=u.getNext();return a.push(e),Fp(a,o.getCompare())}else return Va;else{let a=n.get(e.name),u=i;return a&&(u=u.remove(new Ve(e.name,a))),u.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=mu(this.indexes_,i=>{if(i===Va)return i;{let s=n.get(e.name);return s?i.remove(new Ve(e.name,s)):i}});return new t(r,this.indexSet_)}};var El,at=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&lP(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return El||(El=new t(new Un(IC),null,Wa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||El}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?El:r}}getChild(n){let r=Le(n);return r===null?this:this.getImmediateChild(r).getChild(rt(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(U(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Ve(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?El:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=Le(n);if(i===null)return r;{U(Le(n)!==".priority"||Xi(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(rt(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Qt,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let u in r)a[u]=r[u];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+uP(this.getPriority().val())+":"),this.forEachChild(Qt,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":jN(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Ve(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Ve(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Ve(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Ve.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Ve.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Pl?-1:0}withIndex(n){if(n===$a||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===$a||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Qt),s=r.getIterator(Qt),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===$a?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),WI=class extends at{constructor(){super(new Un(IC),at.EMPTY_NODE,Wa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return at.EMPTY_NODE}isEmpty(){return!1}},Pl=new WI;Object.defineProperties(Ve,{MIN:{value:new Ve(Ha,at.EMPTY_NODE)},MAX:{value:new Ve(ro,Pl)}});kp.__EMPTY_NODE=at.EMPTY_NODE;za.__childrenNodeConstructor=at;ZG(Pl);e3(Pl);var n3=!0;function Kt(t,e=null){if(t===null)return at.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new za(n,Kt(e))}if(!(t instanceof Array)&&n3){let n=[],r=!1;if(Bn(t,(o,a)=>{if(o.substring(0,1)!=="."){let u=Kt(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new Ve(o,u)))}}),n.length===0)return at.EMPTY_NODE;let s=Fp(n,XG,o=>o.name,IC);if(r){let o=Fp(n,Qt.getCompare());return new at(s,Kt(e),new Wa({".priority":o},{".priority":Qt}))}else return new at(s,Kt(e),Wa.Default)}else{let n=at.EMPTY_NODE;return Bn(t,(r,i)=>{if(Sr(t,r)&&r.substring(0,1)!=="."){let s=Kt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Kt(e))}}JG(Kt);var GI=class extends qa{constructor(e){super(),this.indexPath_=e,U(!Me(e)&&Le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ya(e.name,n.name):s}makePost(e,n){let r=Kt(e),i=at.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ve(n,i)}maxPost(){let e=at.EMPTY_NODE.updateChild(this.indexPath_,Pl);return new Ve(ro,e)}toString(){return sP(this.indexPath_,0).join("/")}};var KI=class extends qa{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ya(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ve.MIN}maxPost(){return Ve.MAX}makePost(e,n){let r=Kt(e);return new Ve(n,r)}toString(){return".value"}},r3=new KI;function i3(t){return{type:"value",snapshotNode:t}}function s3(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function o3(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function wN(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function a3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var QI=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ha}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ro}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function EN(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Qt?n="$priority":t.index_===r3?n="$value":t.index_===$a?n="$key":(U(t.index_ instanceof GI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=At(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=At(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+At(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=At(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+At(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function IN(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qt&&(e.i=t.index_.toString()),e}var YI=class t extends Np{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ml("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let u=EN(e._queryParams);this.restRequest_(s+".json",u,(d,p)=>{let m=p;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(s,m,!1,r),As(this.listens_,o)===a){let w;d?d===401?w="permission_denied":w="rest_error:"+d:w="ok",i(w,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=EN(e._queryParams),r=e._path.toString(),i=new Ds;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rs(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=oa(a.responseText)}catch{Dn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else a.status!==401&&a.status!==404&&Dn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var XI=class{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Lp(){return{value:null,children:new Map}}function fP(t,e,n){if(Me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=Le(e);t.children.has(r)||t.children.set(r,Lp());let i=t.children.get(r);e=rt(e),fP(i,e,n)}}function ZI(t,e,n){t.value!==null?n(e,t.value):c3(t,(r,i)=>{let s=new Je(e.toString()+"/"+r);ZI(i,s,n)})}function c3(t,e){t.children.forEach((n,r)=>{e(r,n)})}var JI=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var CN=10*1e3,u3=30*1e3,l3=5*60*1e3,eC=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new JI(e);let r=CN+(u3-CN)*Math.random();Cl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Bn(e,(i,s)=>{s>0&&Sr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Cl(this.reportStats_.bind(this),Math.floor(Math.random()*2*l3))}};var hi=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(hi||{});function pP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function mP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var tC=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=hi.ACK_USER_WRITE,this.source=pP()}operationForChild(e){if(Me(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Je(e));return new t(Xe(),n,this.revert)}}else return U(Le(this.path)===e,"operationForChild called for unrelated child."),new t(rt(this.path),this.affectedTree,this.revert)}};var Ga=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=hi.OVERWRITE}operationForChild(e){return Me(this.path)?new t(this.source,Xe(),this.snap.getImmediateChild(e)):new t(this.source,rt(this.path),this.snap)}};var Vp=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=hi.MERGE}operationForChild(e){if(Me(this.path)){let n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new Ga(this.source,Xe(),n.value):new t(this.source,Xe(),n)}else return U(Le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,rt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Sl=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Me(e))return this.isFullyInitialized()&&!this.filtered_;let n=Le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function d3(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(a3(o.childName,o.snapshotNode))}),Il(t,i,"child_removed",e,r,n),Il(t,i,"child_added",e,r,n),Il(t,i,"child_moved",s,r,n),Il(t,i,"child_changed",e,r,n),Il(t,i,"value",e,r,n),i}function Il(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,u)=>f3(t,a,u)),o.forEach(a=>{let u=h3(t,a,s);i.forEach(d=>{d.respondsTo(a.type)&&e.push(d.createEvent(u,t.query_))})})}function h3(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function f3(t,e,n){if(e.childName==null||n.childName==null)throw Ss("Should only compare child_ events.");let r=new Ve(e.childName,e.snapshotNode),i=new Ve(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function yP(t,e){return{eventCache:t,serverCache:e}}function bl(t,e,n,r){return yP(new Sl(e,n,r),t.serverCache)}function vP(t,e,n,r){return yP(t.eventCache,new Sl(e,n,r))}function nC(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function io(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var bI,p3=()=>(bI||(bI=new Un(pG)),bI),gn=class t{constructor(e,n=p3()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Bn(e,(r,i)=>{n=n.set(new Je(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Xe(),value:this.value};if(Me(e))return null;{let r=Le(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(rt(e),n);return s!=null?{path:Nt(new Je(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Me(e))return this;{let n=Le(e),r=this.children.get(n);return r!==null?r.subtree(rt(e)):new t(null)}}set(e,n){if(Me(e))return new t(n,this.children);{let r=Le(e),s=(this.children.get(r)||new t(null)).set(rt(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Me(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=Le(e),r=this.children.get(n);if(r){let i=r.remove(rt(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Me(e))return this.value;{let n=Le(e),r=this.children.get(n);return r?r.get(rt(e)):null}}setTree(e,n){if(Me(e))return n;{let r=Le(e),s=(this.children.get(r)||new t(null)).setTree(rt(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(Xe(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Nt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Xe(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Me(e))return null;{let s=Le(e),o=this.children.get(s);return o?o.findOnPath_(rt(e),Nt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Xe(),n)}foreachOnPath_(e,n,r){if(Me(e))return this;{this.value&&r(n,this.value);let i=Le(e),s=this.children.get(i);return s?s.foreachOnPath_(rt(e),Nt(n,i),r):new t(null)}}foreach(e){this.foreach_(Xe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var ar=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new gn(null))}};function Dl(t,e,n){if(Me(e))return new ar(new gn(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=jn(i,e);return s=s.updateChild(o,n),new ar(t.writeTree_.set(i,s))}else{let i=new gn(n),s=t.writeTree_.setTree(e,i);return new ar(s)}}}function TN(t,e,n){let r=t;return Bn(n,(i,s)=>{r=Dl(r,Nt(e,i),s)}),r}function bN(t,e){if(Me(e))return ar.empty();{let n=t.writeTree_.setTree(e,new gn(null));return new ar(n)}}function rC(t,e){return so(t,e)!=null}function so(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(jn(n.path,e)):null}function DN(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,i)=>{e.push(new Ve(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ve(r,i.value))}),e}function Yi(t,e){if(Me(e))return t;{let n=so(t,e);return n!=null?new ar(new gn(n)):new ar(t.writeTree_.subtree(e))}}function iC(t){return t.writeTree_.isEmpty()}function Ka(t,e){return _P(Xe(),t.writeTree_,e)}function _P(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(U(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=_P(Nt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Nt(t,".priority"),r)),n}}function wP(t,e){return bP(e,t)}function g3(t,e,n,r,i){U(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Dl(t.visibleWrites,e,n)),t.lastWriteId=r}function m3(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function y3(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&v3(a,r.path)?i=!1:or(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return _3(t),!0;if(r.snap)t.visibleWrites=bN(t.visibleWrites,r.path);else{let a=r.children;Bn(a,u=>{t.visibleWrites=bN(t.visibleWrites,Nt(r.path,u))})}return!0}else return!1}function v3(t,e){if(t.snap)return or(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&or(Nt(t.path,n),e))return!0;return!1}function _3(t){t.visibleWrites=EP(t.allWrites,w3,Xe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function w3(t){return t.visible}function EP(t,e,n){let r=ar.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)or(n,o)?(a=jn(n,o),r=Dl(r,a,s.snap)):or(o,n)&&(a=jn(o,n),r=Dl(r,Xe(),s.snap.getChild(a)));else if(s.children){if(or(n,o))a=jn(n,o),r=TN(r,a,s.children);else if(or(o,n))if(a=jn(o,n),Me(a))r=TN(r,Xe(),s.children);else{let u=As(s.children,Le(a));if(u){let d=u.getChild(rt(a));r=Dl(r,Xe(),d)}}}else throw Ss("WriteRecord should have .snap or .children")}}return r}function IP(t,e,n,r,i){if(!r&&!i){let s=so(t.visibleWrites,e);if(s!=null)return s;{let o=Yi(t.visibleWrites,e);if(iC(o))return n;if(n==null&&!rC(o,Xe()))return null;{let a=n||at.EMPTY_NODE;return Ka(o,a)}}}else{let s=Yi(t.visibleWrites,e);if(!i&&iC(s))return n;if(!i&&n==null&&!rC(s,Xe()))return null;{let o=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(or(d.path,e)||or(e,d.path))},a=EP(t.allWrites,o,e),u=n||at.EMPTY_NODE;return Ka(a,u)}}}function E3(t,e,n){let r=at.EMPTY_NODE,i=so(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Qt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Yi(t.visibleWrites,e);return n.forEachChild(Qt,(o,a)=>{let u=Ka(Yi(s,new Je(o)),a);r=r.updateImmediateChild(o,u)}),DN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Yi(t.visibleWrites,e);return DN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function I3(t,e,n,r,i){U(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Nt(e,n);if(rC(t.visibleWrites,s))return null;{let o=Yi(t.visibleWrites,s);return iC(o)?i.getChild(n):Ka(o,i.getChild(n))}}function C3(t,e,n,r){let i=Nt(e,n),s=so(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Yi(t.visibleWrites,i);return Ka(o,r.getNode().getImmediateChild(n))}else return null}function T3(t,e){return so(t.visibleWrites,e)}function b3(t,e,n,r,i,s,o){let a,u=Yi(t.visibleWrites,e),d=so(u,Xe());if(d!=null)a=d;else if(n!=null)a=Ka(u,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let p=[],m=o.getCompare(),w=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),I=w.getNext();for(;I&&p.length<i;)m(I,r)!==0&&p.push(I),I=w.getNext();return p}else return[]}function D3(){return{visibleWrites:ar.empty(),allWrites:[],lastWriteId:-1}}function sC(t,e,n,r){return IP(t.writeTree,t.treePath,e,n,r)}function CP(t,e){return E3(t.writeTree,t.treePath,e)}function SN(t,e,n,r){return I3(t.writeTree,t.treePath,e,n,r)}function jp(t,e){return T3(t.writeTree,Nt(t.treePath,e))}function S3(t,e,n,r,i,s){return b3(t.writeTree,t.treePath,e,n,r,i,s)}function CC(t,e,n){return C3(t.writeTree,t.treePath,e,n)}function TP(t,e){return bP(Nt(t.treePath,e),t.writeTree)}function bP(t,e){return{treePath:t,writeTree:e}}var oC=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,wN(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,o3(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,s3(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,wN(r,e.snapshotNode,i.oldSnap));else throw Ss("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var aC=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},DP=new aC,Al=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Sl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return CC(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:io(this.viewCache_),s=S3(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function A3(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function x3(t,e,n,r,i){let s=new oC,o,a;if(n.type===hi.OVERWRITE){let d=n;d.source.fromUser?o=cC(t,e,d.path,d.snap,r,i,s):(U(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered()&&!Me(d.path),o=Up(t,e,d.path,d.snap,r,i,a,s))}else if(n.type===hi.MERGE){let d=n;d.source.fromUser?o=M3(t,e,d.path,d.children,r,i,s):(U(d.source.fromServer,"Unknown source."),a=d.source.tagged||e.serverCache.isFiltered(),o=uC(t,e,d.path,d.children,r,i,a,s))}else if(n.type===hi.ACK_USER_WRITE){let d=n;d.revert?o=O3(t,e,d.path,r,i,s):o=N3(t,e,d.path,d.affectedTree,r,i,s)}else if(n.type===hi.LISTEN_COMPLETE)o=P3(t,e,n.path,r,s);else throw Ss("Unknown operation type: "+n.type);let u=s.getChanges();return R3(e,o,u),{viewCache:o,changes:u}}function R3(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=nC(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(i3(nC(e)))}}function SP(t,e,n,r,i,s){let o=e.eventCache;if(jp(r,n)!=null)return e;{let a,u;if(Me(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let d=io(e),p=d instanceof at?d:at.EMPTY_NODE,m=CP(r,p);a=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{let d=sC(r,io(e));a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let d=Le(n);if(d===".priority"){U(Xi(n)===1,"Can't have a priority with additional path components");let p=o.getNode();u=e.serverCache.getNode();let m=SN(r,n,p,u);m!=null?a=t.filter.updatePriority(p,m):a=o.getNode()}else{let p=rt(n),m;if(o.isCompleteForChild(d)){u=e.serverCache.getNode();let w=SN(r,n,o.getNode(),u);w!=null?m=o.getNode().getImmediateChild(d).updateChild(p,w):m=o.getNode().getImmediateChild(d)}else m=CC(r,d,e.serverCache);m!=null?a=t.filter.updateChild(o.getNode(),d,m,p,i,s):a=o.getNode()}}return bl(e,a,o.isFullyInitialized()||Me(n),t.filter.filtersNodes())}}function Up(t,e,n,r,i,s,o,a){let u=e.serverCache,d,p=o?t.filter:t.filter.getIndexedFilter();if(Me(n))d=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){let I=u.getNode().updateChild(n,r);d=p.updateFullNode(u.getNode(),I,null)}else{let I=Le(n);if(!u.isCompleteForPath(n)&&Xi(n)>1)return e;let S=rt(n),P=u.getNode().getImmediateChild(I).updateChild(S,r);I===".priority"?d=p.updatePriority(u.getNode(),P):d=p.updateChild(u.getNode(),I,P,S,DP,null)}let m=vP(e,d,u.isFullyInitialized()||Me(n),p.filtersNodes()),w=new Al(i,m,s);return SP(t,m,n,i,w,a)}function cC(t,e,n,r,i,s,o){let a=e.eventCache,u,d,p=new Al(i,e,s);if(Me(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=bl(e,d,!0,t.filter.filtersNodes());else{let m=Le(n);if(m===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),u=bl(e,d,a.isFullyInitialized(),a.isFiltered());else{let w=rt(n),I=a.getNode().getImmediateChild(m),S;if(Me(w))S=r;else{let F=p.getCompleteChild(m);F!=null?iP(w)===".priority"&&F.getChild(oP(w)).isEmpty()?S=F:S=F.updateChild(w,r):S=at.EMPTY_NODE}if(I.equals(S))u=e;else{let F=t.filter.updateChild(a.getNode(),m,S,w,p,o);u=bl(e,F,a.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function AN(t,e){return t.eventCache.isCompleteForChild(e)}function M3(t,e,n,r,i,s,o){let a=e;return r.foreach((u,d)=>{let p=Nt(n,u);AN(e,Le(p))&&(a=cC(t,a,p,d,i,s,o))}),r.foreach((u,d)=>{let p=Nt(n,u);AN(e,Le(p))||(a=cC(t,a,p,d,i,s,o))}),a}function xN(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function uC(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,d;Me(n)?d=r:d=new gn(null).setTree(n,r);let p=e.serverCache.getNode();return d.children.inorderTraversal((m,w)=>{if(p.hasChild(m)){let I=e.serverCache.getNode().getImmediateChild(m),S=xN(t,I,w);u=Up(t,u,new Je(m),S,i,s,o,a)}}),d.children.inorderTraversal((m,w)=>{let I=!e.serverCache.isCompleteForChild(m)&&w.value===null;if(!p.hasChild(m)&&!I){let S=e.serverCache.getNode().getImmediateChild(m),F=xN(t,S,w);u=Up(t,u,new Je(m),F,i,s,o,a)}}),u}function N3(t,e,n,r,i,s,o){if(jp(i,n)!=null)return e;let a=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Me(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Up(t,e,n,u.getNode().getChild(n),i,s,a,o);if(Me(n)){let d=new gn(null);return u.getNode().forEachChild($a,(p,m)=>{d=d.set(new Je(p),m)}),uC(t,e,n,d,i,s,a,o)}else return e}else{let d=new gn(null);return r.foreach((p,m)=>{let w=Nt(n,p);u.isCompleteForPath(w)&&(d=d.set(p,u.getNode().getChild(w)))}),uC(t,e,n,d,i,s,a,o)}}function P3(t,e,n,r,i){let s=e.serverCache,o=vP(e,s.getNode(),s.isFullyInitialized()||Me(n),s.isFiltered());return SP(t,o,n,r,DP,i)}function O3(t,e,n,r,i,s){let o;if(jp(r,n)!=null)return e;{let a=new Al(r,e,i),u=e.eventCache.getNode(),d;if(Me(n)||Le(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=sC(r,io(e));else{let m=e.serverCache.getNode();U(m instanceof at,"serverChildren would be complete if leaf node"),p=CP(r,m)}p=p,d=t.filter.updateFullNode(u,p,s)}else{let p=Le(n),m=CC(r,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=u.getImmediateChild(p)),m!=null?d=t.filter.updateChild(u,p,m,rt(n),a,s):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(u,p,at.EMPTY_NODE,rt(n),a,s):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=sC(r,io(e)),o.isLeafNode()&&(d=t.filter.updateFullNode(d,o,s)))}return o=e.serverCache.isFullyInitialized()||jp(r,Xe())!=null,bl(e,d,o,t.filter.filtersNodes())}}function k3(t,e){let n=io(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Me(e)&&!n.getImmediateChild(Le(e)).isEmpty())?n.getChild(e):null}function RN(t,e,n,r){e.type===hi.MERGE&&e.source.queryId!==null&&(U(io(t.viewCache_),"We should always have a full cache before handling merges"),U(nC(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=x3(t.processor_,i,e,n,r);return A3(t.processor_,s.viewCache),U(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,F3(t,s.changes,s.viewCache.eventCache.getNode(),null)}function F3(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return d3(t.eventGenerator_,e,n,i)}var MN;function L3(t){U(!MN,"__referenceConstructor has already been defined"),MN=t}function TC(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return U(s!=null,"SyncTree gave us an op for an invalid query."),RN(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(RN(o,e,n,r));return s}}function bC(t,e){let n=null;for(let r of t.views.values())n=n||k3(r,e);return n}var NN;function V3(t){U(!NN,"__referenceConstructor has already been defined"),NN=t}var Bp=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new gn(null),this.pendingWriteTree_=D3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function j3(t,e,n,r,i){return g3(t.pendingWriteTree_,e,n,r,i),i?Hp(t,new Ga(pP(),e,n)):[]}function Ua(t,e,n=!1){let r=m3(t.pendingWriteTree_,e);if(y3(t.pendingWriteTree_,e)){let s=new gn(null);return r.snap!=null?s=s.set(Xe(),!0):Bn(r.children,o=>{s=s.set(new Je(o),!0)}),Hp(t,new tC(r.path,s,n))}else return[]}function $p(t,e,n){return Hp(t,new Ga(gP(),e,n))}function U3(t,e,n){let r=gn.fromObject(n);return Hp(t,new Vp(gP(),e,r))}function B3(t,e,n,r){let i=MP(t,r);if(i!=null){let s=NP(i),o=s.path,a=s.queryId,u=jn(o,e),d=new Ga(mP(a),u,n);return PP(t,o,d)}else return[]}function $3(t,e,n,r){let i=MP(t,r);if(i){let s=NP(i),o=s.path,a=s.queryId,u=jn(o,e),d=gn.fromObject(n),p=new Vp(mP(a),u,d);return PP(t,o,p)}else return[]}function AP(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let u=jn(o,e),d=bC(a,u);if(d)return d});return IP(i,e,s,n,!0)}function Hp(t,e){return xP(e,t.syncPointTree_,null,wP(t.pendingWriteTree_,Xe()))}function xP(t,e,n,r){if(Me(t.path))return RP(t,e,n,r);{let i=e.get(Xe());n==null&&i!=null&&(n=bC(i,Xe()));let s=[],o=Le(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){let d=n?n.getImmediateChild(o):null,p=TP(r,o);s=s.concat(xP(a,u,d,p))}return i&&(s=s.concat(TC(i,t,r,n))),s}}function RP(t,e,n,r){let i=e.get(Xe());n==null&&i!=null&&(n=bC(i,Xe()));let s=[];return e.children.inorderTraversal((o,a)=>{let u=n?n.getImmediateChild(o):null,d=TP(r,o),p=t.operationForChild(o);p&&(s=s.concat(RP(p,a,u,d)))}),i&&(s=s.concat(TC(i,t,r,n))),s}function MP(t,e){return t.tagToQueryMap.get(e)}function NP(t){let e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function PP(t,e,n){let r=t.syncPointTree_.get(e);U(r,"Missing sync point for query tag that we're tracking");let i=wP(t.pendingWriteTree_,e);return TC(r,n,i,null)}var lC=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},dC=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Nt(this.path_,e);return new t(this.syncTree_,n)}node(){return AP(this.syncTree_,this.path_)}},H3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},PN=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return q3(t[".sv"],e,n);if(typeof t[".sv"]=="object")return z3(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},q3=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},z3=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&U(!1,"Unexpected increment value: "+r);let i=e.node();if(U(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},W3=function(t,e,n,r){return DC(e,new dC(n,t),r)},G3=function(t,e,n){return DC(t,new lC(e),n)};function DC(t,e,n){let r=t.getPriority().val(),i=PN(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=PN(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new za(a,Kt(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new za(i))),o.forEachChild(Qt,(a,u)=>{let d=DC(u,e.getImmediateChild(a),n);d!==u&&(s=s.updateImmediateChild(a,d))}),s}}var xl=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function SC(t,e){let n=e instanceof Je?e:new Je(e),r=t,i=Le(n);for(;i!==null;){let s=As(r.node.children,i)||{children:{},childCount:0};r=new xl(i,r,s),n=rt(n),i=Le(n)}return r}function Xa(t){return t.node.value}function OP(t,e){t.node.value=e,hC(t)}function kP(t){return t.node.childCount>0}function K3(t){return Xa(t)===void 0&&!kP(t)}function qp(t,e){Bn(t.node.children,(n,r)=>{e(new xl(n,t,r))})}function FP(t,e,n,r){n&&!r&&e(t),qp(t,i=>{FP(i,e,!0,r)}),n&&r&&e(t)}function Q3(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ol(t){return new Je(t.parent===null?t.name:Ol(t.parent)+"/"+t.name)}function hC(t){t.parent!==null&&Y3(t.parent,t.name,t)}function Y3(t,e,n){let r=K3(n),i=Sr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,hC(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,hC(t))}var X3=/[\[\].#$\/\u0000-\u001F\u007F]/,Z3=/[\[\].#$\u0000-\u001F\u007F]/,DI=10*1024*1024,LP=function(t){return typeof t=="string"&&t.length!==0&&!X3.test(t)},J3=function(t){return typeof t=="string"&&t.length!==0&&!Z3.test(t)},e9=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),J3(t)};var VP=function(t,e,n){let r=n instanceof Je?new UI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+eo(r));if(typeof e=="function")throw new Error(t+"contains a function "+eo(r)+" with contents = "+e.toString());if(UN(e))throw new Error(t+"contains "+e.toString()+" "+eo(r));if(typeof e=="string"&&e.length>DI/3&&yu(e)>DI)throw new Error(t+"contains a string greater than "+DI+" utf8 bytes "+eo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Bn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!LP(o)))throw new Error(t+" contains an invalid key ("+o+") "+eo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zG(r,o),VP(t,a,r),WG(r)}),i&&s)throw new Error(t+' contains ".value" child '+eo(r)+" in addition to actual children.")}};var t9=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!LP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!e9(n))throw new Error(hA(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var fC=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function n9(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!aP(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function oo(t,e,n){n9(t,n),r9(t,r=>or(r,e)||or(e,r))}function r9(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(i9(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function i9(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();no&&Gt("event: "+n.toString()),Nl(r)}}}var s9="repo_interrupt",o9=25,pC=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lp(),this.transactionQueueTree_=new xl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function a9(t,e,n){if(t.stats_=wC(t.repoInfo_),t.forceRestClient_||wG())t.server_=new YI(t.repoInfo_,(r,i,s,o)=>{ON(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{At(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new EC(t.repoInfo_,e,(r,i,s,o)=>{ON(t,r,i,s,o)},r=>{kN(t,r)},r=>{u9(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=IG(t.repoInfo_,()=>new eC(t.stats_,t.server_)),t.infoData_=new XI,t.infoSyncTree_=new Bp({startListening:(r,i,s,o)=>{let a=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=$p(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),AC(t,"connected",!1),t.serverSyncTree_=new Bp({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{let d=o(a,u);oo(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function c9(t){let n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jP(t){return H3({timestamp:c9(t)})}function ON(t,e,n,r,i){t.dataUpdateCount++;let s=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let u=mu(n,d=>Kt(d));o=$3(t.serverSyncTree_,s,u,i)}else{let u=Kt(n);o=B3(t.serverSyncTree_,s,u,i)}else if(r){let u=mu(n,d=>Kt(d));o=U3(t.serverSyncTree_,s,u)}else{let u=Kt(n);o=$p(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=RC(t,s)),oo(t.eventQueue_,a,o)}function kN(t,e){AC(t,"connected",e),e===!1&&d9(t)}function u9(t,e){Bn(e,(n,r)=>{AC(t,n,r)})}function AC(t,e,n){let r=new Je("/.info/"+e),i=Kt(n);t.infoData_.updateSnapshot(r,i);let s=$p(t.infoSyncTree_,r,i);oo(t.eventQueue_,r,s)}function l9(t){return t.nextWriteId_++}function d9(t){UP(t,"onDisconnectEvents");let e=jP(t),n=Lp();ZI(t.onDisconnect_,Xe(),(i,s)=>{let o=W3(i,s,t.serverSyncTree_,e);fP(n,i,o)});let r=[];ZI(n,Xe(),(i,s)=>{r=r.concat($p(t.serverSyncTree_,i,s));let o=g9(t,i);RC(t,o)}),t.onDisconnect_=Lp(),oo(t.eventQueue_,Xe(),r)}function h9(t){t.persistentConnection_&&t.persistentConnection_.interrupt(s9)}function UP(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Gt(n,...e)}function BP(t,e,n){return AP(t.serverSyncTree_,e,n)||at.EMPTY_NODE}function xC(t,e=t.transactionQueueTree_){if(e||zp(t,e),Xa(e)){let n=HP(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&f9(t,Ol(e),n)}else kP(e)&&qp(e,n=>{xC(t,n)})}function f9(t,e,n){let r=n.map(d=>d.currentWriteId),i=BP(t,e,r),s=i,o=i.hash();for(let d=0;d<n.length;d++){let p=n[d];U(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;let m=jn(e,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}let a=s.val(!0),u=e;t.server_.put(u.toString(),a,d=>{UP(t,"transaction put response",{path:u.toString(),status:d});let p=[];if(d==="ok"){let m=[];for(let w=0;w<n.length;w++)n[w].status=2,p=p.concat(Ua(t.serverSyncTree_,n[w].currentWriteId)),n[w].onComplete&&m.push(()=>n[w].onComplete(null,!0,n[w].currentOutputSnapshotResolved)),n[w].unwatcher();zp(t,SC(t.transactionQueueTree_,e)),xC(t,t.transactionQueueTree_),oo(t.eventQueue_,e,p);for(let w=0;w<m.length;w++)Nl(m[w])}else{if(d==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Dn("transaction at "+u.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}RC(t,e)}},o)}function RC(t,e){let n=$P(t,e),r=Ol(n),i=HP(t,n);return p9(t,i,r),r}function p9(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let u=e[a],d=jn(n,u.path),p=!1,m;if(U(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,m=u.abortReason,i=i.concat(Ua(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=o9)p=!0,m="maxretry",i=i.concat(Ua(t.serverSyncTree_,u.currentWriteId,!0));else{let w=BP(t,u.path,o);u.currentInputSnapshot=w;let I=e[a].update(w.val());if(I!==void 0){VP("transaction failed: Data returned ",I,u.path);let S=Kt(I);typeof I=="object"&&I!=null&&Sr(I,".priority")||(S=S.updatePriority(w.getPriority()));let P=u.currentWriteId,K=jP(t),ve=G3(S,w,K);u.currentOutputSnapshotRaw=S,u.currentOutputSnapshotResolved=ve,u.currentWriteId=l9(t),o.splice(o.indexOf(P),1),i=i.concat(j3(t.serverSyncTree_,u.path,ve,u.currentWriteId,u.applyLocally)),i=i.concat(Ua(t.serverSyncTree_,P,!0))}else p=!0,m="nodata",i=i.concat(Ua(t.serverSyncTree_,u.currentWriteId,!0))}oo(t.eventQueue_,n,i),i=[],p&&(e[a].status=2,function(w){setTimeout(w,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(m==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(m),!1,null))))}zp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Nl(r[a]);xC(t,t.transactionQueueTree_)}function $P(t,e){let n,r=t.transactionQueueTree_;for(n=Le(e);n!==null&&Xa(r)===void 0;)r=SC(r,n),e=rt(e),n=Le(e);return r}function HP(t,e){let n=[];return qP(t,e,n),n.sort((r,i)=>r.order-i.order),n}function qP(t,e,n){let r=Xa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);qp(e,i=>{qP(t,i,n)})}function zp(t,e){let n=Xa(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,OP(e,n.length>0?n:void 0)}qp(e,r=>{zp(t,r)})}function g9(t,e){let n=Ol($P(t,e)),r=SC(t.transactionQueueTree_,e);return Q3(r,i=>{SI(t,i)}),SI(t,r),FP(r,i=>{SI(t,i)}),n}function SI(t,e){let n=Xa(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ua(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?OP(e,void 0):n.length=s+1,oo(t.eventQueue_,Ol(e),i);for(let o=0;o<r.length;o++)Nl(r[o])}}function m9(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function y9(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dn(`Invalid query segment '${n}' in query '${t}'`)}return e}var FN=function(t,e){let n=v9(t),r=n.namespace;n.domain==="firebase.com"&&fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hG();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Rp(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Je(n.pathString)}},v9=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(a=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(p,m)),p<m&&(i=m9(t.substring(p,m)));let w=y9(t.substring(Math.min(t.length,m)));d=e.indexOf(":"),d>=0?(o=a==="https"||a==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;let I=e.slice(0,d);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{let S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),s=r}"ns"in w&&(s=w.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var LN="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wte=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=LN.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=LN.charAt(e[i]);return U(o.length===20,"nextPushId: Length should be 20."),o}}();var gC=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Me(this._path)?null:iP(this._path)}get ref(){return new Qa(this._repo,this._path)}get _queryIdentifier(){let e=IN(this._queryParams),n=_C(e);return n==="{}"?"default":n}get _queryObject(){return IN(this._queryParams)}isEqual(e){if(e=Tn(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=aP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+qG(this._path)}};var Qa=class t extends gC{constructor(e,n){super(e,n,new QI,!1)}get parent(){let e=oP(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};L3(Qa);V3(Qa);var _9="FIREBASE_DATABASE_EMULATOR_HOST",mC={},w9=!1;function E9(t,e,n,r){t.repoInfo_=new Rp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function I9(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=FN(s,i),a=o.repoInfo,u,d;typeof process<"u"&&process.env&&(d=process.env[_9]),d?(u=!0,s=`http://${d}?ns=${a.namespace}`,o=FN(s,i),a=o.repoInfo):u=!o.repoInfo.secure;let p=i&&u?new Tl(Tl.OWNER):new PI(t.name,t.options,e);t9("Invalid Firebase Database URL",o),Me(o.path)||fi("Database URL must point to the root of a Firebase Database (not including a child path).");let m=T9(a,t,p,new NI(t.name,n));return new yC(m,t)}function C9(t,e){let n=mC[e];(!n||n[t.key]!==t)&&fi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),h9(t),delete n[t.key]}function T9(t,e,n,r){let i=mC[e.name];i||(i={},mC[e.name]=i);let s=i[t.toURLString()];return s&&fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new pC(t,w9,n,r),i[t.toURLString()]=s,s}var yC=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(a9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qa(this._repo,Xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(C9(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fi("Cannot call "+e+" on a deleted database.")}};function zP(t=ki(),e){let n=Ps(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=$h("database");r&&WP(n,...r)}return n}function WP(t,e,n,r={}){t=Tn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fi("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Tl(Tl.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Hh(r.mockUserToken,t.app.options.projectId);s=new Tl(o)}E9(i,e,n,s)}function b9(t){uG(Mr),Rr(new pn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return I9(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),st(iN,sN,t),st(iN,sN,"esm2017")}EC.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};EC.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};b9();var kl=class{constructor(e){return e}},GP="database",MC=class{constructor(){return ks(GP)}};var NC=new ie("angularfire2.database-instances");function D9(t,e){let n=ca(GP,t,e);return n&&new kl(n)}function S9(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new kl(r)}}var A9={provide:MC,deps:[[new ft,NC]]},x9={provide:kl,useFactory:D9,deps:[[new ft,NC],er]},R9=(()=>{class t{constructor(){st("angularfire",ii.full,"rtdb")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Bt({type:t});static \u0275inj=Ut({providers:[x9,A9]})}return t})();function KP(t,...e){return{ngModule:R9,providers:[{provide:NC,useFactory:S9(t),multi:!0,deps:[qe,en,Li,si,[new ft,js],[new ft,Fi],...e]}]}}var QP=Nr(zP,!0);var YP={providers:[JS(eA),zo(SA(()=>AA({projectId:"myportfolio-22b6b",appId:"1:740358850596:web:9c64ac32ddbe266f",databaseURL:"https://myportfolio-22b6b.firebaseio.com",storageBucket:"myportfolio-22b6b.appspot.com",apiKey:"AIzaSyDUOVSClzzWdNY8l8u9w0S60SC7_3_19Is",authDomain:"myportfolio-22b6b.firebaseapp.com",messagingSenderId:"740358850596"}))),zo(fx(()=>px())),zo(nN(()=>rN())),zo(KP(()=>QP()))]};var XP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=dn({type:e,selectors:[["app-homepage"]],standalone:!0,features:[fn],decls:11,vars:0,consts:[["id","home",1,"section","section-active"],[1,"container-wrap"],["data-jarallax-element","0 30",1,"entry-title",2,"transform","translate3d(0px, 0px, 0px)"],["id","jarallax-container-0",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","overflow","hidden","pointer-events","none","z-index","-100"],[2,"position","fixed"],["data-jarallax-element","0 -30","src","assets/img/photo.jpg","alt","",1,"main-photo","block-right",2,"position","relative","z-index","0","transform","translate3d(-0.0005139px, 0px, 0px)"],["href","#services",1,"main-btn","slow-scroll"],["src","https://demo.cocobasic.com/ukko-html/images/scroll-icon.svg","alt",""]],template:function(i,s){i&1&&(z(0,"section",0)(1,"div",1)(2,"h3",2),J(3,"Sergio Alejandro "),it(4,"br"),J(5,"Diaz Pinilla "),z(6,"div",3),it(7,"div",4),W()(),it(8,"img",5),z(9,"a",6),it(10,"img",7),W()()())},styles:["#home[_ngcontent-%COMP%]{height:100vh;padding:85px 0;margin:0}#home[_ngcontent-%COMP%]   .container-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;position:relative;height:100%}#home[_ngcontent-%COMP%]   .main-photo[_ngcontent-%COMP%]{max-height:calc(100vh - 170px);width:536px;object-fit:cover}#home[_ngcontent-%COMP%]   .entry-title[_ngcontent-%COMP%]{position:absolute;color:#f44647;font-weight:800;font-size:120px;line-height:143px;letter-spacing:-4px;z-index:1;left:0}#home[_ngcontent-%COMP%]   .entry-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}#home[_ngcontent-%COMP%]   .main-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;cursor:pointer}#home[_ngcontent-%COMP%]   .main-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:ease-out;animation-name:_ngcontent-%COMP%_scroll;display:block}@keyframes _ngcontent-%COMP%_scroll{0%{opacity:1;transform:translateY(-25px)}70%{opacity:1}to{opacity:0;transform:translateY(0)}}"]});let t=e;return t})();var Fl=t=>({current:t}),ZP=(()=>{let e=class e{constructor(){this.selected=1}setSectionSelected(r){this.selected=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=dn({type:e,selectors:[["app-nav-panel"]],inputs:{selected:"selected"},standalone:!0,features:[fn],decls:39,vars:15,consts:[["id","nav-btn",1,"nav-btn"],[1,"nav-btn-cover"],[1,"menu-line"],[1,"s-nav"],[1,"nav-count"],[1,"current-num"],[2,"opacity","1","left","0px"],[1,"pagination-sep"],[1,"total-pages-num"],[1,"nav-container"],["href","#home",1,"site-title","slow-scroll"],[1,"nav-menu"],[1,"nav-list"],[1,"",3,"ngClass"],["href","#home",3,"click"],["href","#services",3,"click"],["href","#blog",3,"click"],["href","#skills",3,"click"],["href","#contact",3,"click"],[1,"nav-soc"],["href","https://github.com/seradiazpin","target","_blank"],["href","https://www.linkedin.com/in/seradiazpin/","target","_blank"]],template:function(i,s){i&1&&(z(0,"div",0)(1,"span",1),it(2,"span",2),W()(),z(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),J(7,"01"),W()(),z(8,"div",7),J(9,"/"),W(),z(10,"div",8),J(11,"05"),W()(),z(12,"div",9)(13,"a",10),J(14,"Sergio Alejandro Diaz Pinilla"),W(),z(15,"nav",11)(16,"ul",12)(17,"li",13)(18,"a",14),hn("click",function(){return s.setSectionSelected(1)}),J(19,"Home"),W()(),z(20,"li",13)(21,"a",15),hn("click",function(){return s.setSectionSelected(2)}),J(22,"About"),W()(),z(23,"li",13)(24,"a",16),hn("click",function(){return s.setSectionSelected(3)}),J(25,"Education"),W()(),z(26,"li",13)(27,"a",17),hn("click",function(){return s.setSectionSelected(4)}),J(28,"Experience"),W()(),z(29,"li",13)(30,"a",18),hn("click",function(){return s.setSectionSelected(5)}),J(31,"Contact"),W()()()()(),z(32,"ul",19)(33,"li")(34,"a",20),J(35,"GITHUB."),W()(),z(36,"li")(37,"a",21),J(38,"LINKEDIN."),W()()()()),i&2&&(we(17),yt("ngClass",Qo(5,Fl,s.selected==1)),we(3),yt("ngClass",Qo(7,Fl,s.selected==2)),we(3),yt("ngClass",Qo(9,Fl,s.selected==3)),we(3),yt("ngClass",Qo(11,Fl,s.selected==4)),we(3),yt("ngClass",Qo(13,Fl,s.selected==5)))},dependencies:[Jn,cS],styles:['.s-nav[_ngcontent-%COMP%]{position:fixed;right:0;top:0;height:100vh;max-width:40%;width:100%;z-index:1;overflow:hidden;padding:85px 100px 85px 200px}.nav-count[_ngcontent-%COMP%]{position:relative;line-height:22px;font-weight:700;margin-bottom:154px}.nav-count[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;display:inline-block;vertical-align:top}.nav-count[_ngcontent-%COMP%]   .current-num[_ngcontent-%COMP%]{width:18px}.nav-count[_ngcontent-%COMP%]   .current-num[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{left:0;top:0;position:absolute;color:#f44647}.nav-count[_ngcontent-%COMP%]   .pagination-sep[_ngcontent-%COMP%]{padding:0 12px}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block}.nav-list[_ngcontent-%COMP%]   li.current[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f44647}.nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:28px;display:none;width:100%!important}.nav-soc[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;position:absolute;left:200px;bottom:79px}.nav-soc[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:25px}.nav-soc[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.nav-soc[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;line-height:30px;letter-spacing:5px}.nav-container[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]{font-size:12px;line-height:30px;letter-spacing:5px;font-weight:700;margin-bottom:51px;position:relative;display:inline-block}.nav-container[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-3px;right:5px;height:2px;width:calc(100% - 5px);transition:.35s ease-out;background-color:#000}.nav-container[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]:hover:before{width:0;background-color:#f44647}.nav-btn[_ngcontent-%COMP%]{position:fixed;display:block;top:0;left:0;padding:14px 10px;transition:.15s ease;cursor:pointer;z-index:10;background-color:#fff}.nav-btn.scroll-bottom[_ngcontent-%COMP%]{top:-50px}.nav-btn[_ngcontent-%COMP%]:hover   .nav-btn-cover[_ngcontent-%COMP%]:before{margin-left:9px}.nav-btn[_ngcontent-%COMP%]:hover   .nav-btn-cover[_ngcontent-%COMP%]   .menu-line[_ngcontent-%COMP%]{margin-left:17px}.nav-btn.active[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]   .menu-line[_ngcontent-%COMP%]{opacity:0}.nav-btn.active[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]:before{transform:rotate3d(0,0,1,45deg) translateZ(0);margin-left:0;width:26px}.nav-btn.active[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]:after{transform:rotate3d(0,0,1,-45deg);width:26px}.nav-btn[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]{position:relative;height:20px;width:30px;display:block}.nav-btn[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]   .menu-line[_ngcontent-%COMP%]{width:13px;height:3px;position:absolute;transition:all .25s;margin-left:0;top:8px;background-color:#000}.nav-btn[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]:after, .nav-btn[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]:before{content:"";height:3px;width:30px;position:absolute;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;-webkit-transition:-webkit-transform .25s;-webkit-transition:all .25s;transition:all .25s;top:8px;background-color:#000}.nav-btn[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]:before{transform:translate3d(0,-8px,0);width:21px;margin-left:0}.nav-btn[_ngcontent-%COMP%]   .nav-btn-cover[_ngcontent-%COMP%]:after{transform:translate3d(0,8px,0)}@media (min-width: 1200px){.nav-btn[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();var Za=(()=>{let e=class e{constructor(r){this.firestore=r}getAbout(r){let i=Qi(this.firestore,"About");return Ki(i)}getInfo(){let r=Qi(this.firestore,"Information");return Ki(r)}getSkills(){let r=Qi(this.firestore,"Skills");return Ki(r)}getProjects(){let r=Qi(this.firestore,"Projects");return Ki(r)}getEducation(){let r=Qi(this.firestore,"Education");return Ki(r)}getCertifications(){let r=Qi(this.firestore,"Certifications");return Ki(r)}getExperience(){let r=Qi(this.firestore,"Experience");return Ki(r)}};e.\u0275fac=function(i){return new(i||e)(pe(Js))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function M9(t,e){if(t&1&&(z(0,"p"),J(1),W()),t&2){let n=e.$implicit;we(1),Cr(" ",n," ")}}var JP=(()=>{let e=class e{constructor(r){this.portfolioService=r,this.getData()}getData(){this.portfolioService.getInfo().subscribe(r=>{this.data=r[1]})}ngOnInit(){this.getData()}};e.\u0275fac=function(i){return new(i||e)($e(Za))},e.\u0275cmp=dn({type:e,selectors:[["app-information"]],standalone:!0,features:[fn],decls:32,vars:3,consts:[["id","services",1,"section"],[1,"title"],[1,"section-des"],["data-jarallax-element","0 -40","src","images/about-img.jpg","alt","",1,"about-img","block-right",2,"position","relative","z-index","0","transform","translate3d(-413.332px, 0px, 0px)"],["data-threshold","0 0","data-jarallax-element","40 0",1,"about-info",2,"position","relative","z-index","0","transform","translate3d(0px, 0px, 0px)"],["href","mailto:seradiazpin@unal.edu.co"],["href","tel:+573102462448"],["id","jarallax-container-4",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","overflow","hidden","pointer-events","none","z-index","-100"],[2,"position","fixed"],[1,"about-text","content-670"],[4,"ngFor","ngForOf"],[1,"serv-link-cover",2,"position","relative","z-index","0","transform","translate3d(30.658px, 0px, 0px)"],[3,"href"],["id","jarallax-container-2",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","overflow","hidden","pointer-events","none","z-index","-100"]],template:function(i,s){i&1&&(z(0,"section",0)(1,"h2",1),J(2,"ABOUT"),W(),z(3,"div",2),J(4),W(),it(5,"img",3),z(6,"ul",4)(7,"li")(8,"h6"),J(9,"EMAIL"),W(),z(10,"a",5),J(11,"seradiazpin@unal.edu.co"),W()(),z(12,"li")(13,"h6"),J(14,"TITLE"),W(),z(15,"span"),J(16,"Ingeniero de Sistemas"),W()(),z(17,"li")(18,"h6"),J(19,"PHONE"),W(),z(20,"a",6),J(21,"(+57) 3102462448"),W()(),z(22,"div",7),it(23,"div",8),W()(),z(24,"div",9),Ir(25,M9,2,1,"p",10),W(),z(26,"ul",11)(27,"li")(28,"a",12),J(29,"DESCARGAR CV"),W()(),z(30,"div",13),it(31,"div",8),W()()()),i&2&&(we(4),Cr(" ",s.data==null?null:s.data.description," "),we(21),yt("ngForOf",s.data==null?null:s.data.about),we(3),Ko("href",s.data==null?null:s.data.cv,jc))},dependencies:[Jn,Yo],styles:['.section-des[_ngcontent-%COMP%]{max-width:440px;font-size:22px;line-height:1.65}.serv-link-cover[_ngcontent-%COMP%]{background-color:#f44647;display:flex;align-items:center;padding:50px 70px;margin-top:45px}.serv-link-cover[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:100px}.serv-link-cover[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:12px;line-height:30px;letter-spacing:5px;position:relative;display:inline-block}.serv-link-cover[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:5px;right:0;height:2px;width:100%;transition:.35s ease-out;background-color:#fff}.serv-link-cover[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before{width:0}.serv-block-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding-top:80px}.serv-block-wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-last-of-type(-n+2){margin-bottom:0}.serv-block-wrap[_ngcontent-%COMP%]   .serv-block-item[_ngcontent-%COMP%]{width:calc(50% - 65px);margin-bottom:80px}.serv-block-wrap[_ngcontent-%COMP%]   .serv-block-item[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]{transform:translate(-10px)}.serv-block-wrap[_ngcontent-%COMP%]   .serv-block-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:500;font-size:22px;line-height:33px;letter-spacing:.27em;margin-top:30px;transition:.35s ease-out}.serv-block-wrap[_ngcontent-%COMP%]   .serv-block-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:23px;max-width:250px;margin-bottom:0}.about-img[_ngcontent-%COMP%]{max-width:100%;display:block}.about-info[_ngcontent-%COMP%]{background-color:#f44647;color:#fff;width:330px;padding:50px 30px 50px 70px;float:right;margin:0 0 40px 65px}.about-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:44px}.about-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;letter-spacing:5px;font-weight:400}.about-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-weight:400}.about-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{padding-left:8px}.about-text[_ngcontent-%COMP%]{padding-top:53px}.about-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:670px}.signature[_ngcontent-%COMP%]{margin-top:10px}']});let t=e;return t})();function N9(t,e){if(t&1&&(z(0,"li")(1,"a",6),J(2),it(3,"br"),W(),z(4,"div",7)(5,"div",8),J(6),W(),z(7,"div",9),J(8),$c(9,"uppercase"),W(),z(10,"div",10),J(11),$c(12,"uppercase"),W()()()),t&2){let n=e.$implicit;we(1),Ko("href",n.link,jc),we(1),Cr("",n.title.es," "),we(4),Bc("",n.begin," - ",n.end,""),we(2),wn(Hc(9,6,n.degree)),we(3),wn(Hc(12,8,n.institution))}}function P9(t,e){if(t&1&&(z(0,"li")(1,"a",6),J(2),W(),z(3,"div",7)(4,"div",8),J(5),W(),z(6,"div",9),J(7),$c(8,"uppercase"),W(),z(9,"div",9),J(10),$c(11,"uppercase"),W()()()),t&2){let n=e.$implicit;we(1),Ko("href",n.link,jc),we(1),wn(n.title.es),we(3),wn(n.begin),we(2),wn(Hc(8,5,n.degree)),we(3),wn(Hc(11,7,n.institution))}}var eO=(()=>{let e=class e{constructor(r){this.portfolioService=r,this.getData()}getData(){this.portfolioService.getEducation().subscribe(r=>{this.data=r}),this.portfolioService.getCertifications().subscribe(r=>{this.dataCertification=r.sort((i,s)=>i.begin>s.begin?1:s.begin>i.begin?-1:0)})}ngOnInit(){this.getData()}};e.\u0275fac=function(i){return new(i||e)($e(Za))},e.\u0275cmp=dn({type:e,selectors:[["app-certifications"]],standalone:!0,features:[fn],decls:11,vars:2,consts:[["id","blog",1,"section"],[1,"title"],[1,"section-des"],[1,"home-blog-list"],[4,"ngFor","ngForOf"],[1,"title",2,"padding-top","50px"],[3,"href"],[1,"blog-list-info"],[1,"date"],[1,"category"],[1,"category",2,"text-align","justify","width","auto"]],template:function(i,s){i&1&&(z(0,"section",0)(1,"h2",1),J(2,"EDUCATION"),W(),z(3,"div",2),J(4," Un breve resumen de mi trayectoria acad\xE9mica, abordando mi formaci\xF3n como profesional y algunas certificaciones obtenidas en diversas tecnolog\xEDas. "),W(),z(5,"ul",3),Ir(6,N9,13,10,"li",4),W(),z(7,"h2",5),J(8,"CERTIFICATES"),W(),z(9,"ul",3),Ir(10,P9,12,9,"li",4),W()()),i&2&&(we(6),yt("ngForOf",s.data),we(4),yt("ngForOf",s.dataCertification))},dependencies:[Jn,Yo,uS],styles:[".home-blog-list[_ngcontent-%COMP%]{padding-right:41px}.home-blog-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:30px 0;min-height:136px}.home-blog-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{padding-bottom:0}.home-blog-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{border-top:2px solid #fff}.home-blog-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:26px;margin-right:30px;color:#000}.home-blog-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f44647}.home-blog-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-list-info[_ngcontent-%COMP%]{flex:0 0 auto;font-weight:700;font-size:10px;line-height:14px;letter-spacing:3px;min-width:100px}.home-blog-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .blog-list-info[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#f44647;margin-top:6px}"]});let t=e;return t})();function O9(t,e){if(t&1&&(z(0,"span")(1,"strong"),J(2),W(),J(3),it(4,"br"),W()),t&2){let n=e.$implicit;we(2),Bc("",n.startDate,"- ",n.endDate,""),we(1),Cr(" ",n.description," ")}}function k9(t,e){if(t&1&&(z(0,"li")(1,"span",7),J(2),W(),z(3,"p")(4,"strong",8),J(5),W(),J(6," - "),z(7,"small"),J(8),W(),it(9,"br"),J(10),it(11,"br"),Ir(12,O9,5,3,"span",5),W()()),t&2){let n=e.$implicit;we(2),wn(n.endDate),we(3),wn(n.name),we(3),wn(n.title),we(2),Cr(" ",n.description," "),we(2),yt("ngForOf",n.details)}}function F9(t,e){if(t&1&&(z(0,"li")(1,"div",9),it(2,"i",10),z(3,"div",11),J(4),W()()()),t&2){let n=e.$implicit;we(2),LD((n==null?null:n.icon)+" col-sm-3 p-1"),we(2),wn(n.name)}}var tO=(()=>{let e=class e{constructor(r){this.portfolioService=r,this.getData()}getData(){this.portfolioService.getExperience().subscribe(r=>{this.data=r}),this.portfolioService.getSkills().subscribe(r=>{this.dataSkills=r})}ngOnInit(){this.getData()}};e.\u0275fac=function(i){return new(i||e)($e(Za))},e.\u0275cmp=dn({type:e,selectors:[["app-skills"]],standalone:!0,features:[fn],decls:16,vars:2,consts:[["id","skills",1,"section","section-active"],[1,"title"],[1,"section-des"],[1,"content-670"],[1,"skills-history","block-right"],[4,"ngFor","ngForOf"],[1,"skills-progress"],[1,"date"],[2,"font-size","larger"],[1,"card","text-center",2,"max-width","18rem","width","100%"],[1,"card-img-top",2,"font-size","5em"],[1,"card-header"]],template:function(i,s){i&1&&(z(0,"section",0)(1,"h2",1),J(2,"Experiencia"),W(),z(3,"div",2),J(4," A lo largo de mi trayectoria profesional, he tenido la oportunidad de desempe\xF1ar diversos roles en varias empresas, consolidando un recorrido en el que he refinado tanto mis habilidades t\xE9cnicas como las habilidades interpersonales. "),W(),z(5,"p",3),J(6," A continuaci\xF3n, presento un resumen de mi historial profesional, destacando los diversos roles y proyectos en los cuales he contribuido con mi experiencia y dedicaci\xF3n laboral. "),W(),z(7,"ul",4),Ir(8,k9,13,5,"li",5),W(),it(9,"br"),z(10,"h2",1),J(11,"SKILLS"),W(),z(12,"div",2),J(13," Esta es una lista de algunas herramientas y tecnolog\xEDas relevantes para mi campo, respaldada por una s\xF3lida formaci\xF3n acad\xE9mica y una dedicaci\xF3n constante al aprendizaje. "),W(),z(14,"ul",6),Ir(15,F9,5,3,"li",5),W()()),i&2&&(we(8),yt("ngForOf",s.data),we(7),yt("ngForOf",s.dataSkills))},dependencies:[Jn,Yo],styles:['.skills-history[_ngcontent-%COMP%]{background-color:#f44647;color:#fff;margin-top:41px;padding:63px 60px 62px 94px}.skills-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.skills-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;left:28%;top:0;background-color:#fff;width:3px;height:100%}.skills-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{padding-top:37px}.skills-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:0 0 28%;max-width:28%;font-weight:200;font-size:60px;line-height:30px;transition:.35s ease-out}.skills-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .date[_ngcontent-%COMP%]{-webkit-transform:translateX(15px);transform:translate(15px);color:#000}.skills-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:0 0 72%;max-width:72%;padding:0 50px 0 80px;cursor:default;transition:.35s ease-out;margin-bottom:0}.skills-history[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{-webkit-transform:translateX(-15px);transform:translate(-15px)}.skills-progress[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding-right:40px;padding-top:69px}.skills-progress[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(30% - 35px);margin-bottom:22px}.skills-progress[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:12px;line-height:28px;letter-spacing:3.5px;width:37%;padding-right:30px}.skills-progress[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{background-color:#ffd2d3}.skills-progress[_ngcontent-%COMP%]   .skill-fill[_ngcontent-%COMP%]{width:10%;height:10px;background-color:#f44647;transition:width .7s}']});let t=e;return t})();var Pt=Vk(rO());var dO=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($e(_s),$e(Ri))},e.\u0275dir=Yn({type:e});let t=e;return t})(),L9=(()=>{let e=class e extends dO{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kc(e)))(s||e)}})(),e.\u0275dir=Yn({type:e,features:[Go]});let t=e;return t})(),hO=new ie("NgValueAccessor");var V9={provide:hO,useExisting:Mc(()=>Yp),multi:!0};function j9(){let t=ni()?ni().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var U9=new ie("CompositionEventMode"),Yp=(()=>{let e=class e extends dO{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!j9())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($e(_s),$e(Ri),$e(U9,8))},e.\u0275dir=Yn({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&hn("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[xy([V9]),Go]});let t=e;return t})();var B9=new ie("NgValidators"),$9=new ie("NgAsyncValidators");function fO(t){return t!=null}function pO(t){return ws(t)?ut(t):t}function gO(t){let e={};return t.forEach(n=>{e=n!=null?G(G({},e),n):e}),Object.keys(e).length===0?null:e}function mO(t,e){return e.map(n=>n(t))}function H9(t){return!t.validate}function yO(t){return t.map(e=>H9(e)?e:n=>e.validate(n))}function q9(t){if(!t)return null;let e=t.filter(fO);return e.length==0?null:function(n){return gO(mO(n,e))}}function vO(t){return t!=null?q9(yO(t)):null}function z9(t){if(!t)return null;let e=t.filter(fO);return e.length==0?null:function(n){let r=mO(n,e).map(pO);return Bg(r).pipe(Ee(gO))}}function _O(t){return t!=null?z9(yO(t)):null}function iO(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function W9(t){return t._rawValidators}function G9(t){return t._rawAsyncValidators}function OC(t){return t?Array.isArray(t)?t:[t]:[]}function Kp(t,e){return Array.isArray(t)?t.includes(e):t===e}function sO(t,e){let n=OC(e);return OC(t).forEach(i=>{Kp(n,i)||n.push(i)}),n}function oO(t,e){return OC(e).filter(n=>!Kp(t,n))}var Qp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_O(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},kC=class extends Qp{get formDirective(){return null}get path(){return null}},jl=class extends Qp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},FC=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},K9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bre=Ye(G({},K9),{"[class.ng-submitted]":"isSubmitted"}),wO=(()=>{let e=class e extends FC{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($e(jl,2))},e.\u0275dir=Yn({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ay("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Go]});let t=e;return t})();var Ll="VALID",Gp="INVALID",Ja="PENDING",Vl="DISABLED";function Q9(t){return(Xp(t)?t.validators:t)||null}function Y9(t){return Array.isArray(t)?vO(t):t||null}function X9(t,e){return(Xp(e)?e.asyncValidators:t)||null}function Z9(t){return Array.isArray(t)?_O(t):t||null}function Xp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var LC=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ll}get invalid(){return this.status===Gp}get pending(){return this.status==Ja}get disabled(){return this.status===Vl}get enabled(){return this.status!==Vl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oO(e,this._rawAsyncValidators))}hasValidator(e){return Kp(this._rawValidators,e)}hasAsyncValidator(e){return Kp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ja,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Vl,this.errors=null,this._forEachChild(r=>{r.disable(Ye(G({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ye(G({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ll,this._forEachChild(r=>{r.enable(Ye(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ye(G({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ll||this.status===Ja)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vl:Ll}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ja,this._hasOwnPendingAsyncValidator=!0;let n=pO(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Zt,this.statusChanges=new Zt}_calculateStatus(){return this._allControlsDisabled()?Vl:this.errors?Gp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ja)?Ja:this._anyControlsHaveStatus(Gp)?Gp:Ll}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Y9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Z9(this._rawAsyncValidators)}};var EO=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>VC}),VC="always";function J9(t,e){return[...e.path,t]}function e6(t,e,n=VC){n6(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),r6(t,e),s6(t,e),i6(t,e),t6(t,e)}function aO(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function t6(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function n6(t,e){let n=W9(t);e.validator!==null?t.setValidators(iO(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=G9(t);e.asyncValidator!==null?t.setAsyncValidators(iO(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();aO(e._rawValidators,i),aO(e._rawAsyncValidators,i)}function r6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&IO(t,e)})}function i6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&IO(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function IO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function s6(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function o6(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function a6(t){return Object.getPrototypeOf(t.constructor)===L9}function c6(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Yp?n=s:a6(s)?r=s:i=s}),i||r||n||null}function cO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function uO(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var u6=class extends LC{constructor(e=null,n,r){super(Q9(n),X9(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(uO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){uO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var l6={provide:jl,useExisting:Mc(()=>jC)},lO=(()=>Promise.resolve())(),jC=(()=>{let e=class e extends jl{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new u6,this._registered=!1,this.name="",this.update=new Zt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=c6(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),o6(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){e6(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){lO.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&yh(i);lO.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?J9(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)($e(kC,9),$e(B9,10),$e($9,10),$e(hO,10),$e(Wo,8),$e(EO,8))},e.\u0275dir=Yn({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xy([l6]),Go,qo]});let t=e;return t})();var d6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Ut({});let t=e;return t})();var h6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Ut({imports:[d6]});let t=e;return t})();var CO=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:EO,useValue:r.callSetDisabledState??VC}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bt({type:e}),e.\u0275inj=Ut({imports:[h6]});let t=e;return t})();var TO=(()=>{let e=class e{constructor(){this.selected=1}toMail(){var r="mailto:seradiazpin@unal.edu.co+?subject="+this.subject+"&body="+this.message;window.location.href=r}setActiveMenuItem(){var r=this,i=null,s=(0,Pt.default)(".page-wrapper .section.section-active").data("num");(0,Pt.default)(".section").each(function(){var o=(0,Pt.default)(this).attr("id");(0,Pt.default)("#"+o).is("*")&&(0,Pt.default)(window).scrollTop()>=(0,Pt.default)("#"+o).offset().top-150&&(i=o,r.selected=s)}),(0,Pt.default)(".nav-menu ul li").removeClass("current").find('a[href*="#'+i+'"]').parent().addClass("current"),(0,Pt.default)(".page-wrapper .section").removeClass("section-active"),(0,Pt.default)("#"+i).addClass("section-active"),s!==(0,Pt.default)("#"+i).data("num")&&(s=(0,Pt.default)("#"+i).data("num"),r.selected=s,(0,Pt.default)(".current-num span").animate({opacity:"0",left:"-5px"},150,function(){(0,Pt.default)(this).text(s).animate({opacity:"1",left:"0"},150)}))}ngOnInit(){var r=this;(0,Pt.default)(window).on("resize",function(){r.setActiveMenuItem()}),(0,Pt.default)(window).on("scroll",function(){r.setActiveMenuItem()});var i=1;(0,Pt.default)(".page-wrapper .section").each(function(){(0,Pt.default)(this).data("num",("0"+i).slice(-2)),console.log(i),i++})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=dn({type:e,selectors:[["app-root"]],standalone:!0,features:[fn],decls:23,vars:3,consts:[[1,"background-gradient","padding-content"],[1,"page-wrapper"],["page",""],[3,"selected"],["home",""],["information",""],["certifications",""],["skills",""],["id","contact",1,"section"],[1,"title"],[1,"content-670"],[1,"contact-form"],["id","subject","type","text","name","your-subject","placeholder","SUBJECT",3,"ngModel","ngModelChange"],["id","message","name","your-message","placeholder","MESSAGE",3,"ngModel","ngModelChange"],[1,"contact-submit-holder"],["type","submit","value","SEND",3,"click"]],template:function(i,s){i&1&&(z(0,"div",0)(1,"div",1,2),it(3,"app-nav-panel",3)(4,"app-homepage",null,4)(6,"app-information",null,5)(8,"app-certifications",null,6)(10,"app-skills",null,7),z(12,"section",8)(13,"h2",9),J(14,"CONTACT"),W(),z(15,"div",10)(16,"div",11)(17,"p")(18,"input",12),hn("ngModelChange",function(a){return s.subject=a}),W()(),z(19,"p")(20,"textarea",13),hn("ngModelChange",function(a){return s.message=a}),W()(),z(21,"p",14)(22,"input",15),hn("click",function(){return s.toMail()}),W()()()()()()()),i&2&&(we(3),yt("selected",s.selected),we(15),yt("ngModel",s.subject),we(2),yt("ngModel",s.message))},dependencies:[Jn,XP,ZP,JP,eO,tO,CO,Yp,wO,jC]});let t=e;return t})();vS(TO,YP).catch(t=>console.error(t));
